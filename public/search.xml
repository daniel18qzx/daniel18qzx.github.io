<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>基本语法</title>
    <url>/Python/24578/</url>
    <content><![CDATA[<h2 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===一维数组===&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>([i * <span class="number">2</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>)])</span><br><span class="line"><span class="built_in">print</span>([i * i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>)])</span><br><span class="line"><span class="built_in">print</span>([i * i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>) <span class="keyword">if</span> (i % <span class="number">3</span>) == <span class="number">0</span>])</span><br><span class="line"><span class="built_in">print</span>([(x, y) <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>) <span class="keyword">for</span> y <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>)])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===二维数组===&quot;</span>)</span><br><span class="line">a = [[<span class="number">3</span>] * (i + <span class="number">1</span>) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>)]</span><br><span class="line"><span class="built_in">print</span>(a[<span class="number">2</span>])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===乘法的问题===&quot;</span>)</span><br><span class="line">a = [[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]] * <span class="number">3</span></span><br><span class="line">a[<span class="number">1</span>][<span class="number">1</span>] = <span class="number">100</span></span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===解决方法===&quot;</span>)</span><br><span class="line">a = [[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>] <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>)]</span><br><span class="line">a[<span class="number">1</span>][<span class="number">1</span>] = <span class="number">100</span></span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<pre><code>===一维数组===
[0, 2, 4, 6, 8, 10, 12, 14, 16, 18]
[0, 1, 4, 9, 16, 25, 36, 49, 64, 81]
[0, 9, 36, 81]
[(0, 0), (0, 1), (0, 2), (1, 0), (1, 1), (1, 2), (2, 0), (2, 1), (2, 2)]

===二维数组===
[3, 3, 3]

===乘法的问题===
[[1, 100, 3], [1, 100, 3], [1, 100, 3]]

===解决方法===
[[1, 2, 3], [1, 100, 3], [1, 2, 3]]
</code></pre><h2 id="字典"><a href="#字典" class="headerlink" title="字典"></a>字典</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===初始化===&quot;</span>)</span><br><span class="line">d = &#123;<span class="string">&#x27;a&#x27;</span>:<span class="number">1</span>, <span class="number">2</span>:<span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>:<span class="number">3</span>, <span class="number">4</span>:<span class="string">&#x27;d&#x27;</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(d)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===获取长度===&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">len</span>(d))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===根据key读写===&quot;</span>)</span><br><span class="line">d[<span class="string">&#x27;a&#x27;</span>] = <span class="number">100</span></span><br><span class="line">d[<span class="number">4</span>] = <span class="string">&#x27;dd&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(d)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===添加元素===&quot;</span>)</span><br><span class="line">d[<span class="string">&#x27;e&#x27;</span>] = <span class="number">5</span></span><br><span class="line">d[<span class="number">6</span>] = <span class="string">&#x27;f&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(d)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===删除元素===&quot;</span>)</span><br><span class="line">d = &#123;<span class="string">&#x27;a&#x27;</span>:<span class="number">1</span>, <span class="number">2</span>:<span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>:<span class="number">3</span>, <span class="number">4</span>:<span class="string">&#x27;d&#x27;</span>&#125;</span><br><span class="line"><span class="keyword">del</span>(d[<span class="string">&#x27;a&#x27;</span>])</span><br><span class="line"><span class="keyword">del</span>(d[<span class="number">2</span>])</span><br><span class="line"><span class="built_in">print</span>(d)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===判断key是否存在===&quot;</span>)</span><br><span class="line">d = &#123;<span class="string">&#x27;a&#x27;</span>:<span class="number">1</span>, <span class="number">2</span>:<span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>:<span class="number">3</span>, <span class="number">4</span>:<span class="string">&#x27;d&#x27;</span>&#125;</span><br><span class="line"><span class="keyword">if</span> <span class="string">&#x27;a&#x27;</span> <span class="keyword">in</span> d:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;a in d&#x27;</span>)</span><br><span class="line"><span class="keyword">if</span> <span class="number">2</span> <span class="keyword">in</span> d:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;2 in d&#x27;</span>)</span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> (<span class="string">&#x27;x&#x27;</span> <span class="keyword">in</span> d):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;x not in d&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===判断字典是否为空===&quot;</span>)</span><br><span class="line">d = &#123;&#125;</span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> d:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;d is empty&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===遍历===&quot;</span>)</span><br><span class="line">d = &#123;<span class="string">&#x27;a&#x27;</span>:<span class="number">1</span>, <span class="number">2</span>:<span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>:<span class="number">3</span>, <span class="number">4</span>:<span class="string">&#x27;d&#x27;</span>&#125;</span><br><span class="line"><span class="keyword">for</span> k <span class="keyword">in</span> d.keys():</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">str</span>(k) + <span class="string">&#x27;: &#x27;</span> + <span class="built_in">str</span>(d[k]))</span><br><span class="line"><span class="keyword">for</span> k, v <span class="keyword">in</span> d.items():</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">str</span>(k) + <span class="string">&#x27;: &#x27;</span> + <span class="built_in">str</span>(v))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<pre><code>===初始化===
&#123;&#39;a&#39;: 1, 2: &#39;b&#39;, &#39;c&#39;: 3, 4: &#39;d&#39;&#125;

===获取长度===
4

===根据key读写===
&#123;&#39;a&#39;: 100, 2: &#39;b&#39;, &#39;c&#39;: 3, 4: &#39;dd&#39;&#125;

===添加元素===
&#123;&#39;a&#39;: 100, 2: &#39;b&#39;, &#39;c&#39;: 3, 4: &#39;dd&#39;, &#39;e&#39;: 5, 6: &#39;f&#39;&#125;

===删除元素===
&#123;&#39;c&#39;: 3, 4: &#39;d&#39;&#125;

===判断key是否存在===
a in d
2 in d
x not in d

===判断字典是否为空===
d is empty

===遍历===
a: 1
2: b
c: 3
4: d
a: 1
2: b
c: 3
4: d
</code></pre><h2 id="集合"><a href="#集合" class="headerlink" title="集合"></a>集合</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===初始化===&quot;</span>)</span><br><span class="line">s_a = <span class="built_in">set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>])</span><br><span class="line">s_b = <span class="built_in">set</span>([<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>])</span><br><span class="line"><span class="built_in">print</span>(s_a)</span><br><span class="line"><span class="built_in">print</span>(s_b)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===获取长度===&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">len</span>(s_a))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">len</span>(s_b))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===添加元素===&quot;</span>)</span><br><span class="line">s_a.add(<span class="number">6</span>)</span><br><span class="line">s_a.add(<span class="number">6</span>)</span><br><span class="line">s_a.update([<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>])</span><br><span class="line"><span class="built_in">print</span>(s_a)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===删除元素===&quot;</span>)</span><br><span class="line">s_a.remove(<span class="number">8</span>)</span><br><span class="line">s_a.remove(<span class="number">9</span>)</span><br><span class="line"><span class="built_in">print</span>(s_a)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===判断元素是否存在===&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="number">1</span> <span class="keyword">in</span> s_a)</span><br><span class="line"><span class="built_in">print</span>(<span class="number">10</span> <span class="keyword">in</span> s_a)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===判断集合是否为空===&quot;</span>)</span><br><span class="line">s_a = <span class="built_in">set</span>([])</span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> s_a:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;set is empty&#x27;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;set is not empty&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===遍历===&quot;</span>)</span><br><span class="line">s_a = <span class="built_in">set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>])</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> s_a:</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===集合操作===&quot;</span>)</span><br><span class="line">s_a = <span class="built_in">set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>])</span><br><span class="line">s_b = <span class="built_in">set</span>([<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>])</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===并集===&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(s_a | s_b)</span><br><span class="line"><span class="built_in">print</span>(s_a.union(s_b))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===交集===&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(s_a &amp; s_b)</span><br><span class="line"><span class="built_in">print</span>(s_a.intersection(s_b))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===差集 s_a - (s_a and s_b)===&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(s_a - s_b)</span><br><span class="line"><span class="built_in">print</span>(s_a.difference(s_b))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===对称差===&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(s_a ^ s_b)</span><br><span class="line"><span class="built_in">print</span>((s_a | s_b) - (s_a &amp; s_b))</span><br><span class="line"><span class="built_in">print</span>(s_a.symmetric_difference(s_b))</span><br></pre></td></tr></table></figure>
<pre><code>===初始化===
&#123;1, 2, 3, 4, 5&#125;
&#123;1, 2, 3, 4, 5&#125;

===获取长度===
5
5

===添加元素===
&#123;1, 2, 3, 4, 5, 6, 7, 8, 9&#125;

===删除元素===
&#123;1, 2, 3, 4, 5, 6, 7&#125;

===判断元素是否存在===
True
False

===判断集合是否为空===
set is empty

===遍历===
1
2
3
4
5

===集合操作===
===并集===
&#123;1, 2, 3, 4, 5, 6, 7, 8&#125;
&#123;1, 2, 3, 4, 5, 6, 7, 8&#125;

===交集===
&#123;4, 5&#125;
&#123;4, 5&#125;

===差集 s_a - (s_a and s_b)===
&#123;1, 2, 3&#125;
&#123;1, 2, 3&#125;

===对称差===
&#123;1, 2, 3, 6, 7, 8&#125;
&#123;1, 2, 3, 6, 7, 8&#125;
&#123;1, 2, 3, 6, 7, 8&#125;
</code></pre><h2 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===初始化列表===&quot;</span>)</span><br><span class="line">li = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="string">&#x27;abc&#x27;</span>, <span class="number">4.5</span>, [<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>], &#123;<span class="number">1</span>:<span class="string">&#x27;one&#x27;</span>&#125;]</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===获取长度===&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">len</span>(li))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===根据索引读写===&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(li[<span class="number">0</span>])</span><br><span class="line"><span class="built_in">print</span>(li[<span class="number">3</span>])</span><br><span class="line"><span class="built_in">print</span>(li[-<span class="number">1</span>])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===添加元素===&quot;</span>)</span><br><span class="line">li = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">li.append(<span class="string">&#x27;a&#x27;</span>)</span><br><span class="line">li.append(<span class="string">&#x27;b&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(li)</span><br><span class="line">li.append([<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>])</span><br><span class="line"><span class="built_in">print</span>(li)</span><br><span class="line">li = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">li.extend([<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>])</span><br><span class="line"><span class="built_in">print</span>(li)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===删除元素===&quot;</span>)</span><br><span class="line">li = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line">li.pop()</span><br><span class="line"><span class="built_in">print</span>(li)</span><br><span class="line"><span class="keyword">del</span>(li[<span class="number">0</span>])</span><br><span class="line"><span class="keyword">del</span>(li[<span class="number">1</span>])</span><br><span class="line"><span class="built_in">print</span>(li)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===元素是否存在===&quot;</span>)</span><br><span class="line">li = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line"><span class="built_in">print</span>(<span class="number">1</span> <span class="keyword">in</span> li)</span><br><span class="line"><span class="built_in">print</span>(<span class="number">6</span> <span class="keyword">in</span> li)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===列表是否为空===&quot;</span>)</span><br><span class="line">li = []</span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> li:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;Empty&#x27;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;Not empty&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===字符串===&quot;</span>)</span><br><span class="line">s = <span class="string">&#x27;abcdefg&#x27;</span></span><br><span class="line">li = <span class="built_in">list</span>(s)</span><br><span class="line">li[<span class="number">4</span>] = <span class="string">&#x27;E&#x27;</span></span><br><span class="line">li[<span class="number">5</span>] = <span class="string">&#x27;F&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(li)</span><br><span class="line">s = <span class="string">&#x27;&#x27;</span>.join(li)</span><br><span class="line"><span class="built_in">print</span>(s)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===遍历===&quot;</span>)</span><br><span class="line">li = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> li:</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(li)):</span><br><span class="line">    <span class="built_in">print</span>(li[i])</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<pre><code>===初始化列表===
===获取长度===
7

===根据索引读写===
1
abc
&#123;1: &#39;one&#39;&#125;

===添加元素===
[1, 2, 3, &#39;a&#39;, &#39;b&#39;]
[1, 2, 3, &#39;a&#39;, &#39;b&#39;, [4, 5, 6]]
[1, 2, 3, 4, 5, 6]

===删除元素===
[1, 2, 3, 4]
[2, 4]

===元素是否存在===
True
False

===列表是否为空===
Empty

===字符串===
[&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;E&#39;, &#39;F&#39;, &#39;g&#39;]
abcdEFg

===遍历===
1
2
3
1
2
3
</code></pre><h2 id="切片"><a href="#切片" class="headerlink" title="切片"></a>切片</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">li = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>]</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===切片===&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(li[<span class="number">2</span>:<span class="number">5</span>])</span><br><span class="line"><span class="built_in">print</span>(li[:<span class="number">4</span>])</span><br><span class="line"><span class="built_in">print</span>(li[<span class="number">5</span>:])</span><br><span class="line"><span class="built_in">print</span>(li[:])</span><br><span class="line"><span class="built_in">print</span>(li[<span class="number">0</span>:<span class="number">6</span>:<span class="number">2</span>])</span><br><span class="line"><span class="built_in">print</span>(li[<span class="number">3</span>::<span class="number">2</span>])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===负数索引和step===&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(li[::-<span class="number">1</span>])</span><br><span class="line"><span class="built_in">print</span>(li[::-<span class="number">2</span>])</span><br><span class="line"><span class="built_in">print</span>(li[-<span class="number">6</span>:-<span class="number">1</span>:<span class="number">1</span>])</span><br><span class="line"><span class="built_in">print</span>(li[-<span class="number">1</span>::-<span class="number">1</span>])</span><br></pre></td></tr></table></figure>
<pre><code>===切片===
[2, 3, 4]
[0, 1, 2, 3]
[5, 6, 7, 8, 9, 10]
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
[0, 2, 4]
[3, 5, 7, 9]

===负数索引和step===
[10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0]
[10, 8, 6, 4, 2, 0]
[5, 6, 7, 8, 9]
[10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0]
</code></pre><h2 id="json处理"><a href="#json处理" class="headerlink" title="json处理"></a>json处理</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===dict与json互转===&quot;</span>)</span><br><span class="line">d = &#123;<span class="string">&#x27;Python&#x27;</span>:<span class="number">100</span>, <span class="string">&#x27;C++&#x27;</span>:<span class="number">70</span>, <span class="string">&#x27;Basic&#x27;</span>:<span class="number">60</span>, <span class="string">&#x27;others&#x27;</span>:&#123;<span class="string">&#x27;C&#x27;</span>:<span class="number">65</span>, <span class="string">&#x27;Java&#x27;</span>:<span class="number">50</span>&#125;&#125;</span><br><span class="line">jtxt = json.dumps(d)</span><br><span class="line">dd = json.loads(jtxt)</span><br><span class="line"><span class="built_in">print</span>(jtxt)</span><br><span class="line"><span class="built_in">print</span>(dd)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===用json序列化非dict对象===&quot;</span>)</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name, age, score</span>):</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line">        self.score = score</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;%s: %d, %d&#x27;</span> % (self.name, self.age, self.score)</span><br><span class="line"></span><br><span class="line">s = Student(<span class="string">&#x27;Tom&#x27;</span>, <span class="number">15</span>, <span class="number">85</span>)</span><br><span class="line"><span class="built_in">print</span>(s)</span><br><span class="line"><span class="built_in">print</span>(s.__dict__)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===方法1===&quot;</span>)</span><br><span class="line">jtxt = json.dumps(s, default = <span class="keyword">lambda</span> obj: obj.__dict__)</span><br><span class="line"><span class="built_in">print</span>(jtxt)</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">d2s</span>(<span class="params">d</span>):</span></span><br><span class="line">    <span class="keyword">return</span> Student(d[<span class="string">&#x27;name&#x27;</span>], d[<span class="string">&#x27;age&#x27;</span>], d[<span class="string">&#x27;score&#x27;</span>])</span><br><span class="line"><span class="built_in">print</span>(json.loads(jtxt, object_hook = d2s))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===方法2===&quot;</span>)</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">s2d</span>(<span class="params">s</span>):</span></span><br><span class="line">    <span class="keyword">return</span> s.__dict__</span><br><span class="line">jtxt = json.dumps(s, default = s2d)</span><br><span class="line"><span class="built_in">print</span>(jtxt)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<pre><code>===dict与json互转===
&#123;&quot;Python&quot;: 100, &quot;C++&quot;: 70, &quot;Basic&quot;: 60, &quot;others&quot;: &#123;&quot;C&quot;: 65, &quot;Java&quot;: 50&#125;&#125;
&#123;&#39;Python&#39;: 100, &#39;C++&#39;: 70, &#39;Basic&#39;: 60, &#39;others&#39;: &#123;&#39;C&#39;: 65, &#39;Java&#39;: 50&#125;&#125;

===用json序列化非dict对象===
Tom: 15, 85
&#123;&#39;name&#39;: &#39;Tom&#39;, &#39;age&#39;: 15, &#39;score&#39;: 85&#125;

===方法1===
&#123;&quot;name&quot;: &quot;Tom&quot;, &quot;age&quot;: 15, &quot;score&quot;: 85&#125;
Tom: 15, 85

===方法2===
&#123;&quot;name&quot;: &quot;Tom&quot;, &quot;age&quot;: 15, &quot;score&quot;: 85&#125;
</code></pre><h2 id="class"><a href="#class" class="headerlink" title="class"></a>class</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, val</span>):</span></span><br><span class="line">        self.val = val</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">display</span>(<span class="params">self, s</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;%s: %d&#x27;</span> % (s, self.val))</span><br><span class="line"></span><br><span class="line">m = MyClass(<span class="number">100</span>)</span><br><span class="line"><span class="built_in">print</span>(m.val)</span><br><span class="line">m.display(<span class="string">&#x27;hello&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line">m2 = m</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(m))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(m2))</span><br><span class="line"></span><br><span class="line">fn = m.display</span><br><span class="line">fn(<span class="string">&#x27;hey&#x27;</span>)</span><br></pre></td></tr></table></figure>
<pre><code>100
hello: 100

4539482520
4539482520
hey: 100
</code></pre><h2 id="generator"><a href="#generator" class="headerlink" title="generator"></a>generator</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fab</span>(<span class="params"><span class="built_in">max</span></span>):</span> </span><br><span class="line">    n, a, b = <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span> </span><br><span class="line">    <span class="keyword">while</span> n &lt; <span class="built_in">max</span>: </span><br><span class="line">        <span class="keyword">yield</span> b </span><br><span class="line">        <span class="comment"># print b </span></span><br><span class="line">        a, b = b, a + b </span><br><span class="line">        n = n + <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> n</span><br><span class="line">        </span><br><span class="line"><span class="keyword">for</span> n <span class="keyword">in</span> fab(<span class="number">5</span>):</span><br><span class="line">    <span class="built_in">print</span>(n)</span><br></pre></td></tr></table></figure>
<pre><code>1
1
2
3
5
</code></pre><blockquote>
<p>参考：</p>
</blockquote>
<ol>
<li><a class="link"   href="https://www.julyedu.com/course/getDetail/66/" >廖雪峰Python数据分析<i class="fas fa-external-link-alt"></i></a></li>
<li><a class="link"   href="https://www.ibm.com/developerworks/cn/opensource/os-cn-python-yield/" >yield讲解<i class="fas fa-external-link-alt"></i></a></li>
</ol>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
  </entry>
  <entry>
    <title>Matplotlib</title>
    <url>/Python/16372/</url>
    <content><![CDATA[<h2 id="基本配置与标记"><a href="#基本配置与标记" class="headerlink" title="基本配置与标记"></a>基本配置与标记</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#coding:utf-8</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> pylab <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义数据部分</span></span><br><span class="line">x = np.arange(<span class="number">0.</span>, <span class="number">10</span>, <span class="number">0.2</span>)</span><br><span class="line">y1 = np.cos(x)</span><br><span class="line">y2 = np.sin(x)</span><br><span class="line">y3 = np.sqrt(x)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘制 3 条函数曲线</span></span><br><span class="line">plt.plot(x, y1, color=<span class="string">&#x27;blue&#x27;</span>, linewidth=<span class="number">1.5</span>, linestyle=<span class="string">&#x27;-&#x27;</span>, marker=<span class="string">&#x27;.&#x27;</span>, label=<span class="string">r&#x27;$y = cos&#123;x&#125;$&#x27;</span>)</span><br><span class="line">plt.plot(x, y2, color=<span class="string">&#x27;green&#x27;</span>, linewidth=<span class="number">1.5</span>, linestyle=<span class="string">&#x27;-&#x27;</span>, marker=<span class="string">&#x27;*&#x27;</span>, label=<span class="string">r&#x27;$y = sin&#123;x&#125;$&#x27;</span>)</span><br><span class="line">plt.plot(x, y3, color=<span class="string">&#x27;m&#x27;</span>, linewidth=<span class="number">1.5</span>, linestyle=<span class="string">&#x27;-&#x27;</span>, marker=<span class="string">&#x27;x&#x27;</span>, label=<span class="string">r&#x27;$y = \sqrt&#123;x&#125;$&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 坐标轴上移</span></span><br><span class="line">ax = plt.subplot(<span class="number">111</span>)</span><br><span class="line">ax.spines[<span class="string">&#x27;right&#x27;</span>].set_color(<span class="string">&#x27;none&#x27;</span>)     <span class="comment"># 去掉右边的边框线</span></span><br><span class="line">ax.spines[<span class="string">&#x27;top&#x27;</span>].set_color(<span class="string">&#x27;none&#x27;</span>)       <span class="comment"># 去掉上边的边框线</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 移动下边边框线，相当于移动 X 轴</span></span><br><span class="line">ax.xaxis.set_ticks_position(<span class="string">&#x27;bottom&#x27;</span>)    </span><br><span class="line">ax.spines[<span class="string">&#x27;bottom&#x27;</span>].set_position((<span class="string">&#x27;data&#x27;</span>, <span class="number">0</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 移动左边边框线，相当于移动 y 轴</span></span><br><span class="line">ax.yaxis.set_ticks_position(<span class="string">&#x27;left&#x27;</span>)</span><br><span class="line">ax.spines[<span class="string">&#x27;left&#x27;</span>].set_position((<span class="string">&#x27;data&#x27;</span>, <span class="number">0</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置 x, y 轴的取值范围</span></span><br><span class="line">plt.xlim(x.<span class="built_in">min</span>()*<span class="number">1.1</span>, x.<span class="built_in">max</span>()*<span class="number">1.1</span>)</span><br><span class="line">plt.ylim(-<span class="number">1.5</span>, <span class="number">4.0</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置 x, y 轴的刻度值</span></span><br><span class="line">plt.xticks([<span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">10</span>], [<span class="string">r&#x27;2&#x27;</span>, <span class="string">r&#x27;4&#x27;</span>, <span class="string">r&#x27;6&#x27;</span>, <span class="string">r&#x27;8&#x27;</span>, <span class="string">r&#x27;10&#x27;</span>])</span><br><span class="line">plt.yticks([-<span class="number">1.0</span>, <span class="number">0.0</span>, <span class="number">1.0</span>, <span class="number">2.0</span>, <span class="number">3.0</span>, <span class="number">4.0</span>], </span><br><span class="line">    [<span class="string">r&#x27;-1.0&#x27;</span>, <span class="string">r&#x27;0.0&#x27;</span>, <span class="string">r&#x27;1.0&#x27;</span>, <span class="string">r&#x27;2.0&#x27;</span>, <span class="string">r&#x27;3.0&#x27;</span>, <span class="string">r&#x27;4.0&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># 添加文字</span></span><br><span class="line">plt.text(<span class="number">4</span>, <span class="number">1.68</span>, <span class="string">r&#x27;$x \in [0.0, \ 10.0]$&#x27;</span>, color=<span class="string">&#x27;k&#x27;</span>, fontsize=<span class="number">15</span>)</span><br><span class="line">plt.text(<span class="number">4</span>, <span class="number">1.38</span>, <span class="string">r&#x27;$y \in [-1.0, \ 4.0]$&#x27;</span>, color=<span class="string">&#x27;k&#x27;</span>, fontsize=<span class="number">15</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 特殊点添加注解</span></span><br><span class="line">plt.scatter([<span class="number">8</span>,],[np.sqrt(<span class="number">8</span>),], <span class="number">50</span>, color =<span class="string">&#x27;m&#x27;</span>)  <span class="comment"># 使用散点图放大当前点</span></span><br><span class="line">plt.annotate(<span class="string">r&#x27;$2\sqrt&#123;2&#125;$&#x27;</span>, xy=(<span class="number">8</span>, np.sqrt(<span class="number">8</span>)), xytext=(<span class="number">8.5</span>, <span class="number">2.2</span>), fontsize=<span class="number">16</span>, color=<span class="string">&#x27;#090909&#x27;</span>, arrowprops=<span class="built_in">dict</span>(arrowstyle=<span class="string">&#x27;-&gt;&#x27;</span>, connectionstyle=<span class="string">&#x27;arc3, rad=0.1&#x27;</span>, color=<span class="string">&#x27;#090909&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置标题、x轴、y轴</span></span><br><span class="line">plt.title(<span class="string">r&#x27;$the \ function \ figure \ of \ cos(), \ sin() \ and \ sqrt()$&#x27;</span>, fontsize=<span class="number">19</span>)</span><br><span class="line">plt.xlabel(<span class="string">r&#x27;$the \ input \ value \ of \ x$&#x27;</span>, fontsize=<span class="number">18</span>, labelpad=<span class="number">88.8</span>)</span><br><span class="line">plt.ylabel(<span class="string">r&#x27;$y = f(x)$&#x27;</span>, fontsize=<span class="number">18</span>, labelpad=<span class="number">12.5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置图例及位置</span></span><br><span class="line">plt.legend(loc=<span class="string">&#x27;upper right&#x27;</span>)    </span><br><span class="line"><span class="comment"># plt.legend([&#x27;cos(x)&#x27;, &#x27;sin(x)&#x27;, &#x27;sqrt(x)&#x27;], loc=&#x27;up right&#x27;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 显示网格线</span></span><br><span class="line">plt.grid(<span class="literal">True</span>)    </span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘图</span></span><br><span class="line">plt.savefig(<span class="string">&quot;../img/2019-06-24_Matplotlib基本语法_1.png&quot;</span>)</span><br><span class="line">plt.close()</span><br></pre></td></tr></table></figure>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/img/2019-06-24_Matplotlib基本语法_1.png"
                      alt=""
                ></p>
<h2 id="曲线图"><a href="#曲线图" class="headerlink" title="曲线图"></a>曲线图</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">x = np.arange(-<span class="number">5</span>,<span class="number">5</span>,<span class="number">0.1</span>)</span><br><span class="line">y = x ** <span class="number">2</span></span><br><span class="line">plt.plot(x,y)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘图</span></span><br><span class="line">plt.savefig(<span class="string">&quot;../img/2019-06-24_Matplotlib基本语法_2.png&quot;</span>)</span><br><span class="line">plt.close()</span><br></pre></td></tr></table></figure>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/img/2019-06-24_Matplotlib基本语法_2.png"
                      alt=""
                ></p>
<h2 id="散布图"><a href="#散布图" class="headerlink" title="散布图"></a>散布图</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">n = <span class="number">1024</span></span><br><span class="line">X = np.random.normal(<span class="number">0</span>, <span class="number">1</span>, n)</span><br><span class="line">Y = np.random.normal(<span class="number">0</span>, <span class="number">1</span>, n)</span><br><span class="line"></span><br><span class="line">plt.scatter(X,Y)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘图</span></span><br><span class="line">plt.savefig(<span class="string">&quot;../img/2019-06-24_Matplotlib基本语法_3.png&quot;</span>)</span><br><span class="line">plt.close()</span><br></pre></td></tr></table></figure>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/img/2019-06-24_Matplotlib基本语法_3.png"
                      alt=""
                ></p>
<h2 id="柱状图"><a href="#柱状图" class="headerlink" title="柱状图"></a>柱状图</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">x = np.random.normal(size=<span class="number">1000</span>)</span><br><span class="line">plt.hist(x, bins=<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘图</span></span><br><span class="line">plt.savefig(<span class="string">&quot;../img/2019-06-24_Matplotlib基本语法_4.png&quot;</span>)</span><br><span class="line">plt.close()</span><br></pre></td></tr></table></figure>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/img/2019-06-24_Matplotlib基本语法_4.png"
                      alt=""
                ></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">n = <span class="number">12</span></span><br><span class="line">X = np.arange(n)</span><br><span class="line">Y1 = (<span class="number">1</span>- X / <span class="built_in">float</span>(n)) * np.random.uniform(<span class="number">0.5</span>, <span class="number">1.0</span>, n)</span><br><span class="line">Y2 = (<span class="number">1</span>- X/ <span class="built_in">float</span>(n)) * np.random.uniform(<span class="number">0.5</span>, <span class="number">1.0</span>, n)</span><br><span class="line"></span><br><span class="line">plt.axes([<span class="number">0.025</span>, <span class="number">0.025</span>, <span class="number">0.95</span>, <span class="number">0.95</span>])</span><br><span class="line">plt.bar(X, +Y1, facecolor = <span class="string">&#x27;#9999ff&#x27;</span>, edgecolor = <span class="string">&#x27;white&#x27;</span>)</span><br><span class="line">plt.bar(X, -Y2, facecolor = <span class="string">&#x27;#ff9999&#x27;</span>, edgecolor = <span class="string">&#x27;white&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> x,y <span class="keyword">in</span> <span class="built_in">zip</span>(X,Y1):</span><br><span class="line">    plt.text(x, y + <span class="number">0.08</span>, <span class="string">&#x27;%.2f&#x27;</span> % y, ha = <span class="string">&#x27;center&#x27;</span>, va = <span class="string">&#x27;bottom&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> x,y <span class="keyword">in</span> <span class="built_in">zip</span>(X,Y2):</span><br><span class="line">    plt.text(x, -y - <span class="number">0.08</span>, <span class="string">&#x27;%.2f&#x27;</span> % y, ha = <span class="string">&#x27;center&#x27;</span>, va= <span class="string">&#x27;top&#x27;</span>)</span><br><span class="line"></span><br><span class="line">plt.xlim(-<span class="number">.5</span>, n), </span><br><span class="line">plt.ylim(-<span class="number">1.25</span>, +<span class="number">1.25</span>), </span><br><span class="line">plt.xticks([])</span><br><span class="line">plt.yticks([])</span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘图</span></span><br><span class="line">plt.savefig(<span class="string">&quot;../img/2019-06-24_Matplotlib基本语法_5.png&quot;</span>)</span><br><span class="line">plt.close()</span><br></pre></td></tr></table></figure>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/img/2019-06-24_Matplotlib基本语法_5.png"
                      alt=""
                ></p>
<h2 id="3D图"><a href="#3D图" class="headerlink" title="3D图"></a>3D图</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> mpl_toolkits.mplot3d <span class="keyword">import</span> Axes3D</span><br><span class="line"></span><br><span class="line">fig = plt.figure()</span><br><span class="line">ax = Axes3D(fig)</span><br><span class="line">X = np.arange(-<span class="number">4</span>, <span class="number">4</span>, <span class="number">0.25</span>)</span><br><span class="line">Y = np.arange(-<span class="number">4</span>, <span class="number">4</span>, <span class="number">0.25</span>)</span><br><span class="line">X, Y = np.meshgrid(X, Y)</span><br><span class="line">R = np.sqrt(X ** <span class="number">2</span> + Y ** <span class="number">2</span>)</span><br><span class="line">Z = np.sin(R)</span><br><span class="line"></span><br><span class="line">ax.plot_surface(X, Y, Z, rstride = <span class="number">1</span>, cstride=<span class="number">1</span>, cmap = plt.cm.hot)</span><br><span class="line">ax.contourf(X, Y, Z, zdir = <span class="string">&#x27;z&#x27;</span>, offset = -<span class="number">2</span>, cmap = plt.cm.hot)</span><br><span class="line">ax.set_zlim(-<span class="number">2</span>,<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘图</span></span><br><span class="line">plt.savefig(<span class="string">&quot;../img/2019-06-24_Matplotlib基本语法_6.png&quot;</span>)</span><br><span class="line">plt.close()</span><br></pre></td></tr></table></figure>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/img/2019-06-24_Matplotlib基本语法_6.png"
                      alt=""
                ></p>
<blockquote>
<p>参考：</p>
</blockquote>
<ol>
<li><a class="link"   href="https://www.julyedu.com/course/getDetail/66/" >廖雪峰Python数据分析<i class="fas fa-external-link-alt"></i></a></li>
</ol>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
  </entry>
  <entry>
    <title>Numpy</title>
    <url>/Python/54426/</url>
    <content><![CDATA[<h2 id="生成数组"><a href="#生成数组" class="headerlink" title="生成数组"></a>生成数组</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===使用普通一维数组生成NumPy一维数组===&quot;</span>)</span><br><span class="line">data = [<span class="number">6</span>, <span class="number">7.5</span>, <span class="number">8</span>, <span class="number">0</span>, <span class="number">1</span>]</span><br><span class="line">arr = np.array(data)</span><br><span class="line"><span class="built_in">print</span>(arr)</span><br><span class="line"><span class="built_in">print</span>(arr.dtype) <span class="comment"># 类型</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===使用普通二维数组生成NumPy二维数组===&quot;</span>)</span><br><span class="line">data = [[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>], [<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>]]</span><br><span class="line">arr = np.array(data)</span><br><span class="line"><span class="built_in">print</span>(arr)</span><br><span class="line"><span class="built_in">print</span>(arr.shape) <span class="comment"># 维度</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===使用内置函数创建数组===&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(np.zeros(<span class="number">10</span>)) <span class="comment"># 生成包含10个0的一维数组</span></span><br><span class="line"><span class="built_in">print</span>(np.zeros((<span class="number">3</span>, <span class="number">6</span>))) <span class="comment"># 生成3*6的二维数组</span></span><br><span class="line"><span class="built_in">print</span>(np.empty((<span class="number">2</span>, <span class="number">3</span>, <span class="number">2</span>))) <span class="comment"># 生成2*3*2的三维数组，所有元素未初始化。</span></span><br><span class="line"><span class="built_in">print</span>(np.empty_like((<span class="number">2</span>, <span class="number">3</span>, <span class="number">2</span>))) <span class="comment"># 生成2*3*2的三维数组，所有元素未初始化。</span></span><br><span class="line"><span class="built_in">print</span>(np.ones((<span class="number">1</span>,<span class="number">2</span>)))</span><br><span class="line"><span class="built_in">print</span>(np.full((<span class="number">2</span>,<span class="number">2</span>), <span class="number">8</span>))</span><br><span class="line"><span class="built_in">print</span>(np.eye(<span class="number">3</span>))</span><br><span class="line"><span class="built_in">print</span>(np.random.random((<span class="number">3</span>,<span class="number">2</span>)))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===使用arrange生成连续元素===&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(np.arange(<span class="number">15</span>))  <span class="comment"># [0, 1, 2, ..., 14]</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===broadcasting===&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(np.arange(<span class="number">3</span>).reshape((<span class="number">3</span>,<span class="number">1</span>))+np.arange(<span class="number">3</span>))</span><br></pre></td></tr></table></figure>
<pre><code>===使用普通一维数组生成NumPy一维数组===
[6.  7.5 8.  0.  1. ]
float64

===使用普通二维数组生成NumPy二维数组===
[[1 2 3 4]
 [5 6 7 8]]
(2, 4)

===使用内置函数创建数组===
[0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]
[[0. 0. 0. 0. 0. 0.]
 [0. 0. 0. 0. 0. 0.]
 [0. 0. 0. 0. 0. 0.]]
[[[4.9e-324 9.9e-324]
  [1.5e-323 2.0e-323]
  [2.5e-323 3.0e-323]]

 [[3.5e-323 4.0e-323]
  [4.4e-323 4.9e-323]
  [5.4e-323 5.9e-323]]]
[4607182418800017408 4607182418800017408 4607182418800017408]
[[1. 1.]]
[[8 8]
 [8 8]]
[[1. 0. 0.]
 [0. 1. 0.]
 [0. 0. 1.]]
[[0.46824109 0.9710855 ]
 [0.41688259 0.20446181]
 [0.31828888 0.2797158 ]]

===使用arrange生成连续元素===
[ 0  1  2  3  4  5  6  7  8  9 10 11 12 13 14]

===broadcasting===
[[0 1 2]
 [1 2 3]
 [2 3 4]]
</code></pre><h2 id="堆叠"><a href="#堆叠" class="headerlink" title="堆叠"></a>堆叠</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">x = np.array([[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>]], dtype=np.float64)</span><br><span class="line">y = np.array([[<span class="number">5</span>,<span class="number">6</span>],[<span class="number">7</span>,<span class="number">8</span>]], dtype=np.float64)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(np.hstack((x,y)))</span><br><span class="line"><span class="built_in">print</span>(np.vstack((x,y)))</span><br></pre></td></tr></table></figure>
<pre><code>[[1. 2. 5. 6.]
 [3. 4. 7. 8.]]
[[1. 2.]
 [3. 4.]
 [5. 6.]
 [7. 8.]]
</code></pre><h2 id="运算"><a href="#运算" class="headerlink" title="运算"></a>运算</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">x = np.array([[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>]], dtype=np.float64)</span><br><span class="line">y = np.array([[<span class="number">5</span>,<span class="number">6</span>],[<span class="number">7</span>,<span class="number">8</span>]], dtype=np.float64)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===逐元素运算===&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(x+y)</span><br><span class="line"><span class="built_in">print</span>(x-y)</span><br><span class="line"><span class="built_in">print</span>(x*y)</span><br><span class="line"><span class="built_in">print</span>(x/y)</span><br><span class="line"><span class="built_in">print</span>(np.sqrt(x))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===矩阵内元素运算===&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(x.<span class="built_in">sum</span>())</span><br><span class="line"><span class="built_in">print</span>(np.<span class="built_in">sum</span>(x, axis=<span class="number">0</span>))</span><br><span class="line"><span class="built_in">print</span>(np.<span class="built_in">sum</span>(x, axis=<span class="number">1</span>))</span><br><span class="line"><span class="built_in">print</span>(np.mean(x))</span><br><span class="line"><span class="built_in">print</span>(np.mean(x, axis=<span class="number">0</span>))</span><br><span class="line"><span class="built_in">print</span>(np.mean(x, axis=<span class="number">1</span>))</span><br><span class="line"><span class="built_in">print</span>(x.cumsum(axis=<span class="number">0</span>))</span><br><span class="line"><span class="built_in">print</span>(x.cumsum(axis=<span class="number">1</span>))</span><br><span class="line"><span class="built_in">print</span>(x.cumprod(axis=<span class="number">0</span>))</span><br><span class="line"><span class="built_in">print</span>(x.cumprod(axis=<span class="number">1</span>))</span><br></pre></td></tr></table></figure>
<pre><code>===逐元素运算===
[[ 6.  8.]
 [10. 12.]]
[[-4. -4.]
 [-4. -4.]]
[[ 5. 12.]
 [21. 32.]]
[[0.2        0.33333333]
 [0.42857143 0.5       ]]
[[1.         1.41421356]
 [1.73205081 2.        ]]
===矩阵内元素运算===
10.0
[4. 6.]
[3. 7.]
</code></pre><h2 id="索引-切片"><a href="#索引-切片" class="headerlink" title="索引/切片"></a>索引/切片</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===通过索引访问二维数组某一行或某个元素===&quot;</span>)</span><br><span class="line">arr = np.array([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>], [<span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]])</span><br><span class="line"><span class="built_in">print</span>(arr[<span class="number">2</span>])</span><br><span class="line"><span class="built_in">print</span>(arr[<span class="number">0</span>][<span class="number">2</span>])</span><br><span class="line"><span class="built_in">print</span>(arr[<span class="number">0</span>, <span class="number">2</span>]) <span class="comment"># 普通Python数组不能用。</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===对更高维数组的访问和操作===&quot;</span>)</span><br><span class="line">arr = np.array([[[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]], [[<span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>], [<span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>]]])</span><br><span class="line"><span class="built_in">print</span>(arr[<span class="number">0</span>])  <span class="comment"># 结果是个2维数组</span></span><br><span class="line"><span class="built_in">print</span>(arr[<span class="number">1</span>, <span class="number">0</span>]) <span class="comment"># 结果是个2维数组</span></span><br><span class="line">old_values = arr[<span class="number">0</span>].copy()  <span class="comment"># 复制arr[0]的值</span></span><br><span class="line">arr[<span class="number">0</span>] = <span class="number">42</span> <span class="comment"># 把arr[0]所有的元素都设置为同一个值</span></span><br><span class="line"><span class="built_in">print</span>(arr)</span><br><span class="line">arr[<span class="number">0</span>] = old_values <span class="comment"># 把原来的数组写回去</span></span><br><span class="line"><span class="built_in">print</span>(arr)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===使用切片访问和操作数组===&quot;</span>)</span><br><span class="line">arr = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>])</span><br><span class="line"><span class="built_in">print</span>(arr[<span class="number">1</span>:<span class="number">6</span>])  <span class="comment"># 打印元素arr[1]到arr[5]，和list切片不同，这里是引用。</span></span><br><span class="line">arr = np.array([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>], [<span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]])</span><br><span class="line"><span class="built_in">print</span>(arr[:<span class="number">2</span>]) <span class="comment"># 打印第1、2行</span></span><br><span class="line"><span class="built_in">print</span>(arr[:<span class="number">2</span>, <span class="number">1</span>:]) <span class="comment"># 打印第1、2行，第2、3列</span></span><br><span class="line"><span class="built_in">print</span>(arr[:, :<span class="number">1</span>])  <span class="comment"># 打印第一列的所有元素</span></span><br><span class="line">arr[:<span class="number">2</span>, <span class="number">1</span>:] = <span class="number">0</span> <span class="comment"># 第1、2行，第2、3列的元素设置为0</span></span><br><span class="line"><span class="built_in">print</span>(arr)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<pre><code>===通过索引访问二维数组某一行或某个元素===
[7 8 9]
3
3

===对更高维数组的访问和操作===
[[1 2 3]
 [4 5 6]]
[7 8 9]
[[[42 42 42]
  [42 42 42]]

 [[ 7  8  9]
  [10 11 12]]]
[[[ 1  2  3]
  [ 4  5  6]]

 [[ 7  8  9]
  [10 11 12]]]

===使用切片访问和操作数组===
[2 3 4 5 6]
[[1 2 3]
 [4 5 6]]
[[2 3]
 [5 6]]
[[1]
 [4]
 [7]]
[[1 0 0]
 [4 0 0]
 [7 8 9]]
</code></pre><h2 id="矩阵"><a href="#矩阵" class="headerlink" title="矩阵"></a>矩阵</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> numpy.linalg <span class="keyword">as</span> la</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line">X = np.array([<span class="built_in">range</span>(<span class="number">0</span>, <span class="number">500</span>), <span class="built_in">range</span>(<span class="number">500</span>, <span class="number">1000</span>)])</span><br><span class="line">m, n = X.shape</span><br><span class="line"><span class="built_in">print</span>(m, n)</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">D(i, j) = ||xi - xj||^2</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">t = time.time()</span><br><span class="line">D = np.zeros([n, n])</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(i + <span class="number">1</span>, n):</span><br><span class="line">        D[i, j] = la.norm(X[:, i] - X[:, j]) ** <span class="number">2</span></span><br><span class="line">        D[j, i] = D[i, j]</span><br><span class="line"><span class="built_in">print</span>(time.time() - t)</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">|xi - xi| = sqrt((xi - xj) * (xi - xj).T)</span></span><br><span class="line"><span class="string">D(i, j) = (xi - xj) * (xi - xj).T</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">t = time.time()</span><br><span class="line">D = np.zeros([n, n])</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(i + <span class="number">1</span>, n):</span><br><span class="line">        d = X[:, i] - X[:, j]</span><br><span class="line">        D[i, j] = np.dot(d, d)</span><br><span class="line">        D[j, i] = D[i, j]</span><br><span class="line"><span class="built_in">print</span>(time.time() - t)</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">D(i, j) = (xi - xj) * (xi - xj).T</span></span><br><span class="line"><span class="string">        = xi * xi.T - xi * xj.T - xj * xi.T + xj * xj.T</span></span><br><span class="line"><span class="string">        = xi * xi.T - 2 * xi * xj.T + xj * xj.T</span></span><br><span class="line"><span class="string">G(i,j) = xi.T * xj</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">t = time.time()</span><br><span class="line">G = np.dot(X.T, X)</span><br><span class="line">D = np.zeros([n, n])</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(i + <span class="number">1</span>, n):</span><br><span class="line">        D[i, j] = G[i, i] - G[i, j] * <span class="number">2</span> + G[j,j]</span><br><span class="line">        D[j, i] = D[i, j]</span><br><span class="line"><span class="built_in">print</span>(time.time() - t)</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">H(i, j) = G(i, i)</span></span><br><span class="line"><span class="string">K(i, j) = G(j, j) = H(i, j).T</span></span><br><span class="line"><span class="string">D(i, j) = H(i, j) + K(i, j) - 2 * G(i, j)</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">t = time.time()</span><br><span class="line">G = np.dot(X.T, X)</span><br><span class="line">H = np.tile(np.diag(G), (n, <span class="number">1</span>)) <span class="comment"># n rows, 1 for each row</span></span><br><span class="line">D = H + H.T - G * <span class="number">2</span></span><br><span class="line"><span class="built_in">print</span>(time.time() - t)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<pre><code>2 500
1.8900527954101562
0.6348848342895508
0.25273704528808594
0.02255988121032715
</code></pre><blockquote>
<p>参考：</p>
</blockquote>
<ol>
<li><a class="link"   href="https://www.julyedu.com/course/getDetail/66/" >廖雪峰Python数据分析<i class="fas fa-external-link-alt"></i></a></li>
</ol>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
  </entry>
  <entry>
    <title>两股票历史价格比较</title>
    <url>/%E9%A1%B9%E7%9B%AE/%E9%87%91%E8%9E%8D%E5%88%86%E6%9E%90/29975/</url>
    <content><![CDATA[<h2 id="项目任务"><a href="#项目任务" class="headerlink" title="项目任务"></a>项目任务</h2><ol>
<li>获取财务数据</li>
<li>填充缺失值</li>
<li>数据归一化</li>
<li>折线图</li>
</ol>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><h3 id="依赖"><a href="#依赖" class="headerlink" title="依赖"></a>依赖</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> tushare <span class="keyword">as</span> ts</span><br><span class="line"><span class="keyword">import</span> ssl</span><br><span class="line">context = ssl._create_unverified_context()</span><br></pre></td></tr></table></figure>
<h3 id="获取财务数据"><a href="#获取财务数据" class="headerlink" title="获取财务数据"></a>获取财务数据</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">s_pf = <span class="string">&#x27;600000&#x27;</span></span><br><span class="line">s_gd = <span class="string">&#x27;601818&#x27;</span></span><br><span class="line">sdate = <span class="string">&#x27;2018-01-01&#x27;</span></span><br><span class="line">edate = <span class="string">&#x27;2018-12-31&#x27;</span></span><br><span class="line"></span><br><span class="line">df_pf = ts.get_hist_data(s_pf, start = sdate, end = edate).sort_index(axis = <span class="number">0</span>, ascending = <span class="literal">True</span>)</span><br><span class="line">df_gd = ts.get_hist_data(s_gd, start = sdate, end = edate).sort_index(axis = <span class="number">0</span>, ascending = <span class="literal">True</span>)</span><br></pre></td></tr></table></figure>
<h3 id="数据处理"><a href="#数据处理" class="headerlink" title="数据处理"></a>数据处理</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">df = pd.concat([df_pf.close, df_gd.close], axis = <span class="number">1</span>, keys = [<span class="string">&#x27;pf_clse&#x27;</span>,<span class="string">&#x27;gd_close&#x27;</span>])</span><br><span class="line">df.ffill(axis = <span class="number">0</span>, inplace = <span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">df[<span class="string">&#x27;pf_one&#x27;</span>] = df_pf.close / <span class="built_in">float</span>(df_pf.close[<span class="number">0</span>]) * <span class="number">100</span></span><br><span class="line">df[<span class="string">&#x27;gd_one&#x27;</span>] = df_gd.close / <span class="built_in">float</span>(df_gd.close[<span class="number">0</span>]) * <span class="number">100</span></span><br><span class="line"></span><br><span class="line">display(df.corr(method = <span class="string">&#x27;pearson&#x27;</span>, min_periods = <span class="number">1</span>))</span><br></pre></td></tr></table></figure>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>pf_clse</th>
      <th>gd_close</th>
      <th>pf_one</th>
      <th>gd_one</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>pf_clse</th>
      <td>1.000000</td>
      <td>0.912252</td>
      <td>1.000000</td>
      <td>0.912252</td>
    </tr>
    <tr>
      <th>gd_close</th>
      <td>0.912252</td>
      <td>1.000000</td>
      <td>0.912252</td>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>pf_one</th>
      <td>1.000000</td>
      <td>0.912252</td>
      <td>1.000000</td>
      <td>0.912252</td>
    </tr>
    <tr>
      <th>gd_one</th>
      <td>0.912252</td>
      <td>1.000000</td>
      <td>0.912252</td>
      <td>1.000000</td>
    </tr>
  </tbody>
</table>
</div>


<h3 id="画图"><a href="#画图" class="headerlink" title="画图"></a>画图</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">df.pf_one.plot(figsize = (<span class="number">20</span>,<span class="number">15</span>))</span><br><span class="line">df.gd_one.plot(figsize = (<span class="number">20</span>,<span class="number">15</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘图</span></span><br><span class="line">plt.savefig(<span class="string">&quot;../img/2019-07-01_两股票历史价格比较_1.png&quot;</span>)</span><br><span class="line">plt.close()</span><br></pre></td></tr></table></figure>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/img/2019-07-01_两股票历史价格比较_1.png"
                      alt=""
                ></p>
<blockquote>
<p>参考：</p>
</blockquote>
<ol>
<li><a class="link"   href="https://www.julyedu.com/course/getDetail/66/" >廖雪峰Python数据分析<i class="fas fa-external-link-alt"></i></a></li>
<li><a class="link"   href="http://tushare.org/" >Tushare官网<i class="fas fa-external-link-alt"></i></a></li>
</ol>
]]></content>
      <categories>
        <category>项目</category>
        <category>金融分析</category>
      </categories>
  </entry>
  <entry>
    <title>链家网房源</title>
    <url>/%E9%A1%B9%E7%9B%AE/%E7%88%AC%E8%99%AB/38058/</url>
    <content><![CDATA[<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br></pre></td></tr></table></figure>
<h2 id="request"><a href="#request" class="headerlink" title="request"></a>request</h2><h3 id="设置列表页URL的固定部分"><a href="#设置列表页URL的固定部分" class="headerlink" title="设置列表页URL的固定部分"></a>设置列表页URL的固定部分</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">url = <span class="string">&#x27;http://bj.lianjia.com/ershoufang/&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#设置页面页的可变部分</span></span><br><span class="line">page = (<span class="string">&#x27;pg&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h3 id="设置请求头部信息"><a href="#设置请求头部信息" class="headerlink" title="设置请求头部信息"></a>设置请求头部信息</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">headers = &#123;<span class="string">&#x27;User-Agent&#x27;</span>:<span class="string">&#x27;Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.11 (KHTML, like Gecko) Chrome/23.0.1271.64 Safari/537.11&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;Accept&#x27;</span>:<span class="string">&#x27;text/html;q=0.9,*/*;q=0.8&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;Accept-Charset&#x27;</span>:<span class="string">&#x27;ISO-8859-1,utf-8;q=0.7,*;q=0.3&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;Accept-Encoding&#x27;</span>:<span class="string">&#x27;gzip&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;Connection&#x27;</span>:<span class="string">&#x27;close&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;Referer&#x27;</span>:<span class="string">&#x27;http://www.baidu.com/link?url=_andhfsjjjKRgEWkj7i9cFmYYGsisrnm2A-TN3XZDQXxvGsM9k9ZZSnikW2Yds4s&amp;amp;amp;wd=&amp;amp;amp;eqid=c3435a7d00146bd600000003582bfd1f&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="循环抓取列表页信息"><a href="#循环抓取列表页信息" class="headerlink" title="循环抓取列表页信息"></a>循环抓取列表页信息</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">2</span>):</span><br><span class="line">     <span class="keyword">if</span> i == <span class="number">1</span>:</span><br><span class="line">          i=<span class="built_in">str</span>(i)</span><br><span class="line">          a=(url+page+i+<span class="string">&#x27;/&#x27;</span>)</span><br><span class="line">          r=requests.get(url=a,headers=headers)</span><br><span class="line">          html=r.content</span><br><span class="line">     <span class="keyword">else</span>:</span><br><span class="line">          i=<span class="built_in">str</span>(i)</span><br><span class="line">          a=(url+page+i+<span class="string">&#x27;/&#x27;</span>)</span><br><span class="line">          r=requests.get(url=a,headers=headers)</span><br><span class="line">          html2=r.content</span><br><span class="line">          html = html + html2</span><br><span class="line">     <span class="comment">#每次间隔1秒</span></span><br><span class="line">     time.sleep(<span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<h3 id="解析抓取的页面内容"><a href="#解析抓取的页面内容" class="headerlink" title="解析抓取的页面内容"></a>解析抓取的页面内容</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">lj=BeautifulSoup(html,<span class="string">&#x27;html.parser&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h3 id="提取房源总价"><a href="#提取房源总价" class="headerlink" title="提取房源总价"></a>提取房源总价</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">price=lj.find_all(<span class="string">&#x27;div&#x27;</span>,<span class="string">&#x27;priceInfo&#x27;</span>)</span><br><span class="line">tp=[]</span><br><span class="line"><span class="keyword">for</span> a <span class="keyword">in</span> price:</span><br><span class="line">    totalPrice=a.span.string</span><br><span class="line">    tp.append(totalPrice)</span><br></pre></td></tr></table></figure>
<h3 id="提取房源信息"><a href="#提取房源信息" class="headerlink" title="提取房源信息"></a>提取房源信息</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">houseInfo=lj.find_all(<span class="string">&#x27;div&#x27;</span>,attrs=&#123;<span class="string">&#x27;class&#x27;</span>:<span class="string">&#x27;houseInfo&#x27;</span>&#125;)</span><br><span class="line"> </span><br><span class="line">hi=[]</span><br><span class="line"><span class="keyword">for</span> b <span class="keyword">in</span> houseInfo:</span><br><span class="line">    house=b.get_text()</span><br><span class="line">    hi.append(house)</span><br></pre></td></tr></table></figure>
<h3 id="提取房源关注度"><a href="#提取房源关注度" class="headerlink" title="提取房源关注度"></a>提取房源关注度</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">followInfo=lj.find_all(<span class="string">&#x27;div&#x27;</span>,attrs=&#123;<span class="string">&#x27;class&#x27;</span>:<span class="string">&#x27;followInfo&#x27;</span>&#125;)</span><br><span class="line"> </span><br><span class="line">fi=[]</span><br><span class="line"><span class="keyword">for</span> c <span class="keyword">in</span> followInfo:</span><br><span class="line">    follow=c.get_text()</span><br><span class="line">    fi.append(follow)</span><br></pre></td></tr></table></figure>
<h3 id="DataFrame"><a href="#DataFrame" class="headerlink" title="DataFrame"></a>DataFrame</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">house=pd.DataFrame(&#123;<span class="string">&#x27;totalprice&#x27;</span>:tp,<span class="string">&#x27;houseinfo&#x27;</span>:hi,<span class="string">&#x27;followinfo&#x27;</span>:fi&#125;)</span><br><span class="line">house.head()</span><br></pre></td></tr></table></figure>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>totalprice</th>
      <th>houseinfo</th>
      <th>followinfo</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>268</td>
      <td>农光东里  | 1室1厅 | 37.55平米 | 南 | 精装</td>
      <td>150人关注 / 6天以前发布</td>
    </tr>
    <tr>
      <th>1</th>
      <td>381</td>
      <td>平乐园小区  | 2室1厅 | 60.52平米 | 南 北 | 精装</td>
      <td>135人关注 / 18天以前发布</td>
    </tr>
    <tr>
      <th>2</th>
      <td>570</td>
      <td>科源小区  | 2室1厅 | 65.1平米 | 东 西 | 简装</td>
      <td>70人关注 / 5个月以前发布</td>
    </tr>
    <tr>
      <th>3</th>
      <td>365</td>
      <td>劲松南路  | 2室1厅 | 57.49平米 | 南 北 | 简装</td>
      <td>97人关注 / 10天以前发布</td>
    </tr>
    <tr>
      <th>4</th>
      <td>688</td>
      <td>大井胡同  | 1室1厅 | 38平米 | 南 | 精装</td>
      <td>18人关注 / 12天以前发布</td>
    </tr>
  </tbody>
</table>
</div>



<h3 id="对房源信息进行分列"><a href="#对房源信息进行分列" class="headerlink" title="对房源信息进行分列"></a>对房源信息进行分列</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">houseinfo_split = pd.DataFrame((x.split(<span class="string">&#x27;|&#x27;</span>) <span class="keyword">for</span> x <span class="keyword">in</span> house.houseinfo),index=house.index,columns=[<span class="string">&#x27;小区&#x27;</span>,<span class="string">&#x27;户型&#x27;</span>,<span class="string">&#x27;面积&#x27;</span>,<span class="string">&#x27;朝向&#x27;</span>,<span class="string">&#x27;装修&#x27;</span>])</span><br><span class="line">houseinfo_split.head()</span><br></pre></td></tr></table></figure>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>小区</th>
      <th>户型</th>
      <th>面积</th>
      <th>朝向</th>
      <th>装修</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>农光东里</td>
      <td>1室1厅</td>
      <td>37.55平米</td>
      <td>南</td>
      <td>精装</td>
    </tr>
    <tr>
      <th>1</th>
      <td>平乐园小区</td>
      <td>2室1厅</td>
      <td>60.52平米</td>
      <td>南 北</td>
      <td>精装</td>
    </tr>
    <tr>
      <th>2</th>
      <td>科源小区</td>
      <td>2室1厅</td>
      <td>65.1平米</td>
      <td>东 西</td>
      <td>简装</td>
    </tr>
    <tr>
      <th>3</th>
      <td>劲松南路</td>
      <td>2室1厅</td>
      <td>57.49平米</td>
      <td>南 北</td>
      <td>简装</td>
    </tr>
    <tr>
      <th>4</th>
      <td>大井胡同</td>
      <td>1室1厅</td>
      <td>38平米</td>
      <td>南</td>
      <td>精装</td>
    </tr>
  </tbody>
</table>
</div>



<h3 id="将分列结果拼接回原数据表"><a href="#将分列结果拼接回原数据表" class="headerlink" title="将分列结果拼接回原数据表"></a>将分列结果拼接回原数据表</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">house=pd.merge(house,houseinfo_split,right_index=<span class="literal">True</span>, left_index=<span class="literal">True</span>)</span><br><span class="line">house.head()</span><br></pre></td></tr></table></figure>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>totalprice</th>
      <th>houseinfo</th>
      <th>followinfo</th>
      <th>小区</th>
      <th>户型</th>
      <th>面积</th>
      <th>朝向</th>
      <th>装修</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>268</td>
      <td>农光东里  | 1室1厅 | 37.55平米 | 南 | 精装</td>
      <td>150人关注 / 6天以前发布</td>
      <td>农光东里</td>
      <td>1室1厅</td>
      <td>37.55平米</td>
      <td>南</td>
      <td>精装</td>
    </tr>
    <tr>
      <th>1</th>
      <td>381</td>
      <td>平乐园小区  | 2室1厅 | 60.52平米 | 南 北 | 精装</td>
      <td>135人关注 / 18天以前发布</td>
      <td>平乐园小区</td>
      <td>2室1厅</td>
      <td>60.52平米</td>
      <td>南 北</td>
      <td>精装</td>
    </tr>
    <tr>
      <th>2</th>
      <td>570</td>
      <td>科源小区  | 2室1厅 | 65.1平米 | 东 西 | 简装</td>
      <td>70人关注 / 5个月以前发布</td>
      <td>科源小区</td>
      <td>2室1厅</td>
      <td>65.1平米</td>
      <td>东 西</td>
      <td>简装</td>
    </tr>
    <tr>
      <th>3</th>
      <td>365</td>
      <td>劲松南路  | 2室1厅 | 57.49平米 | 南 北 | 简装</td>
      <td>97人关注 / 10天以前发布</td>
      <td>劲松南路</td>
      <td>2室1厅</td>
      <td>57.49平米</td>
      <td>南 北</td>
      <td>简装</td>
    </tr>
    <tr>
      <th>4</th>
      <td>688</td>
      <td>大井胡同  | 1室1厅 | 38平米 | 南 | 精装</td>
      <td>18人关注 / 12天以前发布</td>
      <td>大井胡同</td>
      <td>1室1厅</td>
      <td>38平米</td>
      <td>南</td>
      <td>精装</td>
    </tr>
  </tbody>
</table>
</div>



<h3 id="对房源关注度进行分列"><a href="#对房源关注度进行分列" class="headerlink" title="对房源关注度进行分列"></a>对房源关注度进行分列</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">followinfo_split = pd.DataFrame((x.split(<span class="string">&#x27;/&#x27;</span>) <span class="keyword">for</span> x <span class="keyword">in</span> house.followinfo),index=house.index,columns=[<span class="string">&#x27;guanzhu&#x27;</span>,<span class="string">&#x27;fabu&#x27;</span>])</span><br><span class="line">house=pd.merge(house,followinfo_split,right_index=<span class="literal">True</span>, left_index=<span class="literal">True</span>)</span><br><span class="line">house.head()</span><br></pre></td></tr></table></figure>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>totalprice</th>
      <th>houseinfo</th>
      <th>followinfo</th>
      <th>小区</th>
      <th>户型</th>
      <th>面积</th>
      <th>朝向</th>
      <th>装修</th>
      <th>guanzhu</th>
      <th>fabu</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>268</td>
      <td>农光东里  | 1室1厅 | 37.55平米 | 南 | 精装</td>
      <td>150人关注 / 6天以前发布</td>
      <td>农光东里</td>
      <td>1室1厅</td>
      <td>37.55平米</td>
      <td>南</td>
      <td>精装</td>
      <td>150人关注</td>
      <td>6天以前发布</td>
    </tr>
    <tr>
      <th>1</th>
      <td>381</td>
      <td>平乐园小区  | 2室1厅 | 60.52平米 | 南 北 | 精装</td>
      <td>135人关注 / 18天以前发布</td>
      <td>平乐园小区</td>
      <td>2室1厅</td>
      <td>60.52平米</td>
      <td>南 北</td>
      <td>精装</td>
      <td>135人关注</td>
      <td>18天以前发布</td>
    </tr>
    <tr>
      <th>2</th>
      <td>570</td>
      <td>科源小区  | 2室1厅 | 65.1平米 | 东 西 | 简装</td>
      <td>70人关注 / 5个月以前发布</td>
      <td>科源小区</td>
      <td>2室1厅</td>
      <td>65.1平米</td>
      <td>东 西</td>
      <td>简装</td>
      <td>70人关注</td>
      <td>5个月以前发布</td>
    </tr>
    <tr>
      <th>3</th>
      <td>365</td>
      <td>劲松南路  | 2室1厅 | 57.49平米 | 南 北 | 简装</td>
      <td>97人关注 / 10天以前发布</td>
      <td>劲松南路</td>
      <td>2室1厅</td>
      <td>57.49平米</td>
      <td>南 北</td>
      <td>简装</td>
      <td>97人关注</td>
      <td>10天以前发布</td>
    </tr>
    <tr>
      <th>4</th>
      <td>688</td>
      <td>大井胡同  | 1室1厅 | 38平米 | 南 | 精装</td>
      <td>18人关注 / 12天以前发布</td>
      <td>大井胡同</td>
      <td>1室1厅</td>
      <td>38平米</td>
      <td>南</td>
      <td>精装</td>
      <td>18人关注</td>
      <td>12天以前发布</td>
    </tr>
  </tbody>
</table>
</div>



<blockquote>
<p>参考：</p>
</blockquote>
<ol>
<li><a class="link"   href="https://www.julyedu.com/course/getDetail/66/" >廖雪峰Python数据分析<i class="fas fa-external-link-alt"></i></a></li>
</ol>
]]></content>
      <categories>
        <category>项目</category>
        <category>爬虫</category>
      </categories>
  </entry>
  <entry>
    <title>正則表達式</title>
    <url>/Python/58780/</url>
    <content><![CDATA[<h2 id="re用法"><a href="#re用法" class="headerlink" title="re用法"></a>re用法</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">re_all</span>(<span class="params">regex</span>):</span></span><br><span class="line">    log = <span class="string">&#x27;Thu Mar 14 19:27:38 1991::jvfcho@iwrptlqmyok.edu::668950058-6-11\n&#x27;</span></span><br><span class="line">    <span class="built_in">print</span>(log)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;&quot;</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;===返回匹配的字符串（re.search().group()）===&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(re.search(regex,log).group())</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;&quot;</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;===列表返回匹配的所有子串(re.findall())===&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(re.findall(regex,log))</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;===返回匹配开始的位置（re.search().start()）===&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(re.search(regex,log).start())</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;===返回匹配结束的位置（re.search().end()）===&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(re.search(regex,log).end())</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;===返回匹配位置（re.search().span()）===&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(re.search(regex,log).span())</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;&quot;</span>)</span><br></pre></td></tr></table></figure>
<h2 id="匹配"><a href="#匹配" class="headerlink" title="匹配"></a>匹配</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">regex = <span class="string">&#x27;(Mon|Tue|Wed|Thu|Fri|Sat|Sun)&#x27;</span>  <span class="comment"># |是or</span></span><br><span class="line">re_all(regex)</span><br></pre></td></tr></table></figure>
<pre><code>Thu Mar 14 19:27:38 1991::jvfcho@iwrptlqmyok.edu::668950058-6-11


===返回匹配的字符串（re.search().group()）===
Thu

===列表返回匹配的所有子串(re.findall())===
[&#39;Thu&#39;]

===返回匹配开始的位置（re.search().start()）===
0

===返回匹配结束的位置（re.search().end()）===
3

===返回匹配位置（re.search().span()）===
(0, 3)
</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">regex = <span class="string">&#x27;([0-9]&#123;1,2&#125;):([0-9]&#123;1,2&#125;):([0-9]&#123;1,2&#125;).&#x27;</span>  <span class="comment"># ()是子組，會依次返回; &#123;&#125;是幾個; *是無數個</span></span><br><span class="line">re_all(regex)</span><br></pre></td></tr></table></figure>
<pre><code>Thu Mar 14 19:27:38 1991::jvfcho@iwrptlqmyok.edu::668950058-6-11


===返回匹配的字符串（re.search().group()）===
19:27:38 

===列表返回匹配的所有子串(re.findall())===
[(&#39;19&#39;, &#39;27&#39;, &#39;38&#39;)]

===返回匹配开始的位置（re.search().start()）===
11

===返回匹配结束的位置（re.search().end()）===
20

===返回匹配位置（re.search().span()）===
(11, 20)
</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">regex = <span class="string">&#x27;([a-z]*)@([a-z]*).(com|edu|net|org|gov)&#x27;</span></span><br><span class="line">re_all(regex)</span><br></pre></td></tr></table></figure>
<pre><code>Thu Mar 14 19:27:38 1991::jvfcho@iwrptlqmyok.edu::668950058-6-11


===返回匹配的字符串（re.search().group()）===
jvfcho@iwrptlqmyok.edu

===列表返回匹配的所有子串(re.findall())===
[(&#39;jvfcho&#39;, &#39;iwrptlqmyok&#39;, &#39;edu&#39;)]

===返回匹配开始的位置（re.search().start()）===
26

===返回匹配结束的位置（re.search().end()）===
48

===返回匹配位置（re.search().span()）===
(26, 48)
</code></pre><blockquote>
<p>参考：</p>
</blockquote>
<ol>
<li><a class="link"   href="https://www.cnblogs.com/cq146637/p/8072540.html" >陈乾博客<i class="fas fa-external-link-alt"></i></a></li>
<li><a class="link"   href="https://www.cnblogs.com/jiangzhaowei/p/5738590.html" >qiuri2008博客<i class="fas fa-external-link-alt"></i></a></li>
</ol>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
  </entry>
  <entry>
    <title>Scipy</title>
    <url>/Python/61322/</url>
    <content><![CDATA[<h2 id="数据物理常数"><a href="#数据物理常数" class="headerlink" title="数据物理常数"></a>数据物理常数</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> scipy <span class="keyword">import</span> constants</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 圆周率</span></span><br><span class="line"><span class="built_in">print</span>(C.pi)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 引力常数</span></span><br><span class="line"><span class="built_in">print</span>(C.g)</span><br></pre></td></tr></table></figure>
<pre><code>3.141592653589793
9.80665
</code></pre><h2 id="积分"><a href="#积分" class="headerlink" title="积分"></a>积分</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> scipy <span class="keyword">import</span> integrate</span><br><span class="line"></span><br><span class="line"><span class="comment"># 定积分</span></span><br><span class="line">Y = <span class="keyword">lambda</span> x: x**<span class="number">2</span>+<span class="number">3</span></span><br><span class="line"><span class="built_in">print</span>(integrate.quad(Y, -<span class="number">2</span>, <span class="number">4</span>)) <span class="comment"># (-2, 4)是上下限  # 返回值第二个是误差预估</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 数值采样积分</span></span><br><span class="line">Y = <span class="keyword">lambda</span> x: x**<span class="number">2</span>+<span class="number">3</span></span><br><span class="line">x = np.linspace(-<span class="number">2</span>, <span class="number">4</span>, <span class="number">10</span>)</span><br><span class="line">y = Y(x)</span><br><span class="line"><span class="built_in">print</span>(integrate.trapz(y, x))</span><br></pre></td></tr></table></figure>
<pre><code>(42.0, 4.662936703425657e-13)
42.44444444444444
</code></pre><h2 id="优化"><a href="#优化" class="headerlink" title="优化"></a>优化</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> scipy <span class="keyword">import</span> optimize</span><br><span class="line">Y = <span class="keyword">lambda</span> x: x[<span class="number">0</span>]**<span class="number">3</span> + x[<span class="number">1</span>]**<span class="number">3</span> + np.cos(x[<span class="number">2</span>]+<span class="number">1</span>)</span><br><span class="line">x0 = np.zeros(<span class="number">4</span>)</span><br><span class="line">res = optimize.minimize(Y, x0)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(res.x) <span class="comment">#x</span></span><br><span class="line"><span class="built_in">print</span>(Y(res.x)) <span class="comment">#y</span></span><br></pre></td></tr></table></figure>
<pre><code>[0.         0.         2.14159739 0.        ]
-0.9999999999887697
</code></pre><h2 id="拟合"><a href="#拟合" class="headerlink" title="拟合"></a>拟合</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> scipy <span class="keyword">import</span> optimize</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span>(<span class="params">x, a, b, c</span>):</span></span><br><span class="line">    <span class="keyword">return</span> a * np.exp(-b * x) + c</span><br><span class="line"></span><br><span class="line">x = np.linspace(<span class="number">0</span>, <span class="number">4</span>, <span class="number">50</span>)</span><br><span class="line">y = func(x, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">popt, pcov = optimize.curve_fit(func, x, y)</span><br><span class="line">popt</span><br></pre></td></tr></table></figure>
<pre><code>array([1., 2., 3.])
</code></pre><h2 id="方程式求解"><a href="#方程式求解" class="headerlink" title="方程式求解"></a>方程式求解</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> scipy <span class="keyword">import</span> optimize</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span>(<span class="params">x</span>):</span></span><br><span class="line">    <span class="keyword">return</span> [x[<span class="number">0</span>]+x[<span class="number">1</span>],x[<span class="number">0</span>]+<span class="number">10</span>]</span><br><span class="line"></span><br><span class="line">sol = optimize.root(func, [<span class="number">0</span>, <span class="number">0</span>])</span><br><span class="line">sol.x</span><br></pre></td></tr></table></figure>
<pre><code>array([-10.,  10.])
</code></pre><blockquote>
<p>参考：</p>
</blockquote>
<ol>
<li><a class="link"   href="http://www.broadview.com.cn/book/5337" >从机器学习到深度学习：基于Scikit-learn与TensorFlow的高效开发实战<i class="fas fa-external-link-alt"></i></a></li>
</ol>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
  </entry>
  <entry>
    <title>线性回归</title>
    <url>/%E7%BB%9F%E8%AE%A1%E4%B8%8E%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E5%9B%9E%E5%BD%92%E7%AE%97%E6%B3%95%EF%BC%88Regression%EF%BC%89/52662/</url>
    <content><![CDATA[<h2 id="创建数据"><a href="#创建数据" class="headerlink" title="创建数据"></a>创建数据</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">make_data</span>(<span class="params">nDim</span>):</span></span><br><span class="line">    x0 = np.linspace(<span class="number">1</span>, np.pi, <span class="number">50</span>)</span><br><span class="line">    x = np.vstack([[x0,], [i**x0 <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>, nDim+<span class="number">1</span>)]])</span><br><span class="line">    y = np.sin(x0) + np.random.normal(<span class="number">0</span>,<span class="number">0.15</span>,<span class="built_in">len</span>(x0))</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> x.transpose(), y</span><br></pre></td></tr></table></figure>
<h2 id="最小二乘法-Ordinary-Least-Squares-OLS"><a href="#最小二乘法-Ordinary-Least-Squares-OLS" class="headerlink" title="最小二乘法 Ordinary Least Squares (OLS)"></a>最小二乘法 Ordinary Least Squares (OLS)</h2><p>目标函数：</p>
<script type="math/tex; mode=display">argmin(\sum_{}^{} {(\hat{y}-y)^2})</script><p>不足：OLS为了更好的拟合数据，会使用较大的w值，进而导致过度拟合。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> linear_model</span><br><span class="line"></span><br><span class="line">dims = [<span class="number">2</span>, <span class="number">6</span>, <span class="number">12</span>, <span class="number">24</span>]</span><br><span class="line">plt.figure(figsize=(<span class="number">10</span>, <span class="number">10</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> idx, i <span class="keyword">in</span> <span class="built_in">enumerate</span>(dims):</span><br><span class="line">    </span><br><span class="line">    plt.subplot(<span class="number">2</span>, <span class="number">2</span>, idx+<span class="number">1</span>)</span><br><span class="line">    x, y = make_data(i)</span><br><span class="line"></span><br><span class="line">    reg = linear_model.LinearRegression()</span><br><span class="line">    reg.fit(x, y)</span><br><span class="line"></span><br><span class="line"><span class="comment">#     reg.intercept_</span></span><br><span class="line"><span class="comment">#     reg.coef_</span></span><br><span class="line"></span><br><span class="line">    plt.scatter(x[:, <span class="number">0</span>], y, marker = <span class="string">&#x27;*&#x27;</span>, color = <span class="string">&#x27;r&#x27;</span>, label = <span class="string">&#x27;samples&#x27;</span>)</span><br><span class="line">    plt.plot(x[:, <span class="number">0</span>], [reg.predict([x[i, :]]) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(y))], linestyle = <span class="string">&#x27;--&#x27;</span>, label = <span class="string">&#x27;model&#x27;</span>)</span><br><span class="line">    plt.legend(loc=<span class="string">&#x27;upper right&#x27;</span>)</span><br><span class="line">    plt.title(<span class="string">&#x27;Dimensions: %s&#x27;</span> %i, fontsize=<span class="number">19</span>)</span><br><span class="line"></span><br><span class="line">plt.savefig(<span class="string">&quot;../img/2019-07-14_线性回归_1.png&quot;</span>)</span><br><span class="line">plt.close()</span><br></pre></td></tr></table></figure>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/img/2019-07-14_线性回归_1.png"
                      alt=""
                ></p>
<h2 id="岭回归-Ridge-Regression-Tikhonov-Regularization"><a href="#岭回归-Ridge-Regression-Tikhonov-Regularization" class="headerlink" title="岭回归 Ridge Regression (Tikhonov Regularization)"></a>岭回归 Ridge Regression (Tikhonov Regularization)</h2><p>目标函数：</p>
<script type="math/tex; mode=display">argmin(\sum_{}^{} {(\hat{y}-y)^2}+\alpha \sum_{}^{} {w^2})</script><p>优化：为惩罚OLS每个w逐渐增加导致过度拟合的问题，新增的项为L2惩罚项(L2 Penalty)。<br>特点：w有可能特别小的绝对值，但很难达成0，造成贡献很小的系数还是要放，影响性能。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> linear_model</span><br><span class="line"></span><br><span class="line">dims = [<span class="number">2</span>, <span class="number">6</span>, <span class="number">12</span>, <span class="number">24</span>]</span><br><span class="line">plt.figure(figsize=(<span class="number">10</span>, <span class="number">10</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> idx, i <span class="keyword">in</span> <span class="built_in">enumerate</span>(dims):</span><br><span class="line">    </span><br><span class="line">    plt.subplot(<span class="number">2</span>, <span class="number">2</span>, idx+<span class="number">1</span>)</span><br><span class="line">    x, y = make_data(i)</span><br><span class="line"></span><br><span class="line">    reg = linear_model.Ridge(alpha = <span class="number">100</span>)</span><br><span class="line">    reg.fit(x, y)</span><br><span class="line"></span><br><span class="line"><span class="comment">#     reg.intercept_</span></span><br><span class="line"><span class="comment">#     reg.coef_</span></span><br><span class="line"></span><br><span class="line">    plt.scatter(x[:, <span class="number">0</span>], y, marker = <span class="string">&#x27;*&#x27;</span>, color = <span class="string">&#x27;r&#x27;</span>, label = <span class="string">&#x27;samples&#x27;</span>)</span><br><span class="line">    plt.plot(x[:, <span class="number">0</span>], [reg.predict([x[i, :]]) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(y))], linestyle = <span class="string">&#x27;--&#x27;</span>, label = <span class="string">&#x27;model&#x27;</span>)</span><br><span class="line">    plt.legend(loc=<span class="string">&#x27;upper right&#x27;</span>)</span><br><span class="line">    plt.title(<span class="string">&#x27;Dimensions: %s&#x27;</span> %i, fontsize=<span class="number">19</span>)</span><br><span class="line">    </span><br><span class="line">plt.savefig(<span class="string">&quot;../img/2019-07-14_线性回归_2.png&quot;</span>)</span><br><span class="line">plt.close()</span><br></pre></td></tr></table></figure>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/img/2019-07-14_线性回归_2.png"
                      alt=""
                ></p>
<h2 id="Lasso-回归"><a href="#Lasso-回归" class="headerlink" title="Lasso 回归"></a>Lasso 回归</h2><p>目标函数：</p>
<script type="math/tex; mode=display">argmin(\sum_{}^{} {(\hat{y}-y)^2}+\alpha \sum_{}^{} {|w|})</script><p>优化：为惩罚OLS每个w逐渐增加导致过度拟合的问题，新增的项为L1惩罚项(L1 Penalty)。<br>特点：比L2惩罚项严厉很多，可以产生稀疏回归参数，即多数回归参数为零。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> linear_model</span><br><span class="line"></span><br><span class="line">dims = [<span class="number">2</span>, <span class="number">6</span>, <span class="number">12</span>, <span class="number">24</span>]</span><br><span class="line">plt.figure(figsize=(<span class="number">10</span>, <span class="number">10</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> idx, i <span class="keyword">in</span> <span class="built_in">enumerate</span>(dims):</span><br><span class="line">    </span><br><span class="line">    plt.subplot(<span class="number">2</span>, <span class="number">2</span>, idx+<span class="number">1</span>)</span><br><span class="line">    x, y = make_data(i)</span><br><span class="line"></span><br><span class="line">    reg = linear_model.Lasso(alpha = <span class="number">100</span>)</span><br><span class="line">    reg.fit(x, y)</span><br><span class="line"></span><br><span class="line"><span class="comment">#     reg.intercept_</span></span><br><span class="line"><span class="comment">#     reg.coef_</span></span><br><span class="line"></span><br><span class="line">    plt.scatter(x[:, <span class="number">0</span>], y, marker = <span class="string">&#x27;*&#x27;</span>, color = <span class="string">&#x27;r&#x27;</span>, label = <span class="string">&#x27;samples&#x27;</span>)</span><br><span class="line">    plt.plot(x[:, <span class="number">0</span>], [reg.predict([x[i, :]]) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(y))], linestyle = <span class="string">&#x27;--&#x27;</span>, label = <span class="string">&#x27;model&#x27;</span>)</span><br><span class="line">    plt.legend(loc=<span class="string">&#x27;upper right&#x27;</span>)</span><br><span class="line">    plt.title(<span class="string">&#x27;Dimensions: %s&#x27;</span> %i, fontsize=<span class="number">19</span>)</span><br><span class="line"></span><br><span class="line">plt.savefig(<span class="string">&quot;../img/2019-07-14_线性回归_3.png&quot;</span>)</span><br><span class="line">plt.close()</span><br></pre></td></tr></table></figure>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/img/2019-07-14_线性回归_3.png"
                      alt=""
                ></p>
<blockquote>
<p>参考：</p>
</blockquote>
<ol>
<li><a class="link"   href="http://www.broadview.com.cn/book/5337" >从机器学习到深度学习：基于Scikit-learn与TensorFlow的高效开发实战<i class="fas fa-external-link-alt"></i></a></li>
</ol>
]]></content>
      <categories>
        <category>统计与机器学习</category>
        <category>回归算法（Regression）</category>
      </categories>
  </entry>
  <entry>
    <title>梯度下降</title>
    <url>/%E7%BB%9F%E8%AE%A1%E4%B8%8E%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E5%85%B6%E4%BB%96/45545/</url>
    <content><![CDATA[<h2 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h2><ol>
<li>任取一点作为起始点</li>
<li>查看在当前节点向哪个方向移动能得到最小的z值，并向该方向移动</li>
<li>重复步骤直到找不到更小的z值</li>
</ol>
<h2 id="SGD的出现"><a href="#SGD的出现" class="headerlink" title="SGD的出现"></a>SGD的出现</h2><p>计算普通梯度下降时，每次都必须遍历所有样本，计算资源过大。SGD是每次采用单一或小批量样本的方差和作为损失值。</p>
<ul>
<li>迭代次数虽变多，但每次迭代速度快，整体还是比较有效率达到最适点</li>
<li>由于数据存在噪声，不代表每次迭代都是正确的，但整体还是往最适点方向前进</li>
<li>由于是随机选取样本，有可能跨过local minimum，去到global minimum</li>
</ul>
<h2 id="SGDRegressor"><a href="#SGDRegressor" class="headerlink" title="SGDRegressor"></a>SGDRegressor</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> SGDRegressor</span><br><span class="line"></span><br><span class="line">x = [[<span class="number">0</span>,<span class="number">0</span>],[<span class="number">2</span>,<span class="number">1</span>],[<span class="number">5</span>,<span class="number">4</span>]]</span><br><span class="line">y = [<span class="number">0</span>,<span class="number">2</span>,<span class="number">2</span>]</span><br><span class="line"></span><br><span class="line">reg = SGDRegressor(penalty = <span class="string">&quot;l2&quot;</span>, max_iter = <span class="number">10000</span>)</span><br><span class="line"><span class="comment"># penalty: none, l1(Lasso,绝对值), l2(Ridge,平方), elasticent</span></span><br><span class="line"><span class="comment"># max_iter防止连续抖动</span></span><br><span class="line">reg.fit(x,y)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(reg.predict([[<span class="number">4</span>,<span class="number">3</span>]]))</span><br><span class="line"><span class="built_in">print</span>(reg.coef_)</span><br><span class="line"><span class="built_in">print</span>(reg.intercept_)</span><br></pre></td></tr></table></figure>
<pre><code>[1.97845294]
[ 1.56550035 -1.47798393]
[0.15040332]
</code></pre><h2 id="SGDClassifier"><a href="#SGDClassifier" class="headerlink" title="SGDClassifier"></a>SGDClassifier</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">clf = SGDRegressor(penalty = <span class="string">&quot;l2&quot;</span>, max_iter = <span class="number">10000</span>)</span><br><span class="line">clf.fit(x,y)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(clf.predict([[<span class="number">4</span>,<span class="number">3</span>]]))</span><br></pre></td></tr></table></figure>
<pre><code>[1.97839971]
</code></pre><blockquote>
<p>参考：</p>
</blockquote>
<ol>
<li><a class="link"   href="http://www.broadview.com.cn/book/5337" >从机器学习到深度学习：基于Scikit-learn与TensorFlow的高效开发实战<i class="fas fa-external-link-alt"></i></a></li>
</ol>
]]></content>
      <categories>
        <category>统计与机器学习</category>
        <category>其他</category>
      </categories>
  </entry>
  <entry>
    <title>支持向量机</title>
    <url>/%E7%BB%9F%E8%AE%A1%E4%B8%8E%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%94%AF%E6%8C%81%E5%90%91%E9%87%8F%E6%9C%BA%EF%BC%88Support-Vector-Machines%EF%BC%89/49110/</url>
    <content><![CDATA[<h2 id="特性"><a href="#特性" class="headerlink" title="特性"></a>特性</h2><ul>
<li>能适应”样本数少，特征维度高”的数据集</li>
</ul>
<h2 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h2><h3 id="基本原则"><a href="#基本原则" class="headerlink" title="基本原则"></a>基本原则</h3><ol>
<li>学习数据空间中的一个超平面达到二值分类目的，在普通线性可分问题中，符合分类要求的超平面会有无穷多个</li>
<li>尽可能找到最能平均分配两类数据中空白区域的超平面，亦即使得”与超平面距离最小的数据点的距离”最大化<ul>
<li>平行于最优超平面(Optional Hyperplane)，且含括两类数据中最靠近超平面的点(此两数据点即为Support Vector)的超平面距离应越大越好</li>
<li>最优超平面到上述两超平面的距离应相等(此处距离即为间隔Margin)</li>
</ul>
</li>
</ol>
<h3 id="当数据出现噪声"><a href="#当数据出现噪声" class="headerlink" title="当数据出现噪声"></a>当数据出现噪声</h3><ol>
<li>当数据出现噪声，Margin过低时会导致模型过拟合，此时应加入”软间隔(Soft Margin)”概念<ul>
<li>要尽可能正确地分类训练数据(松弛因子超参数C大)</li>
<li>Margin 要尽可能大(松弛因子超参数C小)</li>
</ul>
</li>
</ol>
<h3 id="当数据在现有维度中找不到最优超平面"><a href="#当数据在现有维度中找不到最优超平面" class="headerlink" title="当数据在现有维度中找不到最优超平面"></a>当数据在现有维度中找不到最优超平面</h3><ol>
<li>任何有限维度的非线性问题在更高维度的空间里总可以变化成线性可分问题</li>
<li>SVM使用拉格朗日乘子法(Lagrange Multiplier)实现对超平面求解问题的升维，不需真的升维，而是将求超平面参数的目标转换为用高维中数据点向量两两点积值求解的二次规划问题</li>
<li>核函数(Kernel Function)就是一种输入两个低维空间向量，返回高维空间点积的函数。一些常用的核函数如下：<ul>
<li>线性核(Linear)：直接返回输入向量的点积，速度最快，因为实际上没有升维，适用于本身特征维度较高、样本数量很大的场景</li>
<li>多项式核(Polynomial)：其中超参数d是提升到的维度<script type="math/tex; mode=display">k(p,q)=(p*q+1)*d</script></li>
<li>高斯迳向基核(Gaussian Radial Basis Function)：应用最广泛，gamma值越大越容易过拟合<script type="math/tex; mode=display">k(p,q)=exp(-\gamma*||p-q||^2)</script></li>
<li>Sigmoid核：<script type="math/tex; mode=display">k(p,q)=tanh(a*p\cdot q+r)</script></li>
</ul>
</li>
</ol>
<h2 id="SVM"><a href="#SVM" class="headerlink" title="SVM"></a>SVM</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> svm</span><br><span class="line"></span><br><span class="line">x = [[<span class="number">0</span>,<span class="number">0</span>],[<span class="number">2</span>,<span class="number">2</span>]]</span><br><span class="line">y = [<span class="number">1</span>,<span class="number">2</span>]</span><br><span class="line"></span><br><span class="line">clf = svm.SVC(kernel = <span class="string">&quot;rbf&quot;</span>)</span><br><span class="line">clf.fit(x,y)</span><br><span class="line"></span><br><span class="line">t = [[<span class="number">2</span>,<span class="number">1</span>],[<span class="number">0</span>,<span class="number">1</span>]]</span><br><span class="line"><span class="built_in">print</span>(clf.predict(t))</span><br><span class="line"><span class="built_in">print</span>(clf.decision_function(t))  <span class="comment"># 返回数据到超平面的距离，越大则分类可靠性越高</span></span><br></pre></td></tr></table></figure>
<pre><code>[2 1]
[ 0.52444566 -0.52444566]
</code></pre><blockquote>
<p>参考：</p>
</blockquote>
<ol>
<li><a class="link"   href="http://www.broadview.com.cn/book/5337" >从机器学习到深度学习：基于Scikit-learn与TensorFlow的高效开发实战<i class="fas fa-external-link-alt"></i></a></li>
<li><a class="link"   href="https://blog.csdn.net/DP323/article/details/80535863" >SVM 原理详解，通俗易懂<i class="fas fa-external-link-alt"></i></a></li>
</ol>
]]></content>
      <categories>
        <category>统计与机器学习</category>
        <category>支持向量机（Support Vector Machines）</category>
      </categories>
  </entry>
  <entry>
    <title>朴素贝叶斯</title>
    <url>/%E7%BB%9F%E8%AE%A1%E4%B8%8E%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E8%B4%9D%E5%8F%B6%E6%96%AF%E7%AE%97%E6%B3%95%EF%BC%88Bayesian-Algorithms%EF%BC%89/58685/</url>
    <content><![CDATA[<h2 id="特性"><a href="#特性" class="headerlink" title="特性"></a>特性</h2><ul>
<li>基于概率，优点是可以对预测标签给出理论上完美的可能性估计</li>
<li>要求数据多维特征之间相互独立，因此在计算n维特征的联合分布时，才能简化成各自先验机率相乘</li>
</ul>
<h2 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h2><p>朴素贝叶斯是应用贝叶斯定理进行有监督学习的一种分类模型。在模型中，将贝叶斯定理公式 $P(A|B) = \frac{P(A)*P(B|A)}{P(B)}$ 中的事件A看成被分类标签，事件B看成数据特征。伪代码如下：</p>
<blockquote>
<p>for label in 所有标签:</p>
<p>   用贝叶斯公式计算在给定特征情况下出现该label的后验机率</p>
<p>预测标签 &lt;= 获得最高后验机率的 label</p>
</blockquote>
<p>由于实际上计算了所有标签的后验机率，所以贝叶斯分类不仅可以提供该组特征最可能的标签，还能给出其他的标签排序。</p>
<h2 id="高斯朴素贝叶斯"><a href="#高斯朴素贝叶斯" class="headerlink" title="高斯朴素贝叶斯"></a>高斯朴素贝叶斯</h2><ul>
<li>假定所有特征都呈高斯分布</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> datasets</span><br><span class="line">iris = datasets.load_iris()</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> sklearn.naive_bayes <span class="keyword">import</span> GaussianNB</span><br><span class="line">gnb = GaussianNB()</span><br><span class="line">gnb.fit(iris.data, iris.target)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;数据集大小&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(iris.data.shape)</span><br><span class="line"><span class="built_in">print</span>(iris.target.shape)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;察看模型的先验机率&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(gnb.class_prior_)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;察看训练集标签数量&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(gnb.class_count_)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;察看高斯模型期望值&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(gnb.theta_)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;察看高斯模型方差&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(gnb.sigma_)</span><br></pre></td></tr></table></figure>
<pre><code>数据集大小
(150, 4)
(150,)

察看模型的先验机率
[0.33333333 0.33333333 0.33333333]

察看训练集标签数量
[50. 50. 50.]

察看高斯模型期望值
[[5.006 3.428 1.462 0.246]
 [5.936 2.77  4.26  1.326]
 [6.588 2.974 5.552 2.026]]

察看高斯模型方差
[[0.121764 0.140816 0.029556 0.010884]
 [0.261104 0.0965   0.2164   0.038324]
 [0.396256 0.101924 0.298496 0.073924]]
</code></pre><h2 id="伯努利朴素贝叶斯"><a href="#伯努利朴素贝叶斯" class="headerlink" title="伯努利朴素贝叶斯"></a>伯努利朴素贝叶斯</h2><ul>
<li>每次实验只可能出现两种结果的事件概率分布，也称二值分布</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.naive_bayes <span class="keyword">import</span> BernoulliNB</span><br><span class="line">clf = BernoulliNB(binarize = <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 可以输入非二值特征，BernoulliNB内部会用阈值1将其转换为二值</span></span><br><span class="line">X = [[<span class="number">0.3</span>, <span class="number">0.2</span>], [<span class="number">1.3</span>, <span class="number">1.2</span>], [<span class="number">1.1</span>, <span class="number">1.2</span>]]</span><br><span class="line">Y = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>]</span><br><span class="line">clf.fit(X, Y)</span><br><span class="line"></span><br><span class="line">clf.predict([[<span class="number">0.99</span>, <span class="number">0.99</span>]])</span><br></pre></td></tr></table></figure>
<pre><code>array([0])
</code></pre><blockquote>
<p>参考：</p>
</blockquote>
<ol>
<li><a class="link"   href="http://www.broadview.com.cn/book/5337" >从机器学习到深度学习：基于Scikit-learn与TensorFlow的高效开发实战<i class="fas fa-external-link-alt"></i></a></li>
</ol>
]]></content>
      <categories>
        <category>统计与机器学习</category>
        <category>贝叶斯算法（Bayesian Algorithms）</category>
      </categories>
  </entry>
  <entry>
    <title>决策树</title>
    <url>/%E7%BB%9F%E8%AE%A1%E4%B8%8E%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E5%86%B3%E7%AD%96%E6%A0%91%E7%AE%97%E6%B3%95%EF%BC%88Decision-Tree-Algorithm%EF%BC%89/51507/</url>
    <content><![CDATA[<h2 id="基本介绍"><a href="#基本介绍" class="headerlink" title="基本介绍"></a>基本介绍</h2><ul>
<li>分而治之(divide-andconquer)：<ul>
<li>自根至叶的递归过程</li>
<li>在每个中间结点寻找一个”划分”属性</li>
</ul>
</li>
</ul>
<ul>
<li>过程：<ul>
<li>把数据集分成两组</li>
<li>不同数据点被完美区分（Pure）开了么？</li>
<li>不是：重复楼上两步</li>
<li>是的：打完收⼯</li>
</ul>
</li>
</ul>
<h3 id="建树逻辑"><a href="#建树逻辑" class="headerlink" title="建树逻辑"></a>建树逻辑</h3><p>所有子树信息价值（信息熵、基尼指数等）的和必定小于等于原来整体数据集的信息价值，信息增益用来衡量减少的程度</p>
<blockquote>
<p>def build(D=数据集)：</p>
<p>　　if D所有数据目标值 y 都相同：</p>
<p>　　　　return  #递回停止条件</p>
<p>　　for i in D中的所有特征：</p>
<p>　　　　计算用i划分子树后获得的信息增益</p>
<p>　　if 所有特征都没有大于零的信息增益：</p>
<p>　　　　return  #递回停止条件</p>
<p>　　被选择的特征 x = 具有最大信息增益的特征</p>
<p>　　for sub in 按照x划分子树后的数据集：</p>
<p>　　　　build(sub)</p>
</blockquote>
<h3 id="停止条件"><a href="#停止条件" class="headerlink" title="停止条件"></a>停止条件</h3><ul>
<li>当前结点包含的样本全属于同一类别，无须划分</li>
<li>当前属性集为空，或是所有样本在所有属性上取值相同，无法划分</li>
<li>当前结点包含的样本集合为空，不能划分</li>
</ul>
<h3 id="特性"><a href="#特性" class="headerlink" title="特性"></a>特性</h3><ul>
<li>优势：<ul>
<li>⾮⿊盒</li>
<li>轻松去除⽆关attribute (Gain = 0)</li>
<li>Test起来很快 (O(depth))</li>
</ul>
</li>
</ul>
<ul>
<li>劣势：<ul>
<li>只能线性分割数据</li>
<li>贪婪算法 (每次分裂都选最好，有可能不是全局最好)</li>
</ul>
</li>
</ul>
<h2 id="信息价值指标"><a href="#信息价值指标" class="headerlink" title="信息价值指标"></a>信息价值指标</h2><h3 id="信息熵"><a href="#信息熵" class="headerlink" title="信息熵"></a>信息熵</h3><p>信息熵是度量样本集合”纯度”最常用的一种指标，假定当前样本集合D中第i类样本所占的比例为$P_i$，则D的信息熵定义为：</p>
<script type="math/tex; mode=display">Ent(D)=-\sum_{i=1}^{n}{P_i \cdot log{P_i}}</script><ul>
<li>某随机事件结果的种类越多，则该事件的熵越大（不确定性越大）</li>
<li>某随机事件的各种可能发生结果概率越均匀，则该事件的熵越大（不确定性越大）</li>
<li>值域：&gt;= 0</li>
<li>缺点是计算量大（log）</li>
</ul>
<h3 id="信息增益-ID3"><a href="#信息增益-ID3" class="headerlink" title="信息增益(ID3)"></a>信息增益(ID3)</h3><script type="math/tex; mode=display">Gain(D,a)=Ent(D)-\sum_{i=1}^{n}{\frac{|D^i|}{|D|}{Ent(D^i)}}</script><ul>
<li>划分前的信息熵-划分后的总信息熵</li>
<li>越大越好</li>
</ul>
<h3 id="信息增益率-C4-5"><a href="#信息增益率-C4-5" class="headerlink" title="信息增益率(C4.5)"></a>信息增益率(C4.5)</h3><script type="math/tex; mode=display">GainRatio(D,a)=\frac{Gain(D,a)}{IV(a)}</script><script type="math/tex; mode=display">IV(a)=-\sum_{i=1}^{i}{\frac{|D^i|}{|D|}{log_2{\frac{|D^i|}{|D|}}}}</script><h3 id="基尼指数-CART"><a href="#基尼指数-CART" class="headerlink" title="基尼指数(CART)"></a>基尼指数(CART)</h3><script type="math/tex; mode=display">G=1-\sum_{i=1}^{n}{P_i^2}</script><ul>
<li>值域：0~1</li>
</ul>
<h2 id="常见算法"><a href="#常见算法" class="headerlink" title="常见算法"></a>常见算法</h2><ul>
<li>ID3：    <ul>
<li>只能使用熵的信息增益处理离散特征的分类问题</li>
<li>取值高的属性，更容易使数据更纯，其信息增益更大</li>
<li>训练得到的是一棵庞大且深度浅的树（可以把N个数据分成100%纯洁的N组）</li>
</ul>
</li>
</ul>
<ul>
<li>C4.5：<ul>
<li>支持连续特征，在计算信息增益比之前首先将其离散化（与ID3差别）</li>
<li>使用信息增益比的概念去除先选择多值特征的倾向</li>
<li>在训练后检测训练集的正确分类比，并剪枝产生错误较多的叶子结点</li>
</ul>
</li>
</ul>
<ul>
<li>CART算法：<ul>
<li>使用基尼系数代替熵进行信息增益计算、只使用二叉树，并提供解决回归问题的能力</li>
<li>以最小化不纯度，而不是最大化信息增益</li>
</ul>
</li>
</ul>
<h2 id="DecisionTreeClassifier"><a href="#DecisionTreeClassifier" class="headerlink" title="DecisionTreeClassifier"></a>DecisionTreeClassifier</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.tree <span class="keyword">import</span> DecisionTreeClassifier</span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> datasets</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line"></span><br><span class="line">iris = datasets.load_iris()</span><br><span class="line">iris_data = iris[<span class="string">&#x27;data&#x27;</span>]</span><br><span class="line">iris_label = iris[<span class="string">&#x27;target&#x27;</span>]</span><br><span class="line">iris_target_name = iris[<span class="string">&#x27;target_names&#x27;</span>]</span><br><span class="line">X = np.array(iris_data)</span><br><span class="line">Y = np.array(iris_label)</span><br><span class="line"></span><br><span class="line">x_train, x_test, y_train, y_test = train_test_split(X, Y, test_size=<span class="number">0.25</span>)</span><br><span class="line"></span><br><span class="line">clf = DecisionTreeClassifier()</span><br><span class="line">clf = clf.fit(x_train, y_train)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> roc_curve, auc</span><br><span class="line"></span><br><span class="line">y_pred = clf.predict(x_test)</span><br><span class="line"></span><br><span class="line">false_positive_rate, true_positive_rate, thresholds = roc_curve(</span><br><span class="line">    y_test, y_pred, pos_label=<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">roc_auc = auc(false_positive_rate, true_positive_rate)</span><br><span class="line">roc_auc</span><br></pre></td></tr></table></figure>
<pre><code>1.0
</code></pre><h3 id="调参"><a href="#调参" class="headerlink" title="调参"></a>调参</h3><p>超参数：</p>
<ul>
<li>criterion: gini, entropy</li>
<li>max_depth</li>
<li>min_samples_split</li>
<li>min_samples_leaf</li>
<li>max_features</li>
<li>max_leaf_nodes</li>
<li>min_impurity_decrease</li>
</ul>
<h4 id="max-depth"><a href="#max-depth" class="headerlink" title="max_depth"></a>max_depth</h4><p>要调整的第一个参数是max_depth（树的深度）。 树越深，它就分裂的越多，更能捕获有关数据的信息。 我们拟合一个深度范围从1到32的决策树，并绘制训练和测试auc分数</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> matplotlib.legend_handler <span class="keyword">import</span> HandlerLine2D</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">max_depths = np.linspace(<span class="number">1</span>, <span class="number">32</span>, <span class="number">32</span>, endpoint=<span class="literal">True</span>)</span><br><span class="line">train_results = []</span><br><span class="line">test_results = []</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> max_depth <span class="keyword">in</span> max_depths:</span><br><span class="line">    dt = DecisionTreeClassifier(max_depth=max_depth)</span><br><span class="line">    dt.fit(x_train, y_train)</span><br><span class="line">    train_pred = dt.predict(x_train)</span><br><span class="line">    false_positive_rate, true_positive_rate, thresholds = roc_curve(</span><br><span class="line">        y_train, train_pred, pos_label=<span class="number">2</span>)</span><br><span class="line">    roc_auc = auc(false_positive_rate, true_positive_rate)</span><br><span class="line"></span><br><span class="line">    train_results.append(roc_auc)</span><br><span class="line">    y_pred = dt.predict(x_test)</span><br><span class="line">    false_positive_rate, true_positive_rate, thresholds = roc_curve(</span><br><span class="line">        y_test, y_pred, pos_label=<span class="number">2</span>)</span><br><span class="line">    roc_auc = auc(false_positive_rate, true_positive_rate)</span><br><span class="line"></span><br><span class="line">    test_results.append(roc_auc)</span><br><span class="line"></span><br><span class="line">line1, = plt.plot(max_depths, train_results, <span class="string">&#x27;b&#x27;</span>, label=<span class="string">&#x27;Train AUC&#x27;</span>)</span><br><span class="line">line2, = plt.plot(max_depths, test_results, <span class="string">&#x27;r&#x27;</span>, label=<span class="string">&#x27;Test AUC&#x27;</span>)</span><br><span class="line">plt.legend(handler_map=&#123;line1: HandlerLine2D(numpoints=<span class="number">2</span>)&#125;)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;AUC score&#x27;</span>)</span><br><span class="line">plt.xlabel(<span class="string">&#x27;Tree depth&#x27;</span>)</span><br><span class="line"></span><br><span class="line">plt.savefig(<span class="string">&quot;../img/2019-07-29_决策树_1.png&quot;</span>)</span><br><span class="line">plt.close()</span><br></pre></td></tr></table></figure>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/img/2019-07-29_决策树_1.png"
                      alt=""
                ></p>
<h4 id="min-samples-split"><a href="#min-samples-split" class="headerlink" title="min_samples_split"></a>min_samples_split</h4><p>min_samples_split表示拆分内部节点所需的最小样本数。 这可以在考虑每个节点处的至少一个样本，并考虑每个节点处的所有样本之间变化。 当我们增加此参数时，给与树更多的约束，因为它必须在每个节点处考虑更多样本。 在这里，我们将从10％到100％的样本中改变参数</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">min_samples_splits = np.linspace(<span class="number">0.1</span>, <span class="number">1.0</span>, <span class="number">10</span>, endpoint=<span class="literal">True</span>)</span><br><span class="line">train_results = []</span><br><span class="line">test_results = []</span><br><span class="line"><span class="keyword">for</span> min_samples_split <span class="keyword">in</span> min_samples_splits:</span><br><span class="line">    dt = DecisionTreeClassifier(min_samples_split=min_samples_split)</span><br><span class="line">    dt.fit(x_train, y_train)</span><br><span class="line">    train_pred = dt.predict(x_train)</span><br><span class="line">    false_positive_rate, true_positive_rate, thresholds = roc_curve(</span><br><span class="line">        y_train, train_pred, pos_label=<span class="number">2</span>)</span><br><span class="line">    roc_auc = auc(false_positive_rate, true_positive_rate)</span><br><span class="line">    train_results.append(roc_auc)</span><br><span class="line">    y_pred = dt.predict(x_test)</span><br><span class="line">    false_positive_rate, true_positive_rate, thresholds = roc_curve(</span><br><span class="line">        y_test, y_pred, pos_label=<span class="number">2</span>)</span><br><span class="line">    roc_auc = auc(false_positive_rate, true_positive_rate)</span><br><span class="line">    test_results.append(roc_auc)</span><br><span class="line"><span class="keyword">from</span> matplotlib.legend_handler <span class="keyword">import</span> HandlerLine2D</span><br><span class="line">line1, = plt.plot(min_samples_splits, train_results, <span class="string">&#x27;b&#x27;</span>, label=<span class="string">&#x27;Train AUC&#x27;</span>)</span><br><span class="line">line2, = plt.plot(min_samples_splits, test_results, <span class="string">&#x27;r&#x27;</span>, label=<span class="string">&#x27;Test AUC&#x27;</span>)</span><br><span class="line">plt.legend(handler_map=&#123;line1: HandlerLine2D(numpoints=<span class="number">2</span>)&#125;)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;AUC score&#x27;</span>)</span><br><span class="line">plt.xlabel(<span class="string">&#x27;min samples split&#x27;</span>)</span><br><span class="line"></span><br><span class="line">plt.savefig(<span class="string">&quot;../img/2019-07-29_决策树_2.png&quot;</span>)</span><br><span class="line">plt.close()</span><br></pre></td></tr></table></figure>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/img/2019-07-29_决策树_2.png"
                      alt=""
                ></p>
<h4 id="min-samples-leaf"><a href="#min-samples-leaf" class="headerlink" title="min_samples_leaf"></a>min_samples_leaf</h4><p>min_samples_leaf是叶节点所需的最小样本数。 此参数类似于min_samples_splits，但是，这描述了叶子（树的基础）处的样本的最小样本数</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">min_samples_leafs = np.linspace(<span class="number">0.1</span>, <span class="number">0.5</span>, <span class="number">5</span>, endpoint=<span class="literal">True</span>)</span><br><span class="line">train_results = []</span><br><span class="line">test_results = []</span><br><span class="line"><span class="keyword">for</span> min_samples_leaf <span class="keyword">in</span> min_samples_leafs:</span><br><span class="line">    dt = DecisionTreeClassifier(min_samples_leaf=min_samples_leaf)</span><br><span class="line">    dt.fit(x_train, y_train)</span><br><span class="line">    train_pred = dt.predict(x_train)</span><br><span class="line">    false_positive_rate, true_positive_rate, thresholds = roc_curve(</span><br><span class="line">        y_train, train_pred, pos_label=<span class="number">2</span>)</span><br><span class="line">    roc_auc = auc(false_positive_rate, true_positive_rate)</span><br><span class="line">    train_results.append(roc_auc)</span><br><span class="line">    y_pred = dt.predict(x_test)</span><br><span class="line">    false_positive_rate, true_positive_rate, thresholds = roc_curve(</span><br><span class="line">        y_test, y_pred, pos_label=<span class="number">2</span>)</span><br><span class="line">    roc_auc = auc(false_positive_rate, true_positive_rate)</span><br><span class="line">    test_results.append(roc_auc)</span><br><span class="line"><span class="keyword">from</span> matplotlib.legend_handler <span class="keyword">import</span> HandlerLine2D</span><br><span class="line">line1, = plt.plot(min_samples_leafs, train_results, <span class="string">&#x27;b&#x27;</span>, label=<span class="string">&#x27;Train AUC&#x27;</span>)</span><br><span class="line">line2, = plt.plot(min_samples_leafs, test_results, <span class="string">&#x27;r&#x27;</span>, label=<span class="string">&#x27;Test AUC&#x27;</span>)</span><br><span class="line">plt.legend(handler_map=&#123;line1: HandlerLine2D(numpoints=<span class="number">2</span>)&#125;)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;AUC score&#x27;</span>)</span><br><span class="line">plt.xlabel(<span class="string">&#x27;min samples leaf&#x27;</span>)</span><br><span class="line"></span><br><span class="line">plt.savefig(<span class="string">&quot;../img/2019-07-29_决策树_3.png&quot;</span>)</span><br><span class="line">plt.close()</span><br></pre></td></tr></table></figure>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/img/2019-07-29_决策树_3.png"
                      alt=""
                ></p>
<h4 id="max-features"><a href="#max-features" class="headerlink" title="max_features"></a>max_features</h4><p>max_features表示查找最佳拆分时要考虑的要最大特征数量</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">max_features = <span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">1</span>, <span class="built_in">len</span>(iris_target_name)))</span><br><span class="line">train_results = []</span><br><span class="line">test_results = []</span><br><span class="line"><span class="keyword">for</span> max_feature <span class="keyword">in</span> max_features:</span><br><span class="line">    dt = DecisionTreeClassifier(max_features=max_feature)</span><br><span class="line">    dt.fit(x_train, y_train)</span><br><span class="line">    train_pred = dt.predict(x_train)</span><br><span class="line">    false_positive_rate, true_positive_rate, thresholds = roc_curve(</span><br><span class="line">        y_train, train_pred, pos_label=<span class="number">2</span>)</span><br><span class="line">    roc_auc = auc(false_positive_rate, true_positive_rate)</span><br><span class="line">    train_results.append(roc_auc)</span><br><span class="line">    y_pred = dt.predict(x_test)</span><br><span class="line">    false_positive_rate, true_positive_rate, thresholds = roc_curve(</span><br><span class="line">        y_test, y_pred, pos_label=<span class="number">2</span>)</span><br><span class="line">    roc_auc = auc(false_positive_rate, true_positive_rate)</span><br><span class="line">    test_results.append(roc_auc)</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> matplotlib.legend_handler <span class="keyword">import</span> HandlerLine2D</span><br><span class="line"></span><br><span class="line">line1, = plt.plot(max_features, train_results, <span class="string">&#x27;b&#x27;</span>, label=<span class="string">&#x27;Train AUC&#x27;</span>)</span><br><span class="line">line2, = plt.plot(max_features, test_results, <span class="string">&#x27;r&#x27;</span>, label=<span class="string">&#x27;Test AUC&#x27;</span>)</span><br><span class="line">plt.legend(handler_map=&#123;line1: HandlerLine2D(numpoints=<span class="number">2</span>)&#125;)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;AUC score&#x27;</span>)</span><br><span class="line">plt.xlabel(<span class="string">&#x27;max features&#x27;</span>)</span><br><span class="line"></span><br><span class="line">plt.savefig(<span class="string">&quot;../img/2019-07-29_决策树_4.png&quot;</span>)</span><br><span class="line">plt.close()</span><br></pre></td></tr></table></figure>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/img/2019-07-29_决策树_4.png"
                      alt=""
                ></p>
<h2 id="树的可视化"><a href="#树的可视化" class="headerlink" title="树的可视化"></a>树的可视化</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> IPython.display <span class="keyword">import</span> display, Image</span><br><span class="line"><span class="keyword">import</span> graphviz</span><br><span class="line"><span class="keyword">import</span> pydotplus <span class="keyword">as</span> pdp</span><br><span class="line"></span><br><span class="line">dot_data = tree.export_graphviz(clf, out_file = <span class="literal">None</span>,</span><br><span class="line">                               feature_names = [<span class="string">&quot;标签A&quot;</span>,<span class="string">&quot;标签B&quot;</span>,<span class="string">&quot;标签C&quot;</span>],</span><br><span class="line">                               class_names = [<span class="string">&quot;分类A&quot;</span>,<span class="string">&quot;分类B&quot;</span>],</span><br><span class="line">                               filled = <span class="literal">True</span>,</span><br><span class="line">                               rotate = <span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 要先用brew install graphviz</span></span><br><span class="line">graph = pdp.graph_from_dot_data(dot_data)</span><br><span class="line">img = Image(graph.create_png())</span><br></pre></td></tr></table></figure>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/img/2019-07-29_决策树_5.png"
                      alt=""
                ></p>
<blockquote>
<p>参考：</p>
</blockquote>
<ol>
<li><a class="link"   href="http://www.broadview.com.cn/book/5337" >从机器学习到深度学习：基于Scikit-learn与TensorFlow的高效开发实战<i class="fas fa-external-link-alt"></i></a></li>
<li><a class="link"   href="https://www.cnblogs.com/jin-liang/p/9638197.html" >决策树（四）决策树调参<i class="fas fa-external-link-alt"></i></a></li>
</ol>
]]></content>
      <categories>
        <category>统计与机器学习</category>
        <category>决策树算法（Decision Tree Algorithm）</category>
      </categories>
  </entry>
  <entry>
    <title>网格搜寻</title>
    <url>/%E7%BB%9F%E8%AE%A1%E4%B8%8E%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E5%85%B6%E4%BB%96/2828/</url>
    <content><![CDATA[<h2 id="数据集载入"><a href="#数据集载入" class="headerlink" title="数据集载入"></a>数据集载入</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sns</span><br><span class="line"><span class="keyword">import</span> warnings</span><br><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> minmax_scale</span><br><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> LabelEncoder</span><br><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> Imputer</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line">warnings.filterwarnings(<span class="string">&#x27;ignore&#x27;</span>)</span><br><span class="line"></span><br><span class="line">df = pd.read_csv(<span class="string">u&quot;2019-08-01_金融数据描述_data1.csv&quot;</span>,encoding = <span class="string">&#x27;gbk&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除无用</span></span><br><span class="line">delete = [<span class="string">&#x27;Unnamed: 0&#x27;</span>, <span class="string">&#x27;custid&#x27;</span>, <span class="string">&#x27;trade_no&#x27;</span>, <span class="string">&#x27;bank_card_no&#x27;</span>,<span class="string">&#x27;id_name&#x27;</span>,<span class="string">&#x27;latest_query_time&#x27;</span>,<span class="string">&#x27;source&#x27;</span>,<span class="string">&#x27;loans_latest_time&#x27;</span>,<span class="string">&#x27;first_transaction_time&#x27;</span>, <span class="string">&#x27;student_feature&#x27;</span>]</span><br><span class="line">df = df.drop(delete,axis=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 处理分类型特征</span></span><br><span class="line">df[<span class="string">&#x27;reg_preference_for_trad&#x27;</span>] = LabelEncoder().fit_transform(df[<span class="string">&#x27;reg_preference_for_trad&#x27;</span>].astype(<span class="built_in">str</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用众数填充</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(df.shape[<span class="number">1</span>]):</span><br><span class="line">    feature = df.iloc[:,i].values.reshape(-<span class="number">1</span>,<span class="number">1</span>)</span><br><span class="line">    imp_mode = Imputer(strategy=<span class="string">&#x27;most_frequent&#x27;</span>)</span><br><span class="line">    df.iloc[:,i] = imp_mode.fit_transform(feature)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 数据划分</span></span><br><span class="line">X = df[:].drop(<span class="string">&quot;status&quot;</span>,axis=<span class="number">1</span>)</span><br><span class="line">y = df[<span class="string">&quot;status&quot;</span>]</span><br><span class="line">X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=<span class="number">0.2</span>, shuffle = <span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 数据归一化</span></span><br><span class="line">X_train = minmax_scale(X_train)</span><br><span class="line">X_test =  minmax_scale(X_test)</span><br></pre></td></tr></table></figure>
<h2 id="Simple-Grid-Search（使用Holdout验证）"><a href="#Simple-Grid-Search（使用Holdout验证）" class="headerlink" title="Simple Grid Search（使用Holdout验证）"></a>Simple Grid Search（使用Holdout验证）</h2><p>交叉验证的目的是为了让模型评估更加准确可信。</p>
<p>缺点：</p>
<ul>
<li>最终的表现好坏与初始数据的划分结果有很大的关系，为了处理这种情况，可以采用交叉验证的方式来减少偶然性</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.svm <span class="keyword">import</span> SVC</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Size of training set:&#123;&#125; size of testing set:&#123;&#125;&quot;</span>.<span class="built_in">format</span>(X_train.shape[<span class="number">0</span>],X_test.shape[<span class="number">0</span>]))</span><br><span class="line"></span><br><span class="line"><span class="comment">#### grid search start</span></span><br><span class="line">best_score = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> gamma <span class="keyword">in</span> [<span class="number">0.001</span>,<span class="number">0.01</span>,<span class="number">0.1</span>,<span class="number">1</span>,<span class="number">10</span>,<span class="number">100</span>]:</span><br><span class="line">    <span class="keyword">for</span> C <span class="keyword">in</span> [<span class="number">0.001</span>,<span class="number">0.01</span>,<span class="number">0.1</span>,<span class="number">1</span>,<span class="number">10</span>,<span class="number">100</span>]:</span><br><span class="line">        svm = SVC(gamma=gamma,C=C) <span class="comment">#对于每种参数可能的组合，进行一次训练；</span></span><br><span class="line">        svm.fit(X_train,y_train)</span><br><span class="line">        score = svm.score(X_test,y_test)</span><br><span class="line">        <span class="keyword">if</span> score &gt; best_score: <span class="comment">#找到表现最好的参数</span></span><br><span class="line">            best_score = score</span><br><span class="line">            best_parameters = &#123;<span class="string">&#x27;gamma&#x27;</span>:gamma,<span class="string">&#x27;C&#x27;</span>:C&#125;</span><br><span class="line"><span class="comment">### grid search end</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Best score:&#123;:.2f&#125;&quot;</span>.<span class="built_in">format</span>(best_score))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Best parameters:&#123;&#125;&quot;</span>.<span class="built_in">format</span>(best_parameters))</span><br></pre></td></tr></table></figure>
<pre><code>Size of training set:3803 size of testing set:951
Best score:0.78
Best parameters:&#123;&#39;gamma&#39;: 0.1, &#39;C&#39;: 10&#125;
</code></pre><p>原始数据集划分成训练集和测试集以后，其中测试集除了用作调整参数，也用来测量模型的好坏；这样做导致最终的评分结果比实际效果要好，错估模型的泛化能力。</p>
<p>解决方法是可以对训练集再进行一次划分，分成训练集和验证集，这样划分的结果就是：原始数据划分为3份，分别为：训练集、验证集和测试集；其中训练集用来模型训练，验证集用来调整参数，而测试集用来衡量模型表现好坏。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">X_trainval,y_trainval = X_train,y_train</span><br><span class="line">X_train,X_val,y_train,y_val = train_test_split(X_trainval,y_trainval)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Size of training set:&#123;&#125; size of validation set:&#123;&#125; size of teseting set:&#123;&#125;&quot;</span>.<span class="built_in">format</span>(X_train.shape[<span class="number">0</span>],X_val.shape[<span class="number">0</span>],X_test.shape[<span class="number">0</span>]))</span><br><span class="line"></span><br><span class="line">best_score = <span class="number">0.0</span></span><br><span class="line"><span class="keyword">for</span> gamma <span class="keyword">in</span> [<span class="number">0.001</span>,<span class="number">0.01</span>,<span class="number">0.1</span>,<span class="number">1</span>,<span class="number">10</span>,<span class="number">100</span>]:</span><br><span class="line">    <span class="keyword">for</span> C <span class="keyword">in</span> [<span class="number">0.001</span>,<span class="number">0.01</span>,<span class="number">0.1</span>,<span class="number">1</span>,<span class="number">10</span>,<span class="number">100</span>]:</span><br><span class="line">        svm = SVC(gamma=gamma,C=C)</span><br><span class="line">        svm.fit(X_train,y_train)</span><br><span class="line">        score = svm.score(X_val,y_val)</span><br><span class="line">        <span class="keyword">if</span> score &gt; best_score:</span><br><span class="line">            best_score = score</span><br><span class="line">            best_parameters = &#123;<span class="string">&#x27;gamma&#x27;</span>:gamma,<span class="string">&#x27;C&#x27;</span>:C&#125;</span><br><span class="line">svm = SVC(**best_parameters)</span><br><span class="line">svm.fit(X_trainval,y_trainval)</span><br><span class="line">test_score = svm.score(X_test,y_test)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Best score on validation set:&#123;:.2f&#125;&quot;</span>.<span class="built_in">format</span>(best_score))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Best parameters:&#123;&#125;&quot;</span>.<span class="built_in">format</span>(best_parameters))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Best score on test set:&#123;:.2f&#125;&quot;</span>.<span class="built_in">format</span>(test_score))</span><br></pre></td></tr></table></figure>
<pre><code>Size of training set:2852 size of validation set:951 size of teseting set:951
Best score on validation set:0.79
Best parameters:&#123;&#39;gamma&#39;: 0.01, &#39;C&#39;: 100&#125;
Best score on test set:0.76
</code></pre><h2 id="Grid-Search-with-Cross-Validation（使用K折交叉验证）"><a href="#Grid-Search-with-Cross-Validation（使用K折交叉验证）" class="headerlink" title="Grid Search with Cross Validation（使用K折交叉验证）"></a>Grid Search with Cross Validation（使用K折交叉验证）</h2><p>Grid Search 调参方法存在的共性弊端就是：耗时；参数越多，候选值越多，耗费时间越长。<br>所以，一般情况下，先定一个大范围，然后再细化。</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/img/2019-08-10_网格搜寻_1.png"
                      alt=""
                ></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> GridSearchCV</span><br><span class="line"></span><br><span class="line">param_grid = &#123;<span class="string">&quot;gamma&quot;</span>:[<span class="number">0.001</span>,<span class="number">0.01</span>,<span class="number">0.1</span>,<span class="number">1</span>,<span class="number">10</span>,<span class="number">100</span>],</span><br><span class="line">             <span class="string">&quot;C&quot;</span>:[<span class="number">0.001</span>,<span class="number">0.01</span>,<span class="number">0.1</span>,<span class="number">1</span>,<span class="number">10</span>,<span class="number">100</span>]&#125;</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Parameters:&#123;&#125;&quot;</span>.<span class="built_in">format</span>(param_grid))</span><br><span class="line"></span><br><span class="line">grid_search = GridSearchCV(SVC(),param_grid,cv=<span class="number">5</span>)</span><br><span class="line">grid_search.fit(X_train,y_train)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Test set score:&#123;:.2f&#125;&quot;</span>.<span class="built_in">format</span>(grid_search.score(X_test,y_test)))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Best parameters:&#123;&#125;&quot;</span>.<span class="built_in">format</span>(grid_search.best_params_))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Best score on train set:&#123;:.2f&#125;&quot;</span>.<span class="built_in">format</span>(grid_search.best_score_))</span><br></pre></td></tr></table></figure>
<pre><code>Parameters:&#123;&#39;gamma&#39;: [0.001, 0.01, 0.1, 1, 10, 100], &#39;C&#39;: [0.001, 0.01, 0.1, 1, 10, 100]&#125;
Test set score:0.77
Best parameters:&#123;&#39;C&#39;: 10, &#39;gamma&#39;: 0.1&#125;
Best score on train set:0.79
</code></pre><blockquote>
<p>参考：</p>
</blockquote>
<ol>
<li><a class="link"   href="https://github.com/datawhalechina/Datawhale_Learning/tree/master/doc/%E7%90%86%E8%AE%BA%E5%BA%94%E7%94%A8/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98" >DataWhale数据挖掘实战营<i class="fas fa-external-link-alt"></i></a></li>
<li><a class="link"   href="https://www.jianshu.com/p/55b9f2ea283b" >调参必备—Grid Search网格搜索<i class="fas fa-external-link-alt"></i></a></li>
<li><a class="link"   href="https://www.cnblogs.com/dblsha/p/10161798.html" >交叉验证和网格搜索<i class="fas fa-external-link-alt"></i></a></li>
</ol>
]]></content>
      <categories>
        <category>统计与机器学习</category>
        <category>其他</category>
      </categories>
  </entry>
  <entry>
    <title>基本介绍</title>
    <url>/%E7%BB%9F%E8%AE%A1%E4%B8%8E%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E9%9B%86%E6%88%90%E7%AE%97%E6%B3%95%EF%BC%88Ensemble-algorithms%EF%BC%89/45240/</url>
    <content><![CDATA[<p>集成学习著重于在训练集上做文章，将训练集划分为各种子集或权重变换后用较弱的基函數擬合，然後綜合若干個基模型的預測作為最終整體效果</p>
<h2 id="集成学习分類"><a href="#集成学习分類" class="headerlink" title="集成学习分類"></a>集成学习分類</h2><ul>
<li>Booststrap：有放回的抽样方法，是非参数统计中一种重要的估计统计量方差进而进行区间估计的统计方法。<ul>
<li>步骤<ul>
<li>采用重抽样技术从原始样本中抽取一定数量（自己给定）的样本，此过程允许重复抽样</li>
<li>根据抽出的样本计算统计量T</li>
<li>重复上述N次（一般大于1000），得到统计量T</li>
<li>计算上述N个统计量T的样本方差，得到统计量的方差</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li>Bagging(Bootstrap Aggregating)：若干個基模型在若干個訓練子集上進行互相獨立的分別訓練，在預測時一次性綜合這些基模型的結果</li>
</ul>
<ul>
<li>Boosting：按迭代順序逐個訓練基模型，在每次訓練後都進行模型測試，然後根據測試結果調整下一輪基模型訓練時所採用的訓練數據，最後預測時仍使用所有子模型的預測得到最終結果</li>
</ul>
<h2 id="随机森林"><a href="#随机森林" class="headerlink" title="随机森林"></a>随机森林</h2><p>随机森林在训练过程中对训练集进行随机抽样，分别进行训练后形成若干个小的决策树。分类问题的预测通过这些决策树的投票完成，回归问题的预测通过对基决策树结果求平均完成。基决策树一般采用”较大偏差”、”较小方差”的弱模型，和普通决策树有以下差别：</p>
<ul>
<li>样本裁减：通过随机采样，每个弱模型只训练部分样本数据</li>
<li>特征裁减：每个基模型的决策树只选用数据特征中的一部分进行训练和预测，随机抽样保证所有特征都能被部分弱模型学习到</li>
<li>小树：由于特征和样本数量有限，每个弱模型决策树都长不高，所以不用担心会过拟合进行剪枝</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.datasets <span class="keyword">import</span> load_iris</span><br><span class="line"><span class="keyword">from</span> sklearn.ensemble <span class="keyword">import</span> RandomForestClassifier</span><br><span class="line"></span><br><span class="line">iris = load_iris()</span><br><span class="line"><span class="comment"># Bootstrap: 有放回采样、Out-Bag Estimation: 使用为参与到本身训练的数据集进行评估预测</span></span><br><span class="line">clf = RandomForestClassifier(n_estimators = <span class="number">20</span>, bootstrap = <span class="literal">True</span>, oob_score = <span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">clf.fit(iris.data, iris.target)</span><br><span class="line"></span><br><span class="line">clf.oob_score_</span><br></pre></td></tr></table></figure>
<pre><code>0.94666666666666666
</code></pre><h2 id="AdaBoost"><a href="#AdaBoost" class="headerlink" title="AdaBoost"></a>AdaBoost</h2><p>通过调整训练集中每个样本的权重使得每次迭代在不同的训练集上运行。在第一次迭代时训练集中美个样本会被赋予相同权值，当训练和评估完成后，AdaBoost会更新训练集中的样本，使得在本轮评估中被预测正确的样本权值减少，被预测错误的增加，然后开始第二轮的迭代，如此往复。每个迭代的基模型会逐渐更关注被预测错误的样本，如此提高整体拟合效果。因为每次迭代都用全部样本，故没有oob</p>
<p>AdaBoostClassifier和AdaBoostRegressor都有，即我们的弱分类学习器或者弱回归学习器。理论上可以选择任何一个分类或者回归学习器，不过需要支持样本权重。我们常用的一般是CART决策树或者神经网络MLP。默认是决策树，即AdaBoostClassifier默认使用CART分类树DecisionTreeClassifier，而AdaBoostRegressor默认使用CART回归树DecisionTreeRegressor。另外有一个要注意的点是，如果我们选择的AdaBoostClassifier算法是SAMME.R，则我们的弱分类学习器还需要支持概率预测，也就是在scikit-learn中弱分类学习器对应的预测方法除了predict还需要有predict_proba</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.datasets <span class="keyword">import</span> load_iris</span><br><span class="line"><span class="keyword">from</span> sklearn.ensemble <span class="keyword">import</span> AdaBoostClassifier</span><br><span class="line"></span><br><span class="line">iris = load_iris()</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> sklearn.utils <span class="keyword">import</span> shuffle</span><br><span class="line">X, y = shuffle(iris.data, iris.target)</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> sklearn.naive_bayes <span class="keyword">import</span> GaussianNB</span><br><span class="line">clf = AdaBoostClassifier(GaussianNB())</span><br><span class="line"></span><br><span class="line">clf.fit(X[:-<span class="number">20</span>],y[:-<span class="number">20</span>])</span><br><span class="line">clf.score(X[-<span class="number">20</span>:],y[-<span class="number">20</span>:])</span><br></pre></td></tr></table></figure>
<pre><code>1.0
</code></pre><blockquote>
<p>参考：</p>
</blockquote>
<ol>
<li><a class="link"   href="http://www.broadview.com.cn/book/5337" >从机器学习到深度学习：基于Scikit-learn与TensorFlow的高效开发实战<i class="fas fa-external-link-alt"></i></a></li>
<li><a class="link"   href="https://www.cnblogs.com/pinard/p/6136914.html" >scikit-learn Adaboost类库使用小结<i class="fas fa-external-link-alt"></i></a></li>
<li><a class="link"   href="https://blog.csdn.net/wangqi880/article/details/49765673" >快速理解bootstrap,bagging,boosting-三个概念<i class="fas fa-external-link-alt"></i></a></li>
</ol>
]]></content>
      <categories>
        <category>统计与机器学习</category>
        <category>集成算法（Ensemble algorithms）</category>
      </categories>
  </entry>
  <entry>
    <title>数据仓库设计</title>
    <url>/%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93/22639/</url>
    <content><![CDATA[<h2 id="基本介绍"><a href="#基本介绍" class="headerlink" title="基本介绍"></a>基本介绍</h2><p>数据仓库是一个<strong>面向主题的</strong>、<strong>集成的</strong>、<strong>相对稳定的</strong>且<strong>反映历史变化的</strong>数据集合，用于支持管理人员的决策</p>
<ul>
<li><strong>面向主题的</strong>：为特定的数据分析领域与目标提供数据支持，比如交易库、用户库等</li>
<li><strong>集成的</strong>：面向分析的数据仓库需要集成多种不同数据源以及文件以进行比较鉴别</li>
<li><strong>相对稳定的</strong>：数据仓库中的数据是经过抽取而形成的分析型数据，主要供企业决策分析之用，执行的主要是‘查询’操作，一般不执行‘更新’操作。一个稳定的数据环境有利于数据分析的纵向和横向对比</li>
<li><strong>反映历史变化的</strong>：数据仓库中的数据以一定时间段为单位进行统一更新，不断增加新的数据内容、不断删去旧的数据内容、更新与时间有关的综合数据</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th>　</th>
<th>数据库系统设计</th>
<th>数据仓库系统设计</th>
</tr>
</thead>
<tbody>
<tr>
<td>面向的数据类型</td>
<td>面向应用</td>
<td>面向分析</td>
</tr>
<tr>
<td>应用需求</td>
<td>比较明确</td>
<td>不太明确</td>
</tr>
<tr>
<td>系统设计目标</td>
<td>事务处理的并发性、安全性、高效性</td>
<td>历史数据的存储，数据质量的提升和数据模型的构建</td>
</tr>
<tr>
<td>数据来源</td>
<td>业务输入</td>
<td>业务系统</td>
</tr>
<tr>
<td>系统设计的方法</td>
<td>需求驱动</td>
<td>数据驱动</td>
</tr>
</tbody>
</table>
</div>
<h2 id="体系结构"><a href="#体系结构" class="headerlink" title="体系结构"></a>体系结构</h2><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/img/2019-08-22_数据仓库设计_1.png"
                      alt=""
                ></p>
<h2 id="模型"><a href="#模型" class="headerlink" title="模型"></a>模型</h2><h3 id="星形模型"><a href="#星形模型" class="headerlink" title="星形模型"></a>星形模型</h3><ul>
<li>星型模型组成：<ul>
<li>一个包含大批数据和不冗余数据的事实表（中心表）</li>
<li>一组小的附属表，称为维表。每维一个</li>
</ul>
</li>
<li>事实表中每条元组都含有指向各个维表的外键和一些相应的测量数据，事实表的记录数量很多，维表中记录的是有关这一维的属性</li>
</ul>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="http://www.ibm.com/developerworks/cn/rational/r-warehouses/images/image005.png"
                      alt=""
                ></p>
<h3 id="雪花模型"><a href="#雪花模型" class="headerlink" title="雪花模型"></a>雪花模型</h3><ul>
<li>雪花模型是对星型模型维表的进一步层次化</li>
<li>原来的各维表可能被扩展为小的事实表，形成一些局部的“层次”区域</li>
</ul>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="http://www.ibm.com/developerworks/cn/rational/r-warehouses/images/image013.png"
                      alt=""
                ></p>
<h3 id="比较"><a href="#比较" class="headerlink" title="比较"></a>比较</h3><p>雪花模式的维表是规范化的，以减少冗余。这种表易于维护，并节省存储空间。但与巨大的事实表相比，这种空间的节省可以忽略</p>
<p>由于执行查询需要更多的连接操作，雪花结构可能降低浏览的性能。<br>在数据仓库设计中，星型模式更加常用</p>
<h2 id="五层模型架构"><a href="#五层模型架构" class="headerlink" title="五层模型架构"></a>五层模型架构</h2><div class="table-container">
<table>
<thead>
<tr>
<th>　　　　　</th>
<th>数据来源及建模方式</th>
<th>服务领域</th>
<th>设计原则</th>
</tr>
</thead>
<tbody>
<tr>
<td>DM层</td>
<td>数据来自DWS和MID层，应用支撑</td>
<td>前端报表展现，数据分析，产品数据支撑</td>
<td>面向应用开发报表、支撑产品需求</td>
</tr>
<tr>
<td>DWS层</td>
<td>数据来自MID和DWD层，轻度汇总，面向应用结合数据设计</td>
<td>各类服务模块，原子指标，通用应用模型开发</td>
<td>基于数据面向应用和通用服务，该层模型随需求变更会不断演化</td>
</tr>
<tr>
<td>MID层</td>
<td>数据来自DWD层，是MID事实明细层，采用维度建模，星型架构</td>
<td>为数据仓库提供各主题业务明细数据</td>
<td>分业务线按主题建模，数据只来自于DWD</td>
</tr>
<tr>
<td>DWD层</td>
<td>数据来自ODS层,数据模型是ODS一致</td>
<td>数据质量提升，数据清洗、码值标准化，数据加密，数据校验</td>
<td>加密脱敏及治理后的规整数据，对外开放查询</td>
</tr>
<tr>
<td>ODS层</td>
<td>数据准备区，数据来源是各业务系统的源数据，物理模型和业务系统模型一致。</td>
<td>为其它逻辑层提供数据，数据溯源，数据存储</td>
<td>原始数据，不对外开放查询使用</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li>细化DW建模<ul>
<li>对DW中各个主题业务建模进行了细分，每个层次具有不同的功能。</li>
<li>保留了最细粒度数据</li>
<li>满足了不同维度，不同事实的信息</li>
</ul>
</li>
</ul>
<ul>
<li>满足数据重新生成<ul>
<li>不同层次的数据支持数据重新生成</li>
<li>无需备份恢复</li>
<li>解决了由不同故障带来的数据质量问题</li>
<li>消除了重新初始化数据的烦恼</li>
</ul>
</li>
</ul>
<ul>
<li>快速适应需求变更<ul>
<li>适应维度变化</li>
<li>明细基础数据层稳定，适应前端应用层业务需求变更</li>
<li>所有前端应用层模型之间不存在依赖，需求变更对DW整个模型影响范围小 </li>
<li>能适应短周期内上线下线需求</li>
</ul>
</li>
</ul>
<h2 id="元数据管理"><a href="#元数据管理" class="headerlink" title="元数据管理"></a>元数据管理</h2><p>最基本的元数据相当于数据库系统中的数据字典。元数据定义了数据仓库有什么，指明了数据仓库中数据的内容和位置，刻画了数据的抽取和转换规则，存储了与数据仓库主题有关的各种商业信息，而且整个数据仓库的运行都是基于元数据的</p>
<ul>
<li>数据源的元数据</li>
<li>数据模型的元数据</li>
<li>数据仓库映射的元数据</li>
<li>数据仓库使用的元数据</li>
</ul>
<h2 id="构建方法"><a href="#构建方法" class="headerlink" title="构建方法"></a>构建方法</h2><h3 id="自上而下（Bill-Inmon）"><a href="#自上而下（Bill-Inmon）" class="headerlink" title="自上而下（Bill Inmon）"></a>自上而下（Bill Inmon）</h3><ul>
<li>从整个企业的业务环境入手，分析其中的概念，应该有什么样的数据，达成概念完整性，并不从它需要支持那些应用入手</li>
<li>一个企业建立唯一的数据中心，就像一个数据的仓库，其中数据是经过整合、经过清洗、去掉脏数据的、标准的，能够提供统一的视图</li>
</ul>
<h3 id="自下而上（Ralph-Kimbal）"><a href="#自下而上（Ralph-Kimbal）" class="headerlink" title="自下而上（Ralph Kimbal）"></a>自下而上（Ralph Kimbal）</h3><ul>
<li>按照实际的应用需求，加载需要的数据，不需要的数据不必要加载到数据仓库当中</li>
<li>这种方式建设周期较短，客户能够很快看到结果，适合做项目类数据仓库</li>
</ul>
<h3 id="混合法"><a href="#混合法" class="headerlink" title="混合法"></a>混合法</h3><ul>
<li>结合自上而下、自下而上两种构造数据仓库的方法，结合企业自身特点，分析业务环境构造数据仓库底层数据基础，再按照实际的应用需求构造数据仓库上层数据</li>
</ul>
<h3 id="应避免的设计"><a href="#应避免的设计" class="headerlink" title="应避免的设计"></a>应避免的设计</h3><ul>
<li>任务间依赖较乱</li>
<li>链路太长</li>
<li>数据质量低</li>
<li>数据安全级别低</li>
<li>元数据信息缺失</li>
<li>码值无标准</li>
</ul>
<h2 id="架构原则"><a href="#架构原则" class="headerlink" title="架构原则"></a>架构原则</h2><ul>
<li>底层业务的数据驱动为导向同时结合业务需求驱动</li>
<li>便于数据分析<ul>
<li>屏蔽底层复杂业务</li>
<li>简单、完整、集成的将数据暴露给分析层</li>
</ul>
</li>
<li>底层业务变动与上层需求变动对模型冲击最小化<ul>
<li>业务系统变化影响削弱在基础数据层（资金订单改造）</li>
<li>结合自上而下的建设方法削弱需求变动对模型的影响</li>
<li>数据水平层次清晰化</li>
</ul>
</li>
<li>高内聚松耦合<ul>
<li>主题之内或各个完整意义的系统内数据的高内聚</li>
<li>主题之间或各个完整意义的系统间数据的松耦合</li>
</ul>
</li>
<li>构建仓库基础数据层<ul>
<li>使得底层业务数据整合工作与上层应用开发工作相隔离，为仓库大规模开发奠定基础</li>
<li>仓库层次更加清晰，对外暴露数据更加统一</li>
</ul>
</li>
</ul>
<blockquote>
<p>参考：</p>
</blockquote>
<ol>
<li><a class="link"   href="https://www.cnblogs.com/xiaojianblogs/p/7655458.html" >数据仓库建模之雪花模型和星形模型<i class="fas fa-external-link-alt"></i></a></li>
<li><a class="link"   href="https://max.book118.com/html/2017/0618/116376625.shtm" >支付宝数据建模介绍<i class="fas fa-external-link-alt"></i></a></li>
</ol>
]]></content>
      <categories>
        <category>数据仓库</category>
      </categories>
  </entry>
  <entry>
    <title>堆糖图片多线程抓取</title>
    <url>/%E9%A1%B9%E7%9B%AE/%E7%88%AC%E8%99%AB/46912/</url>
    <content><![CDATA[<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> urllib.parse</span><br><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"></span><br><span class="line"><span class="comment">#多线程锁</span></span><br><span class="line">thread_lock = threading.BoundedSemaphore(value = <span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_page</span>(<span class="params">url</span>):</span></span><br><span class="line">    <span class="comment">#GET之后用utf-8解析</span></span><br><span class="line">    page = requests.get(url).content.decode(<span class="string">&quot;utf-8&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> page</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">findall_in_page</span>(<span class="params">page, start_part, end_part</span>):</span></span><br><span class="line">    all_strings = []</span><br><span class="line">    end = <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> page.find(start_part,end) != -<span class="number">1</span>:</span><br><span class="line">        start = page.find(start_part, end)+<span class="built_in">len</span>(start_part)</span><br><span class="line">        end = page.find(end_part, start)</span><br><span class="line">        string = page[start: end]</span><br><span class="line">        all_strings.append(string)</span><br><span class="line">    <span class="keyword">return</span> all_strings</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">pic_urls_find_part</span>(<span class="params">pages</span>):</span></span><br><span class="line">    pic_pics = []</span><br><span class="line">    <span class="keyword">for</span> page <span class="keyword">in</span> pages:</span><br><span class="line">        urls = findall_in_page(page, <span class="string">&#x27;&quot;path&quot;:&quot;&#x27;</span>, <span class="string">&#x27;&quot;&#x27;</span>)</span><br><span class="line">        pic_pics.extend(urls)</span><br><span class="line">    <span class="keyword">return</span> pic_pics</span><br><span class="line">    </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">pages_usr</span>(<span class="params">label</span>):</span></span><br><span class="line">    pages = []</span><br><span class="line">    url = <span class="string">&#x27;https://www.duitang.com/napi/blog/list/by_search/?kw=&#123;&#125;&amp;start=&#123;&#125;&amp;limit=1000&#x27;</span></span><br><span class="line">    <span class="comment">#将中文转成ASCII码</span></span><br><span class="line">    label = urllib.parse.quote(label)</span><br><span class="line">    <span class="comment">#观察response可发现max=3600</span></span><br><span class="line">    <span class="keyword">for</span> index <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>,<span class="number">3600</span>,<span class="number">100</span>):</span><br><span class="line">        u = url.<span class="built_in">format</span>(label,index)</span><br><span class="line">        page = get_page(u)</span><br><span class="line">        pages.append(page)</span><br><span class="line">        <span class="keyword">return</span> pages</span><br><span class="line">        </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">download_pic</span>(<span class="params">url, name</span>):</span></span><br><span class="line">    req = requests.get(url)</span><br><span class="line">    path = <span class="string">&#x27;test/杨幂&#x27;</span>+<span class="built_in">str</span>(name)+<span class="string">&quot;.jpg&quot;</span></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(path, <span class="string">&#x27;wb+&#x27;</span>) <span class="keyword">as</span> file:</span><br><span class="line">        file.write(req.content)</span><br><span class="line">    <span class="comment">#将锁打开避免堵塞</span></span><br><span class="line">    thread_lock.release()</span><br><span class="line">        </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>(<span class="params">label</span>):</span></span><br><span class="line">    pages = pages_usr(label)</span><br><span class="line">    pic_urls = pic_urls_find_part(pages)</span><br><span class="line">    numbers = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> url <span class="keyword">in</span> pic_urls:</span><br><span class="line">        numbers += <span class="number">1</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Now Downloading: &#123;&#125;&quot;</span>.<span class="built_in">format</span>(numbers))</span><br><span class="line">        </span><br><span class="line">        <span class="comment">#锁上，并开始执行</span></span><br><span class="line">        thread_lock.acquire()</span><br><span class="line">        t = threading.Thread(target=download_pic, args=(url, numbers))</span><br><span class="line">        t.start()</span><br><span class="line">        </span><br><span class="line">main(<span class="string">&#x27;杨幂&#x27;</span>)</span><br></pre></td></tr></table></figure>
<pre><code>Now Downloading: 1
Now Downloading: 2
Now Downloading: 3
Now Downloading: 4
Now Downloading: 5
Now Downloading: 6
Now Downloading: 7
Now Downloading: 8
Now Downloading: 9
Now Downloading: 10
</code></pre><blockquote>
<p>参考：</p>
</blockquote>
<ol>
<li><a class="link"   href="https://coding.imooc.com/class/chapter/325.html" >从零起步 系统入门Python爬虫工程师<i class="fas fa-external-link-alt"></i></a></li>
</ol>
]]></content>
      <categories>
        <category>项目</category>
        <category>爬虫</category>
      </categories>
  </entry>
  <entry>
    <title>Pandas移动窗口</title>
    <url>/Python/24354/</url>
    <content><![CDATA[<h2 id="简单范例"><a href="#简单范例" class="headerlink" title="简单范例"></a>简单范例</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">index = pd.date_range(<span class="string">&#x27;20190116&#x27;</span>, <span class="string">&#x27;20190130&#x27;</span>)</span><br><span class="line">data = [<span class="number">4</span>, <span class="number">8</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">9</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">13</span>, <span class="number">6</span>]</span><br><span class="line">ser_data = pd.Series(data, index=index)</span><br><span class="line">ser_data</span><br></pre></td></tr></table></figure>
<pre><code>2019-01-16     4
2019-01-17     8
2019-01-18     6
2019-01-19     5
2019-01-20     9
2019-01-21     1
2019-01-22     4
2019-01-23     5
2019-01-24     2
2019-01-25     4
2019-01-26     6
2019-01-27     7
2019-01-28     9
2019-01-29    13
2019-01-30     6
Freq: D, dtype: int64
</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">ser_data.rolling(<span class="number">3</span>).mean()</span><br></pre></td></tr></table></figure>
<pre><code>2019-01-16         NaN
2019-01-17         NaN
2019-01-18    6.000000
2019-01-19    6.333333
2019-01-20    6.666667
2019-01-21    5.000000
2019-01-22    4.666667
2019-01-23    3.333333
2019-01-24    3.666667
2019-01-25    3.666667
2019-01-26    4.000000
2019-01-27    5.666667
2019-01-28    7.333333
2019-01-29    9.666667
2019-01-30    9.333333
Freq: D, dtype: float64
</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">ser_data.rolling(<span class="number">3</span>, min_periods=<span class="number">1</span>).mean()</span><br></pre></td></tr></table></figure>
<pre><code>2019-01-16    4.000000
2019-01-17    6.000000
2019-01-18    6.000000
2019-01-19    6.333333
2019-01-20    6.666667
2019-01-21    5.000000
2019-01-22    4.666667
2019-01-23    3.333333
2019-01-24    3.666667
2019-01-25    3.666667
2019-01-26    4.000000
2019-01-27    5.666667
2019-01-28    7.333333
2019-01-29    9.666667
2019-01-30    9.333333
Freq: D, dtype: float64
</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">index = pd.date_range(<span class="string">&#x27;20190116&#x27;</span>, <span class="string">&#x27;20190216&#x27;</span>)</span><br><span class="line">data = np.random.randint(<span class="number">20</span>, size=<span class="built_in">len</span>(index))</span><br><span class="line">ser_data = pd.Series(data, index=index)</span><br><span class="line"></span><br><span class="line">plt.figure(figsize=(<span class="number">15</span>, <span class="number">5</span>))</span><br><span class="line"></span><br><span class="line">ser_data.plot(style=<span class="string">&#x27;r--&#x27;</span>, label=<span class="string">&#x27;原数据&#x27;</span>)</span><br><span class="line">ser_data.rolling(<span class="number">3</span>).mean().plot(style=<span class="string">&#x27;b&#x27;</span>, label=<span class="string">&#x27;滑动平滑后&#x27;</span>)</span><br><span class="line"></span><br><span class="line">plt.legend()</span><br><span class="line"></span><br><span class="line">plt.savefig(<span class="string">&quot;../img/2019-09-01_Pandas移动窗口.png&quot;</span>)</span><br><span class="line">plt.close()</span><br></pre></td></tr></table></figure>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/img/2019-09-01_Pandas移动窗口.png"
                      alt=""
                ></p>
<blockquote>
<p>参考：</p>
</blockquote>
<ol>
<li><a class="link"   href="http://blog.sina.com.cn/s/blog_c32439660102x2kp.html" >移动窗口函数rolling<i class="fas fa-external-link-alt"></i></a></li>
<li><a class="link"   href="https://pandas.pydata.org/pandas-docs/version/0.17.0/generated/pandas.rolling_window.html" >pandas 0.17.0 documentation<i class="fas fa-external-link-alt"></i></a></li>
<li><a class="link"   href="https://baijiahao.baidu.com/s?id=1622798772654712959&amp;wfr=spider&amp;for=pc" >python时间序列分析之_用pandas中的rolling函数计算时间窗口数据<i class="fas fa-external-link-alt"></i></a></li>
</ol>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
  </entry>
  <entry>
    <title>随机森林</title>
    <url>/%E7%BB%9F%E8%AE%A1%E4%B8%8E%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E9%9B%86%E6%88%90%E7%AE%97%E6%B3%95%EF%BC%88Ensemble-algorithms%EF%BC%89/47295/</url>
    <content><![CDATA[<h2 id="基本介绍"><a href="#基本介绍" class="headerlink" title="基本介绍"></a>基本介绍</h2><ol>
<li>从原始训练数据集中，应⽤bootstrap⽅法有放回地随机抽取k个新的⾃助样本集，并由此构建k棵分类回归树，每次未被抽到的样本组成了Ｋ个袋外数据（out-of-bag,BBB）</li>
<li>设有n个特征，则在每⼀棵树的每个节点处随机抽取m个特征，通过计算每个特征蕴含的信息量，特征中选择⼀个最具有分类能⼒的特征进⾏节点分裂</li>
<li>每棵树最⼤限度地⽣长， 不做任何剪裁</li>
<li>将⽣成的多棵树组成随机森林， ⽤随机森林对新的数据进⾏分类，分类结果按树分类器投票多少⽽定</li>
</ol>
<h2 id="RandomForestClassifier"><a href="#RandomForestClassifier" class="headerlink" title="RandomForestClassifier"></a>RandomForestClassifier</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.ensemble <span class="keyword">import</span> RandomForestClassifier          <span class="comment"># 导入随机森林的包</span></span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> datasets</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line"></span><br><span class="line">iris = datasets.load_iris()</span><br><span class="line">iris_data = iris[<span class="string">&#x27;data&#x27;</span>]</span><br><span class="line">iris_label = iris[<span class="string">&#x27;target&#x27;</span>]</span><br><span class="line">iris_target_name = iris[<span class="string">&#x27;target_names&#x27;</span>]</span><br><span class="line">X = np.array(iris_data)</span><br><span class="line">Y = np.array(iris_label)</span><br><span class="line"></span><br><span class="line">x_train, x_test, y_train, y_test = train_test_split(X, Y, test_size=<span class="number">0.25</span>)</span><br><span class="line"></span><br><span class="line">clf = RandomForestClassifier()</span><br><span class="line">clf = clf.fit(x_train, y_train)</span><br></pre></td></tr></table></figure>
<pre><code>/anaconda3/lib/python3.7/site-packages/sklearn/ensemble/forest.py:246: FutureWarning: The default value of n_estimators will change from 10 in version 0.20 to 100 in 0.22.
  &quot;10 in version 0.20 to 100 in 0.22.&quot;, FutureWarning)
</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> roc_curve, auc</span><br><span class="line"></span><br><span class="line">y_pred = clf.predict(x_test)</span><br><span class="line"></span><br><span class="line">false_positive_rate, true_positive_rate, thresholds = roc_curve(</span><br><span class="line">    y_test, y_pred, pos_label=<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">roc_auc = auc(false_positive_rate, true_positive_rate)</span><br><span class="line">roc_auc</span><br></pre></td></tr></table></figure>
<pre><code>0.9821428571428571
</code></pre><h3 id="调参"><a href="#调参" class="headerlink" title="调参"></a>调参</h3><ul>
<li>n_estimators: int 默认10</li>
<li>criterion：gini” or “entropy”(default=”gini”)表示使用基尼不纯度还是信息增益来计算属性，来选择最合适的节点</li>
<li>max_depth：(default=None)设置树的最大深度，默认为None，直到使每一个叶节点只有一个类别，或是达到min_samples_split</li>
<li>min_samples_split：默认2，int（可以被分割的所含最小样本数），float（总样本的百分比）</li>
<li>min_samples_leaf：默认1，int或float，叶子节点所含最少样本数</li>
<li>min_weight_fraction_leaf：(default=0) 叶子节点所需要的最小权值（当样本采样权重设置时才有意义，叶子节点的权重为属于该节点的所有样本权重和）</li>
<li>max_features：(default=”auto”) 每次找最好的分割点是可以考虑的特征数</li>
<li>max_leaf_nodes:最大叶节点数 和树的最大深度同样作用</li>
<li>bootstrap：是否有放回采样，默认True</li>
<li>oob_score：默认False，是否使用袋外数据统计泛华误差。利用在某次决策树训练中没有被采样选中的数据对该单个模型进行验证，算是一个简单的交叉验证。性能消耗小，但是效果不错</li>
<li>n_jobs：默认1.可并行job数。-1代表有多少job=core</li>
<li>random_state:如果给定相同的参数和训练数据，random_state的确定值将始终产生相同的结果</li>
<li>verbose：(default=0) 是否显示任务进程</li>
<li>warm_start：False热启动，决定是否使用上次调用该类的结果然后增加新的</li>
<li>class_weight：None，各个label的权重</li>
</ul>
<blockquote>
<p>参考：</p>
</blockquote>
<ol>
<li><a class="link"   href="http://www.broadview.com.cn/book/5337" >从机器学习到深度学习：基于Scikit-learn与TensorFlow的高效开发实战<i class="fas fa-external-link-alt"></i></a></li>
<li><a class="link"   href="https://blog.csdn.net/qwq1503/article/details/91535494" >sklearn 随机森林分类iris花<i class="fas fa-external-link-alt"></i></a></li>
<li><a class="link"   href="https://blog.csdn.net/wangqi880/article/details/49765673" >快速理解bootstrap,bagging,boosting-三个概念<i class="fas fa-external-link-alt"></i></a></li>
</ol>
]]></content>
      <categories>
        <category>统计与机器学习</category>
        <category>集成算法（Ensemble algorithms）</category>
      </categories>
  </entry>
  <entry>
    <title>AdaBoost</title>
    <url>/%E7%BB%9F%E8%AE%A1%E4%B8%8E%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E9%9B%86%E6%88%90%E7%AE%97%E6%B3%95%EF%BC%88Ensemble-algorithms%EF%BC%89/23192/</url>
    <content><![CDATA[<h2 id="基本介绍"><a href="#基本介绍" class="headerlink" title="基本介绍"></a>基本介绍</h2><ol>
<li>初始化训练数据的权值分布。每⼀个训练样本最开始时都被赋予相同的权值：1/N</li>
<li>进⾏多轮迭代，⽤m = 1,2, …, M表⽰迭代的第多少轮<ul>
<li>使⽤具有权值分布Dm的训练数据集学习，得到基本分类器（选取让误差率最低的阈值来设计基本分类器）</li>
<li>计算Gm(x)在训练数据集上的分类误差率，Gm(x)在训练数据集上的误差率em就是被Gm(x)误分类样本的权值之和<script type="math/tex; mode=display">e_m=\sum_{N}^{i=1}{w_{mi}I(G_m(x_i)\neq y_i)}</script></li>
<li>计算Gm(x)的系数，am表⽰Gm(x)在最终分类器中的重要程度（⽬的：得到基本分类器在最终分类器中所占的权重）：<script type="math/tex; mode=display">\alpha_m={\frac{1}{2}}log{\frac{1-e_m}{e_m}}</script>em &lt;= 1/2时，am &gt;= 0，且am随着em的减⼩⽽增⼤，意味着分类误差率越⼩的基本分类器在最终分类器中的作⽤越⼤</li>
<li>更新训练数据集的权值分布（为了得到样本的新的权值分布），⽤于下⼀轮迭代，使得被基本分类器Gm(x)误分类样本的权值增⼤，⽽被正确分类样本的权值减⼩  </li>
</ul>
</li>
<li>组合各个弱分类器，从⽽得到最终分类器<script type="math/tex; mode=display">G(x)=sign(f(x))=sign(\sum_{m=1}^{M}\alpha_m G_m(x))</script></li>
</ol>
<h2 id="AdaBoostClassifier"><a href="#AdaBoostClassifier" class="headerlink" title="AdaBoostClassifier"></a>AdaBoostClassifier</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.ensemble <span class="keyword">import</span> AdaBoostClassifier  </span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> datasets</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line"></span><br><span class="line">iris = datasets.load_iris()</span><br><span class="line">iris_data = iris[<span class="string">&#x27;data&#x27;</span>]</span><br><span class="line">iris_label = iris[<span class="string">&#x27;target&#x27;</span>]</span><br><span class="line">iris_target_name = iris[<span class="string">&#x27;target_names&#x27;</span>]</span><br><span class="line">X = np.array(iris_data)</span><br><span class="line">Y = np.array(iris_label)</span><br><span class="line"></span><br><span class="line">x_train, x_test, y_train, y_test = train_test_split(X, Y, test_size=<span class="number">0.25</span>)</span><br><span class="line"></span><br><span class="line">clf = AdaBoostClassifier()</span><br><span class="line">clf = clf.fit(x_train, y_train)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> roc_curve, auc</span><br><span class="line"></span><br><span class="line">y_pred = clf.predict(x_test)</span><br><span class="line"></span><br><span class="line">false_positive_rate, true_positive_rate, thresholds = roc_curve(</span><br><span class="line">    y_test, y_pred, pos_label=<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">roc_auc = auc(false_positive_rate, true_positive_rate)</span><br><span class="line">roc_auc</span><br></pre></td></tr></table></figure>
<pre><code>0.9225589225589226
</code></pre><ul>
<li>base_estimator: 基分类器，默认是决策树，在该分类器基础上进行boosting，理论上可以是任意一个分类器，但是如果是其他分类器时需要指明样本权重</li>
<li>n_estimators: 基分类器提升（循环）次数，默认是50次，这个值过大，模型容易过拟合；值过小，模型容易欠拟合</li>
<li>learning_rate: 学习率，表示梯度收敛速度，默认为1，如果过大，容易错过最优值，如果过小，则收敛速度会很慢；该值需要和n_estimators进行一个权衡，当分类器迭代次数较少时，学习率可以小一些，当迭代次数较多时，学习率可以适当放大</li>
<li>algorithm: boosting算法，也就是模型提升准则，有两种方式SAMME, 和SAMME.R两种，默认是SAMME.R，两者的区别主要是弱学习器权重的度量，前者是对样本集预测错误的概率进行划分的，后者是对样本集的预测错误的比例，即错分率进行划分的，默认是用的SAMME.R</li>
<li>random_state: 随机种子设置</li>
</ul>
<blockquote>
<p>参考：</p>
</blockquote>
<ol>
<li><a class="link"   href="http://www.broadview.com.cn/book/5337" >从机器学习到深度学习：基于Scikit-learn与TensorFlow的高效开发实战<i class="fas fa-external-link-alt"></i></a></li>
<li><a class="link"   href="https://www.cnblogs.com/ScorpioLu/p/8295990.html" >AdaBoost原理详解<i class="fas fa-external-link-alt"></i></a></li>
<li><a class="link"   href="https://www.cnblogs.com/mdevelopment/p/9445090.html" >AdaBoostClassifier参数<i class="fas fa-external-link-alt"></i></a></li>
</ol>
]]></content>
      <categories>
        <category>统计与机器学习</category>
        <category>集成算法（Ensemble algorithms）</category>
      </categories>
  </entry>
  <entry>
    <title>LeetCode 262_行程和用户</title>
    <url>/%E9%A1%B9%E7%9B%AE/LeetCode/15284/</url>
    <content><![CDATA[<h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><p>Trips 表中存所有出租车的行程信息。每段行程有唯一键 Id，Client_Id 和 Driver_Id 是 Users 表中 Users_Id 的外键。Status 是枚举类型，枚举成员为 (‘completed’, ‘cancelled_by_driver’, ‘cancelled_by_client’)。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">+----+-----------+-----------+---------+--------------------+----------+</span><br><span class="line">| Id | Client_Id | Driver_Id | City_Id |        Status      |Request_at|</span><br><span class="line">+----+-----------+-----------+---------+--------------------+----------+</span><br><span class="line">| 1  |     1     |    10     |    1    |     completed      |2013-10-01|</span><br><span class="line">| 2  |     2     |    11     |    1    | cancelled_by_driver|2013-10-01|</span><br><span class="line">| 3  |     3     |    12     |    6    |     completed      |2013-10-01|</span><br><span class="line">| 4  |     4     |    13     |    6    | cancelled_by_client|2013-10-01|</span><br><span class="line">| 5  |     1     |    10     |    1    |     completed      |2013-10-02|</span><br><span class="line">| 6  |     2     |    11     |    6    |     completed      |2013-10-02|</span><br><span class="line">| 7  |     3     |    12     |    6    |     completed      |2013-10-02|</span><br><span class="line">| 8  |     2     |    12     |    12   |     completed      |2013-10-03|</span><br><span class="line">| 9  |     3     |    10     |    12   |     completed      |2013-10-03| </span><br><span class="line">| 10 |     4     |    13     |    12   | cancelled_by_driver|2013-10-03|</span><br><span class="line">+----+-----------+-----------+---------+--------------------+----------+</span><br></pre></td></tr></table></figure>
<p>Users 表存所有用户。每个用户有唯一键 Users_Id。Banned 表示这个用户是否被禁止，Role 则是一个表示（‘client’, ‘driver’, ‘partner’）的枚举类型。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">+----------+--------+--------+</span><br><span class="line">| Users_Id | Banned |  Role  |</span><br><span class="line">+----------+--------+--------+</span><br><span class="line">|    1     |   No   | client |</span><br><span class="line">|    2     |   Yes  | client |</span><br><span class="line">|    3     |   No   | client |</span><br><span class="line">|    4     |   No   | client |</span><br><span class="line">|    10    |   No   | driver |</span><br><span class="line">|    11    |   No   | driver |</span><br><span class="line">|    12    |   No   | driver |</span><br><span class="line">|    13    |   No   | driver |</span><br><span class="line">+----------+--------+--------+</span><br></pre></td></tr></table></figure>
<p>写一段 SQL 语句查出 2013年10月1日 至 2013年10月3日 期间非禁止用户的取消率。基于上表，你的 SQL 语句应返回如下结果，取消率（Cancellation Rate）保留两位小数。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">+------------+-------------------+</span><br><span class="line">|     Day    | Cancellation Rate |</span><br><span class="line">+------------+-------------------+</span><br><span class="line">| 2013-10-01 |       0.33        |</span><br><span class="line">| 2013-10-02 |       0.00        |</span><br><span class="line">| 2013-10-03 |       0.50        |</span><br><span class="line">+------------+-------------------+</span><br></pre></td></tr></table></figure>
<h2 id="解题思路"><a href="#解题思路" class="headerlink" title="解题思路"></a>解题思路</h2><ol>
<li>将最后的限制先做出来，并保留唯一识别ID</li>
<li>分组记数</li>
<li>保留两位应用format，但官网解答写错用了round才对</li>
</ol>
<h2 id="code"><a href="#code" class="headerlink" title="code"></a>code</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Write your MySQL query statement below</span></span><br><span class="line">select</span><br><span class="line">    Request_at <span class="keyword">as</span> <span class="string">&#x27;Day&#x27;</span>,</span><br><span class="line">    <span class="built_in">round</span>(<span class="built_in">sum</span>(case when Status <span class="keyword">in</span> (<span class="string">&quot;cancelled_by_driver&quot;</span>,<span class="string">&quot;cancelled_by_client&quot;</span>) then <span class="number">1</span> <span class="keyword">else</span> <span class="number">0</span> end) / count(*),<span class="number">2</span>) <span class="keyword">as</span> <span class="string">&#x27;Cancellation Rate&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> Trips</span><br><span class="line">where <span class="built_in">id</span> <span class="keyword">in</span> </span><br><span class="line">(select</span><br><span class="line">    a.<span class="built_in">id</span> <span class="keyword">as</span> <span class="string">&#x27;id&#x27;</span></span><br><span class="line"><span class="keyword">from</span> Trips a</span><br><span class="line">left join Users b</span><br><span class="line">    on a.Client_Id = b.Users_Id</span><br><span class="line">left join Users c</span><br><span class="line">    on a.Driver_Id = c.Users_Id</span><br><span class="line">where b.Banned = <span class="string">&quot;No&quot;</span> <span class="keyword">and</span> c.Banned = <span class="string">&quot;No&quot;</span> <span class="keyword">and</span> Request_at &gt;= <span class="string">&quot;2013-10-01&quot;</span> <span class="keyword">and</span> Request_at &lt;= <span class="string">&quot;2013-10-03&quot;</span>)</span><br><span class="line"></span><br><span class="line">group by Request_at</span><br></pre></td></tr></table></figure>
<h2 id="成绩"><a href="#成绩" class="headerlink" title="成绩"></a>成绩</h2><ul>
<li>用时：151 ms</li>
<li>内存消耗：N/A</li>
</ul>
<blockquote>
<p>参考：</p>
</blockquote>
<ol>
<li><a class="link"   href="https://leetcode-cn.com/problems/trips-and-users/" >262. 行程和用户 - 力扣（LeetCode）<i class="fas fa-external-link-alt"></i></a></li>
</ol>
]]></content>
      <categories>
        <category>项目</category>
        <category>LeetCode</category>
      </categories>
  </entry>
  <entry>
    <title>LeetCode 185_部门工资前三高的所有员工</title>
    <url>/%E9%A1%B9%E7%9B%AE/LeetCode/61684/</url>
    <content><![CDATA[<h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><p>Employee 表包含所有员工信息，每个员工有其对应的工号 Id，姓名 Name，工资 Salary 和部门编号 DepartmentId 。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">+----+-------+--------+--------------+</span><br><span class="line">| Id | Name  | Salary | DepartmentId |</span><br><span class="line">+----+-------+--------+--------------+</span><br><span class="line">| 1  | Joe   | 85000  | 1            |</span><br><span class="line">| 2  | Henry | 80000  | 2            |</span><br><span class="line">| 3  | Sam   | 60000  | 2            |</span><br><span class="line">| 4  | Max   | 90000  | 1            |</span><br><span class="line">| 5  | Janet | 69000  | 1            |</span><br><span class="line">| 6  | Randy | 85000  | 1            |</span><br><span class="line">| 7  | Will  | 70000  | 1            |</span><br><span class="line">+----+-------+--------+--------------+</span><br></pre></td></tr></table></figure>
<p>Department 表包含公司所有部门的信息。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">+----+----------+</span><br><span class="line">| Id | Name     |</span><br><span class="line">+----+----------+</span><br><span class="line">| 1  | IT       |</span><br><span class="line">| 2  | Sales    |</span><br><span class="line">+----+----------+</span><br></pre></td></tr></table></figure>
<p>编写一个 SQL 查询，找出每个部门获得前三高工资的所有员工。例如，根据上述给定的表，查询结果应返回：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">+------------+----------+--------+</span><br><span class="line">| Department | Employee | Salary |</span><br><span class="line">+------------+----------+--------+</span><br><span class="line">| IT         | Max      | 90000  |</span><br><span class="line">| IT         | Randy    | 85000  |</span><br><span class="line">| IT         | Joe      | 85000  |</span><br><span class="line">| IT         | Will     | 70000  |</span><br><span class="line">| Sales      | Henry    | 80000  |</span><br><span class="line">| Sales      | Sam      | 60000  |</span><br><span class="line">+------------+----------+--------+</span><br></pre></td></tr></table></figure>
<p>解释：</p>
<p>IT 部门中，Max 获得了最高的工资，Randy 和 Joe 都拿到了第二高的工资，Will 的工资排第三。销售部门（Sales）只有两名员工，Henry 的工资最高，Sam 的工资排第二。</p>
<h2 id="解题思路"><a href="#解题思路" class="headerlink" title="解题思路"></a>解题思路</h2><ol>
<li>Employee join Employee，取出比自己大的数目小于3的</li>
<li>再取所需维度，where id 在上面筛选出来的</li>
<li>hive中直接用 row_number() over(partition by DepartmentId order by Salary desc) as rank，外面再包一层 rank &lt;= 3 即可</li>
</ol>
<h2 id="code"><a href="#code" class="headerlink" title="code"></a>code</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Write your MySQL query statement below</span></span><br><span class="line">select</span><br><span class="line">    d.Name <span class="keyword">as</span> <span class="string">&#x27;Department&#x27;</span>,</span><br><span class="line">    c.Name <span class="keyword">as</span> <span class="string">&#x27;Employee&#x27;</span>,</span><br><span class="line">    c.Salary <span class="keyword">as</span> <span class="string">&#x27;Salary&#x27;</span></span><br><span class="line"><span class="keyword">from</span> Employee c</span><br><span class="line">inner join Department d</span><br><span class="line">    on c.DepartmentId = d.Id</span><br><span class="line">where c.Id <span class="keyword">in</span> </span><br><span class="line">    (select</span><br><span class="line">        a.Id</span><br><span class="line">    <span class="keyword">from</span> Employee a</span><br><span class="line">    left join Employee b</span><br><span class="line">        on a.DepartmentId = b.DepartmentId </span><br><span class="line">            <span class="keyword">and</span> a.Salary &lt; b.Salary</span><br><span class="line">    group by a.Id</span><br><span class="line">    having count(distinct b.Salary) &lt; <span class="number">3</span>)</span><br><span class="line">order by d.Name, c.Salary desc, c.Name</span><br></pre></td></tr></table></figure>
<h2 id="成绩"><a href="#成绩" class="headerlink" title="成绩"></a>成绩</h2><ul>
<li>用时：331 ms</li>
<li>内存消耗：N/A</li>
</ul>
<blockquote>
<p>参考：</p>
</blockquote>
<ol>
<li><a class="link"   href="https://leetcode-cn.com/problems/department-top-three-salaries/" >185. 部门工资前三高的所有员工<i class="fas fa-external-link-alt"></i></a></li>
</ol>
]]></content>
      <categories>
        <category>项目</category>
        <category>LeetCode</category>
      </categories>
  </entry>
  <entry>
    <title>LeetCode 601_体育馆的人流量</title>
    <url>/%E9%A1%B9%E7%9B%AE/LeetCode/7348/</url>
    <content><![CDATA[<h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><p>X 市建了一个新的体育馆，每日人流量信息被记录在这三列信息中：序号 (id)、日期 (visit_date)、 人流量 (people)。</p>
<p>请编写一个查询语句，找出人流量的高峰期。高峰期时，至少连续三行记录中的人流量不少于100。</p>
<p>例如，表 stadium：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">+------+------------+-----------+</span><br><span class="line">| id   | visit_date | people    |</span><br><span class="line">+------+------------+-----------+</span><br><span class="line">| 1    | 2017-01-01 | 10        |</span><br><span class="line">| 2    | 2017-01-02 | 109       |</span><br><span class="line">| 3    | 2017-01-03 | 150       |</span><br><span class="line">| 4    | 2017-01-04 | 99        |</span><br><span class="line">| 5    | 2017-01-05 | 145       |</span><br><span class="line">| 6    | 2017-01-06 | 1455      |</span><br><span class="line">| 7    | 2017-01-07 | 199       |</span><br><span class="line">| 8    | 2017-01-08 | 188       |</span><br><span class="line">+------+------------+-----------+</span><br></pre></td></tr></table></figure>
<p>对于上面的示例数据，输出为：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">+------+------------+-----------+</span><br><span class="line">| id   | visit_date | people    |</span><br><span class="line">+------+------------+-----------+</span><br><span class="line">| 5    | 2017-01-05 | 145       |</span><br><span class="line">| 6    | 2017-01-06 | 1455      |</span><br><span class="line">| 7    | 2017-01-07 | 199       |</span><br><span class="line">| 8    | 2017-01-08 | 188       |</span><br><span class="line">+------+------------+-----------+</span><br></pre></td></tr></table></figure>
<h2 id="解题思路"><a href="#解题思路" class="headerlink" title="解题思路"></a>解题思路</h2><ol>
<li>单表多次拼接</li>
<li>将连续日期写在where条件里判断</li>
</ol>
<h2 id="code"><a href="#code" class="headerlink" title="code"></a>code</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Write your MySQL query statement below</span></span><br><span class="line">select</span><br><span class="line">    distinct a.*</span><br><span class="line"><span class="keyword">from</span></span><br><span class="line">    stadium a,</span><br><span class="line">    stadium b,</span><br><span class="line">    stadium c</span><br><span class="line">where</span><br><span class="line">        a.people&gt;=<span class="number">100</span> </span><br><span class="line">    <span class="keyword">and</span> b.people&gt;=<span class="number">100</span></span><br><span class="line">    <span class="keyword">and</span> c.people&gt;=<span class="number">100</span></span><br><span class="line">    <span class="keyword">and</span> (</span><br><span class="line">     (a.<span class="built_in">id</span> = b.<span class="built_in">id</span>-<span class="number">1</span> <span class="keyword">and</span> b.<span class="built_in">id</span> = c.<span class="built_in">id</span> -<span class="number">1</span>) <span class="keyword">or</span></span><br><span class="line">     (a.<span class="built_in">id</span> = b.<span class="built_in">id</span>-<span class="number">1</span> <span class="keyword">and</span> a.<span class="built_in">id</span> = c.<span class="built_in">id</span> +<span class="number">1</span>) <span class="keyword">or</span></span><br><span class="line">     (a.<span class="built_in">id</span> = b.<span class="built_in">id</span>+<span class="number">1</span> <span class="keyword">and</span> b.<span class="built_in">id</span> = c.<span class="built_in">id</span> +<span class="number">1</span>)) </span><br><span class="line">order by a.<span class="built_in">id</span></span><br></pre></td></tr></table></figure>
<h2 id="成绩"><a href="#成绩" class="headerlink" title="成绩"></a>成绩</h2><ul>
<li>用时：138 ms</li>
<li>内存消耗：N/A</li>
</ul>
<blockquote>
<p>参考：</p>
</blockquote>
<ol>
<li><a class="link"   href="https://leetcode-cn.com/problems/human-traffic-of-stadium/" >601. 体育馆的人流量<i class="fas fa-external-link-alt"></i></a></li>
</ol>
]]></content>
      <categories>
        <category>项目</category>
        <category>LeetCode</category>
      </categories>
  </entry>
  <entry>
    <title>探索性数据分析</title>
    <url>/uncategorized/8366/</url>
    <content><![CDATA[<h2 id="数据组成"><a href="#数据组成" class="headerlink" title="数据组成"></a>数据组成</h2><h3 id="结构化"><a href="#结构化" class="headerlink" title="结构化"></a>结构化</h3><ul>
<li>数值型数据<ul>
<li>连续型</li>
<li>离散型</li>
</ul>
</li>
<li>分类型数据<ul>
<li>分类型</li>
<li>二元型</li>
<li>有序型</li>
</ul>
</li>
</ul>
<h3 id="非结构化"><a href="#非结构化" class="headerlink" title="非结构化"></a>非结构化</h3><ul>
<li>时序数据：对同一变量连续的采集，多用在IOT领域</li>
<li>空间数据：关注对象与空间座标</li>
<li>图形数据：物理、社交网络上的关系，多用在网络优化和推荐系统</li>
</ul>
<h2 id="位置估计"><a href="#位置估计" class="headerlink" title="位置估计"></a>位置估计</h2><h3 id="均值"><a href="#均值" class="headerlink" title="均值"></a>均值</h3><ul>
<li>一般均值</li>
<li>切尾均值</li>
<li>加权均值<ul>
<li>例如对不敏感或低信任的数据源降权</li>
</ul>
</li>
</ul>
<h3 id="稳健估计量"><a href="#稳健估计量" class="headerlink" title="稳健估计量"></a>稳健估计量</h3><p>稳健指的是对极值不敏感，同义词为耐抗性</p>
<ul>
<li>一般中位数</li>
<li>加权中位数</li>
</ul>
<h2 id="变异性估计"><a href="#变异性估计" class="headerlink" title="变异性估计"></a>变异性估计</h2><p>变异性是统计学的一个核心概念，统计学关注如何测量变异性、如何降低变异性、如何识别真实变异性的各种来源、如何在存在变异性的情况下做出决策</p>
<h3 id="偏差"><a href="#偏差" class="headerlink" title="偏差"></a>偏差</h3><ul>
<li>标准偏差<ul>
<li>负的会抵销正的</li>
</ul>
</li>
<li>平均绝对偏差</li>
<li>方差</li>
<li>标准偏差</li>
</ul>
<blockquote>
<p>参考：</p>
</blockquote>
<ol>
<li><a class="link"   href="https://book.douban.com/subject/30354581/" >从机器学习到深度学习：基于Scikit-learn与TensorFlow的高效开发实战<i class="fas fa-external-link-alt"></i></a></li>
</ol>
]]></content>
  </entry>
  <entry>
    <title>Pandas</title>
    <url>/Python/6703/</url>
    <content><![CDATA[<h2 id="基本设置"><a href="#基本设置" class="headerlink" title="基本设置"></a>基本设置</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">pd.set_option(<span class="string">&quot;max_columns&quot;</span>, <span class="number">50</span>)</span><br></pre></td></tr></table></figure>
<h2 id="数据缺失检查"><a href="#数据缺失检查" class="headerlink" title="数据缺失检查"></a>数据缺失检查</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">apts=pd.Series([<span class="string">&quot;Hangzhou&quot;</span>, <span class="string">&quot;Beijing&quot;</span>, <span class="string">&quot;Shenzhen&quot;</span>])</span><br><span class="line"><span class="built_in">print</span>(apts.notnull())</span><br><span class="line"><span class="built_in">print</span>(apts.isnull())</span><br></pre></td></tr></table></figure>
<pre><code>0    True
1    True
2    True
dtype: bool
0    False
1    False
2    False
dtype: bool
</code></pre><h2 id="Series"><a href="#Series" class="headerlink" title="Series"></a>Series</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*- </span></span><br><span class="line"><span class="keyword">from</span> pandas <span class="keyword">import</span> Series</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===用数组生成Series===&quot;</span>)</span><br><span class="line">obj = Series([<span class="number">4</span>, <span class="number">7</span>, -<span class="number">5</span>, <span class="number">3</span>])</span><br><span class="line"><span class="built_in">print</span>(obj)</span><br><span class="line"><span class="built_in">print</span>(obj.values)</span><br><span class="line"><span class="built_in">print</span>(obj.index)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===指定Series的index===&quot;</span>)</span><br><span class="line">obj2 = Series([<span class="number">4</span>, <span class="number">7</span>, -<span class="number">5</span>, <span class="number">3</span>], index = [<span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;c&#x27;</span>])</span><br><span class="line"><span class="built_in">print</span>(obj2)</span><br><span class="line"><span class="built_in">print</span>(obj2.index)</span><br><span class="line"><span class="built_in">print</span>(obj2[<span class="string">&#x27;a&#x27;</span>])</span><br><span class="line">obj2[<span class="string">&#x27;d&#x27;</span>] = <span class="number">6</span></span><br><span class="line"><span class="built_in">print</span>(obj2[[<span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;d&#x27;</span>]])</span><br><span class="line"><span class="built_in">print</span>(obj2[obj2 &gt; <span class="number">0</span>])  <span class="comment"># 找出大于0的元素</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;b&#x27;</span> <span class="keyword">in</span> obj2) <span class="comment"># 判断索引是否存在</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;e&#x27;</span> <span class="keyword">in</span> obj2)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===使用字典生成Series===&quot;</span>)</span><br><span class="line">sdata = &#123;<span class="string">&#x27;Ohio&#x27;</span>:<span class="number">45000</span>, <span class="string">&#x27;Texas&#x27;</span>:<span class="number">71000</span>, <span class="string">&#x27;Oregon&#x27;</span>:<span class="number">16000</span>, <span class="string">&#x27;Utah&#x27;</span>:<span class="number">5000</span>&#125;</span><br><span class="line">obj3 = Series(sdata)</span><br><span class="line"><span class="built_in">print</span>(obj3)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===使用字典生成Series，并额外指定index，不匹配部分为NaN===&quot;</span>)</span><br><span class="line">states = [<span class="string">&#x27;California&#x27;</span>, <span class="string">&#x27;Ohio&#x27;</span>, <span class="string">&#x27;Oregon&#x27;</span>, <span class="string">&#x27;Texas&#x27;</span>]</span><br><span class="line">obj4 = Series(sdata, index = states)</span><br><span class="line"><span class="built_in">print</span>(obj4)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===Series相加，相同索引部分相加===&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(obj3 + obj4)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===指定Series及其索引的名字===&quot;</span>)</span><br><span class="line">obj4.name = <span class="string">&#x27;population&#x27;</span></span><br><span class="line">obj4.index.name = <span class="string">&#x27;state&#x27;</span></span><br><span class="line"><span class="built_in">print</span>( obj4)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===替换index===&quot;</span>)</span><br><span class="line">obj.index = [<span class="string">&#x27;Bob&#x27;</span>, <span class="string">&#x27;Steve&#x27;</span>, <span class="string">&#x27;Jeff&#x27;</span>, <span class="string">&#x27;Ryan&#x27;</span>]</span><br><span class="line"><span class="built_in">print</span>(obj)</span><br></pre></td></tr></table></figure>
<pre><code>===用数组生成Series===
0    4
1    7
2   -5
3    3
dtype: int64
[ 4  7 -5  3]
RangeIndex(start=0, stop=4, step=1)

===指定Series的index===
d    4
b    7
a   -5
c    3
dtype: int64
Index([&#39;d&#39;, &#39;b&#39;, &#39;a&#39;, &#39;c&#39;], dtype=&#39;object&#39;)
-5
c    3
a   -5
d    6
dtype: int64
d    6
b    7
c    3
dtype: int64
True
False

===使用字典生成Series===
Ohio      45000
Texas     71000
Oregon    16000
Utah       5000
dtype: int64

===使用字典生成Series，并额外指定index，不匹配部分为NaN===
California        NaN
Ohio          45000.0
Oregon        16000.0
Texas         71000.0
dtype: float64

===Series相加，相同索引部分相加===
California         NaN
Ohio           90000.0
Oregon         32000.0
Texas         142000.0
Utah               NaN
dtype: float64

===指定Series及其索引的名字===
state
California        NaN
Ohio          45000.0
Oregon        16000.0
Texas         71000.0
Name: population, dtype: float64

===替换index===
Bob      4
Steve    7
Jeff    -5
Ryan     3
dtype: int64
</code></pre><h2 id="填充"><a href="#填充" class="headerlink" title="填充"></a>填充</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*- </span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> numpy <span class="keyword">import</span> nan <span class="keyword">as</span> NA</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> pandas <span class="keyword">import</span> Series, DataFrame, Index</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===填充0===&quot;</span>)</span><br><span class="line">df = DataFrame(np.random.randn(<span class="number">7</span>, <span class="number">3</span>))</span><br><span class="line">df.iloc[:<span class="number">4</span>, <span class="number">1</span>] = NA</span><br><span class="line">df.iloc[:<span class="number">2</span>, <span class="number">2</span>] = NA</span><br><span class="line"><span class="built_in">print</span>(df.fillna(<span class="number">0</span>))</span><br><span class="line">df.fillna(<span class="number">0</span>, inplace = <span class="literal">True</span>)</span><br><span class="line"><span class="built_in">print</span>(df)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===不同行列填充不同的值===&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(df.fillna(&#123;<span class="number">1</span>:<span class="number">0.5</span>, <span class="number">3</span>:-<span class="number">1</span>&#125;))  <span class="comment"># 第3列不存在</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===不同的填充方式===&quot;</span>)</span><br><span class="line">df = DataFrame(np.random.randn(<span class="number">6</span>, <span class="number">3</span>))</span><br><span class="line">df.iloc[<span class="number">2</span>:, <span class="number">1</span>] = NA</span><br><span class="line">df.iloc[<span class="number">4</span>:, <span class="number">2</span>] = NA</span><br><span class="line"><span class="built_in">print</span>(df)</span><br><span class="line"><span class="built_in">print</span>(df.fillna(method = <span class="string">&#x27;ffill&#x27;</span>))</span><br><span class="line"><span class="built_in">print</span>(df.fillna(method = <span class="string">&#x27;ffill&#x27;</span>, limit = <span class="number">2</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===用统计数据填充===&quot;</span>)</span><br><span class="line">data = Series([<span class="number">1.</span>, NA, <span class="number">3.5</span>, NA, <span class="number">7</span>])</span><br><span class="line"><span class="built_in">print</span>(data.fillna(data.mean()))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<pre><code>===填充0===
          0         1         2
0  0.619043  0.000000  0.000000
1  1.262121  0.000000  0.000000
2 -0.536828  0.000000  1.354608
3  0.273867  0.000000  1.046143
4  0.648504  0.366829 -0.122517
5  0.773085 -0.547392 -0.289962
6  0.070365 -1.258029  0.144977
          0         1         2
0  0.619043  0.000000  0.000000
1  1.262121  0.000000  0.000000
2 -0.536828  0.000000  1.354608
3  0.273867  0.000000  1.046143
4  0.648504  0.366829 -0.122517
5  0.773085 -0.547392 -0.289962
6  0.070365 -1.258029  0.144977

===不同行列填充不同的值===
          0         1         2
0  0.619043  0.000000  0.000000
1  1.262121  0.000000  0.000000
2 -0.536828  0.000000  1.354608
3  0.273867  0.000000  1.046143
4  0.648504  0.366829 -0.122517
5  0.773085 -0.547392 -0.289962
6  0.070365 -1.258029  0.144977

===不同的填充方式===
          0         1         2
0  0.755876  1.438577  0.986349
1  0.457114 -0.435046 -0.365518
2  0.631733       NaN  1.537871
3  1.217393       NaN  0.636592
4 -1.095912       NaN       NaN
5 -1.314859       NaN       NaN
          0         1         2
0  0.755876  1.438577  0.986349
1  0.457114 -0.435046 -0.365518
2  0.631733 -0.435046  1.537871
3  1.217393 -0.435046  0.636592
4 -1.095912 -0.435046  0.636592
5 -1.314859 -0.435046  0.636592
          0         1         2
0  0.755876  1.438577  0.986349
1  0.457114 -0.435046 -0.365518
2  0.631733 -0.435046  1.537871
3  1.217393 -0.435046  0.636592
4 -1.095912       NaN  0.636592
5 -1.314859       NaN  0.636592

===用统计数据填充===
0    1.000000
1    3.833333
2    3.500000
3    3.833333
4    7.000000
dtype: float64
</code></pre><h2 id="DataFrame"><a href="#DataFrame" class="headerlink" title="DataFrame"></a>DataFrame</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*- </span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> pandas <span class="keyword">import</span> Series, DataFrame</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===指定索引，在列中指定不存在的列，默认数据用NaN===&quot;</span>)</span><br><span class="line">frame2 = DataFrame(data,</span><br><span class="line">                    columns = [<span class="string">&#x27;year&#x27;</span>, <span class="string">&#x27;state&#x27;</span>, <span class="string">&#x27;pop&#x27;</span>, <span class="string">&#x27;debt&#x27;</span>],</span><br><span class="line">                    index = [<span class="string">&#x27;one&#x27;</span>, <span class="string">&#x27;two&#x27;</span>, <span class="string">&#x27;three&#x27;</span>, <span class="string">&#x27;four&#x27;</span>, <span class="string">&#x27;five&#x27;</span>])</span><br><span class="line"><span class="built_in">print</span>(frame2)</span><br><span class="line"><span class="built_in">print</span>(frame2[<span class="string">&#x27;state&#x27;</span>])</span><br><span class="line"><span class="built_in">print</span>(frame2.year)</span><br><span class="line"><span class="built_in">print</span>(frame2.loc[<span class="string">&#x27;three&#x27;</span>])</span><br><span class="line">frame2[<span class="string">&#x27;debt&#x27;</span>] = <span class="number">16.5</span> <span class="comment"># 修改一整列</span></span><br><span class="line"><span class="built_in">print</span>(frame2)</span><br><span class="line">frame2.debt = np.arange(<span class="number">5</span>)  <span class="comment"># 用numpy数组修改元素</span></span><br><span class="line"><span class="built_in">print</span>(frame2)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===用Series指定要修改的索引及其对应的值，没有指定的默认数据用NaN===&quot;</span>)</span><br><span class="line">val = Series([-<span class="number">1.2</span>, -<span class="number">1.5</span>, -<span class="number">1.7</span>], index = [<span class="string">&#x27;two&#x27;</span>, <span class="string">&#x27;four&#x27;</span>, <span class="string">&#x27;five&#x27;</span>])</span><br><span class="line">frame2[<span class="string">&#x27;debt&#x27;</span>] = val</span><br><span class="line"><span class="built_in">print</span>(frame2)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===赋值给新列===&quot;</span>)</span><br><span class="line">frame2[<span class="string">&#x27;eastern&#x27;</span>] = (frame2.state == <span class="string">&#x27;Ohio&#x27;</span>)  <span class="comment"># 如果state等于Ohio为True</span></span><br><span class="line"><span class="built_in">print</span>(frame2)</span><br><span class="line"><span class="built_in">print</span>(frame2.columns)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===DataFrame转置===&quot;</span>)</span><br><span class="line">pop = &#123;<span class="string">&#x27;Nevada&#x27;</span>:&#123;<span class="number">2001</span>:<span class="number">2.4</span>, <span class="number">2002</span>:<span class="number">2.9</span>&#125;,</span><br><span class="line">        <span class="string">&#x27;Ohio&#x27;</span>:&#123;<span class="number">2000</span>:<span class="number">1.5</span>, <span class="number">2001</span>:<span class="number">1.7</span>, <span class="number">2002</span>:<span class="number">3.6</span>&#125;&#125;</span><br><span class="line">frame3 = DataFrame(pop)</span><br><span class="line"><span class="built_in">print</span>(frame3)</span><br><span class="line"><span class="built_in">print</span>(frame3.T)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===指定索引顺序，以及使用切片初始化数据===&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(DataFrame(pop))</span><br><span class="line">pdata = &#123;<span class="string">&#x27;Ohio&#x27;</span>:frame3[<span class="string">&#x27;Ohio&#x27;</span>][:-<span class="number">1</span>], <span class="string">&#x27;Nevada&#x27;</span>:frame3[<span class="string">&#x27;Nevada&#x27;</span>][:<span class="number">2</span>]&#125;</span><br><span class="line"><span class="built_in">print</span>(DataFrame(pdata))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===指定索引和列的名称===&quot;</span>)</span><br><span class="line">frame3.index.name = <span class="string">&#x27;year&#x27;</span></span><br><span class="line">frame3.columns.name = <span class="string">&#x27;state&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(frame3)</span><br><span class="line"><span class="built_in">print</span>(frame3.values)</span><br><span class="line"><span class="built_in">print</span>(frame2.values)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===stack===&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(frame3.stack())</span><br></pre></td></tr></table></figure>
<pre><code>===指定索引，在列中指定不存在的列，默认数据用NaN===
       year   state  pop debt
one    2000    Ohio  1.5  NaN
two    2001    Ohio  1.7  NaN
three  2002    Ohio  3.6  NaN
four   2001  Nevada  2.4  NaN
five   2002  Nevada  2.9  NaN
one        Ohio
two        Ohio
three      Ohio
four     Nevada
five     Nevada
Name: state, dtype: object
one      2000
two      2001
three    2002
four     2001
five     2002
Name: year, dtype: int64
year     2002
state    Ohio
pop       3.6
debt      NaN
Name: three, dtype: object
       year   state  pop  debt
one    2000    Ohio  1.5  16.5
two    2001    Ohio  1.7  16.5
three  2002    Ohio  3.6  16.5
four   2001  Nevada  2.4  16.5
five   2002  Nevada  2.9  16.5
       year   state  pop  debt
one    2000    Ohio  1.5     0
two    2001    Ohio  1.7     1
three  2002    Ohio  3.6     2
four   2001  Nevada  2.4     3
five   2002  Nevada  2.9     4

===用Series指定要修改的索引及其对应的值，没有指定的默认数据用NaN===
       year   state  pop  debt
one    2000    Ohio  1.5   NaN
two    2001    Ohio  1.7  -1.2
three  2002    Ohio  3.6   NaN
four   2001  Nevada  2.4  -1.5
five   2002  Nevada  2.9  -1.7

===赋值给新列===
       year   state  pop  debt  eastern
one    2000    Ohio  1.5   NaN     True
two    2001    Ohio  1.7  -1.2     True
three  2002    Ohio  3.6   NaN     True
four   2001  Nevada  2.4  -1.5    False
five   2002  Nevada  2.9  -1.7    False
Index([&#39;year&#39;, &#39;state&#39;, &#39;pop&#39;, &#39;debt&#39;, &#39;eastern&#39;], dtype=&#39;object&#39;)

===DataFrame转置===
      Nevada  Ohio
2000     NaN   1.5
2001     2.4   1.7
2002     2.9   3.6
        2000  2001  2002
Nevada   NaN   2.4   2.9
Ohio     1.5   1.7   3.6

===指定索引顺序，以及使用切片初始化数据===
      Nevada  Ohio
2000     NaN   1.5
2001     2.4   1.7
2002     2.9   3.6
      Ohio  Nevada
2000   1.5     NaN
2001   1.7     2.4

===指定索引和列的名称===
state  Nevada  Ohio
year               
2000      NaN   1.5
2001      2.4   1.7
2002      2.9   3.6
[[nan 1.5]
 [2.4 1.7]
 [2.9 3.6]]
[[2000 &#39;Ohio&#39; 1.5 nan True]
 [2001 &#39;Ohio&#39; 1.7 -1.2 True]
 [2002 &#39;Ohio&#39; 3.6 nan True]
 [2001 &#39;Nevada&#39; 2.4 -1.5 False]
 [2002 &#39;Nevada&#39; 2.9 -1.7 False]]

===stack===
year  state 
2000  Ohio      1.5
2001  Nevada    2.4
      Ohio      1.7
2002  Nevada    2.9
      Ohio      3.6
dtype: float64
</code></pre><h2 id="Append-Join和Concatenate"><a href="#Append-Join和Concatenate" class="headerlink" title="Append, Join和Concatenate"></a>Append, Join和Concatenate</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">df1 = pd.DataFrame(&#123;<span class="string">&#x27;apts&#x27;</span>: [<span class="number">55000</span>, <span class="number">60000</span>],</span><br><span class="line">                   <span class="string">&#x27;cars&#x27;</span>: [<span class="number">200000</span>, <span class="number">300000</span>],&#125;,</span><br><span class="line">                  index = [<span class="string">&#x27;Shanghai&#x27;</span>, <span class="string">&#x27;Beijing&#x27;</span>])</span><br><span class="line">df2 = pd.DataFrame(&#123;<span class="string">&#x27;apts&#x27;</span>: [<span class="number">25000</span>, <span class="number">20000</span>],</span><br><span class="line">                   <span class="string">&#x27;cars&#x27;</span>: [<span class="number">150000</span>, <span class="number">120000</span>],&#125;,</span><br><span class="line">                  index = [<span class="string">&#x27;Hangzhou&#x27;</span>, <span class="string">&#x27;Najing&#x27;</span>])</span><br><span class="line">df3 = pd.DataFrame(&#123;<span class="string">&#x27;apts&#x27;</span>: [<span class="number">30000</span>, <span class="number">10000</span>],</span><br><span class="line">                   <span class="string">&#x27;cars&#x27;</span>: [<span class="number">180000</span>, <span class="number">100000</span>],&#125;,</span><br><span class="line">                  index = [<span class="string">&#x27;Guangzhou&#x27;</span>, <span class="string">&#x27;Chongqing&#x27;</span>])</span><br><span class="line">df4 = pd.DataFrame(&#123;<span class="string">&#x27;salaries&#x27;</span>: [<span class="number">10000</span>, <span class="number">30000</span>, <span class="number">30000</span>, <span class="number">20000</span>, <span class="number">15000</span>],</span><br><span class="line">                  <span class="string">&#x27;cities&#x27;</span>: [<span class="string">&#x27;Suzhou&#x27;</span>, <span class="string">&#x27;Beijing&#x27;</span>, <span class="string">&#x27;Shanghai&#x27;</span>, <span class="string">&#x27;Guangzhou&#x27;</span>, <span class="string">&#x27;Tianjin&#x27;</span>]&#125;)</span><br><span class="line"><span class="built_in">print</span>(df1)</span><br><span class="line"><span class="built_in">print</span>(df2)</span><br><span class="line"><span class="built_in">print</span>(df3)</span><br><span class="line"><span class="built_in">print</span>(df4)</span><br></pre></td></tr></table></figure>
<pre><code>           apts    cars
Shanghai  55000  200000
Beijing   60000  300000
           apts    cars
Hangzhou  25000  150000
Najing    20000  120000
            apts    cars
Guangzhou  30000  180000
Chongqing  10000  100000
   salaries     cities
0     10000     Suzhou
1     30000    Beijing
2     30000   Shanghai
3     20000  Guangzhou
4     15000    Tianjin
</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===concat===&quot;</span>)</span><br><span class="line">frames = [df1, df2, df3]</span><br><span class="line">result = pd.concat(frames)</span><br><span class="line"><span class="built_in">print</span>(result)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&quot;</span>)</span><br><span class="line">result2 = pd.concat(frames, keys=[<span class="string">&#x27;x&#x27;</span>, <span class="string">&#x27;y&#x27;</span>, <span class="string">&#x27;z&#x27;</span>])</span><br><span class="line"><span class="built_in">print</span>(result2)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(pd.concat([df1, df2], axis=<span class="number">1</span>, sort=<span class="literal">False</span>))</span><br></pre></td></tr></table></figure>
<pre><code>===concat===
            apts    cars
Shanghai   55000  200000
Beijing    60000  300000
Hangzhou   25000  150000
Najing     20000  120000
Guangzhou  30000  180000
Chongqing  10000  100000

              apts    cars
x Shanghai   55000  200000
  Beijing    60000  300000
y Hangzhou   25000  150000
  Najing     20000  120000
z Guangzhou  30000  180000
  Chongqing  10000  100000

             apts      cars     apts      cars
Shanghai  55000.0  200000.0      NaN       NaN
Beijing   60000.0  300000.0      NaN       NaN
Hangzhou      NaN       NaN  25000.0  150000.0
Najing        NaN       NaN  20000.0  120000.0
</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===append===&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(df1.append(df2))</span><br><span class="line"><span class="built_in">print</span>(df1.append(df3))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<pre><code>===append===
           apts    cars
Shanghai  55000  200000
Beijing   60000  300000
Hangzhou  25000  150000
Najing    20000  120000
            apts    cars
Shanghai   55000  200000
Beijing    60000  300000
Guangzhou  30000  180000
Chongqing  10000  100000
</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===join===&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(df1.join(df4))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(df1.join(df4, how=<span class="string">&#x27;right&#x27;</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(df1.join(df4, how=<span class="string">&#x27;left&#x27;</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(df1.join(df4, how=<span class="string">&#x27;inner&#x27;</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(df1.join(df4, how=<span class="string">&#x27;outer&#x27;</span>))</span><br></pre></td></tr></table></figure>
<pre><code>===join===
           apts    cars  salaries cities
Shanghai  55000  200000       NaN    NaN
Beijing   60000  300000       NaN    NaN

   apts  cars  salaries     cities
0   NaN   NaN     10000     Suzhou
1   NaN   NaN     30000    Beijing
2   NaN   NaN     30000   Shanghai
3   NaN   NaN     20000  Guangzhou
4   NaN   NaN     15000    Tianjin

           apts    cars  salaries cities
Shanghai  55000  200000       NaN    NaN
Beijing   60000  300000       NaN    NaN

Empty DataFrame
Columns: [apts, cars, salaries, cities]
Index: []

             apts      cars  salaries     cities
Shanghai  55000.0  200000.0       NaN        NaN
Beijing   60000.0  300000.0       NaN        NaN
0             NaN       NaN   10000.0     Suzhou
1             NaN       NaN   30000.0    Beijing
2             NaN       NaN   30000.0   Shanghai
3             NaN       NaN   20000.0  Guangzhou
4             NaN       NaN   15000.0    Tianjin
</code></pre><h2 id="groupby"><a href="#groupby" class="headerlink" title="groupby"></a>groupby</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">salaries = pd.DataFrame(&#123;</span><br><span class="line">    <span class="string">&#x27;Name&#x27;</span>: [<span class="string">&#x27;July&#x27;</span>, <span class="string">&#x27;Chu&#x27;</span>, <span class="string">&#x27;Chu&#x27;</span>, <span class="string">&#x27;Lin&#x27;</span>, <span class="string">&#x27;July&#x27;</span>, <span class="string">&#x27;July&#x27;</span>, <span class="string">&#x27;Chu&#x27;</span>, <span class="string">&#x27;July&#x27;</span>],</span><br><span class="line">    <span class="string">&#x27;Year&#x27;</span>: [<span class="number">2016</span>,<span class="number">2016</span>,<span class="number">2016</span>,<span class="number">2016</span>,<span class="number">2017</span>,<span class="number">2017</span>,<span class="number">2017</span>,<span class="number">2017</span>],</span><br><span class="line">    <span class="string">&#x27;Salary&#x27;</span>: [<span class="number">10000</span>,<span class="number">2000</span>,<span class="number">4000</span>,<span class="number">5000</span>,<span class="number">18000</span>,<span class="number">25000</span>,<span class="number">3000</span>,<span class="number">4000</span>],</span><br><span class="line">    <span class="string">&#x27;Bonus&#x27;</span>: [<span class="number">3000</span>,<span class="number">1000</span>,<span class="number">1000</span>,<span class="number">1200</span>,<span class="number">4000</span>,<span class="number">2300</span>,<span class="number">500</span>,<span class="number">1000</span>]</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">group_by_name = salaries.groupby(<span class="string">&#x27;Name&#x27;</span>)</span><br><span class="line">display(group_by_name.<span class="built_in">sum</span>())</span><br><span class="line"></span><br><span class="line">group_by_name_year = salaries.groupby([<span class="string">&#x27;Name&#x27;</span>, <span class="string">&#x27;Year&#x27;</span>])</span><br><span class="line">display(group_by_name_year.<span class="built_in">sum</span>())</span><br><span class="line">display(group_by_name_year.size())</span><br><span class="line">display(group_by_name_year.describe())</span><br></pre></td></tr></table></figure>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Year</th>
      <th>Salary</th>
      <th>Bonus</th>
    </tr>
    <tr>
      <th>Name</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Chu</th>
      <td>6049</td>
      <td>9000</td>
      <td>2500</td>
    </tr>
    <tr>
      <th>July</th>
      <td>8067</td>
      <td>57000</td>
      <td>10300</td>
    </tr>
    <tr>
      <th>Lin</th>
      <td>2016</td>
      <td>5000</td>
      <td>1200</td>
    </tr>
  </tbody>
</table>
</div>



<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th></th>
      <th>Salary</th>
      <th>Bonus</th>
    </tr>
    <tr>
      <th>Name</th>
      <th>Year</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th rowspan="2" valign="top">Chu</th>
      <th>2016</th>
      <td>6000</td>
      <td>2000</td>
    </tr>
    <tr>
      <th>2017</th>
      <td>3000</td>
      <td>500</td>
    </tr>
    <tr>
      <th rowspan="2" valign="top">July</th>
      <th>2016</th>
      <td>10000</td>
      <td>3000</td>
    </tr>
    <tr>
      <th>2017</th>
      <td>47000</td>
      <td>7300</td>
    </tr>
    <tr>
      <th>Lin</th>
      <th>2016</th>
      <td>5000</td>
      <td>1200</td>
    </tr>
  </tbody>
</table>
</div>



<pre><code>Name  Year
Chu   2016    2
      2017    1
July  2016    1
      2017    3
Lin   2016    1
dtype: int64
</code></pre><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead tr th {
        text-align: left;
    }

    .dataframe thead tr:last-of-type th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th></th>
      <th colspan="8" halign="left">Bonus</th>
      <th colspan="8" halign="left">Salary</th>
    </tr>
    <tr>
      <th></th>
      <th></th>
      <th>count</th>
      <th>mean</th>
      <th>std</th>
      <th>min</th>
      <th>25%</th>
      <th>50%</th>
      <th>75%</th>
      <th>max</th>
      <th>count</th>
      <th>mean</th>
      <th>std</th>
      <th>min</th>
      <th>25%</th>
      <th>50%</th>
      <th>75%</th>
      <th>max</th>
    </tr>
    <tr>
      <th>Name</th>
      <th>Year</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th rowspan="2" valign="top">Chu</th>
      <th>2016</th>
      <td>2.0</td>
      <td>1000.000000</td>
      <td>0.00000</td>
      <td>1000.0</td>
      <td>1000.0</td>
      <td>1000.0</td>
      <td>1000.0</td>
      <td>1000.0</td>
      <td>2.0</td>
      <td>3000.000000</td>
      <td>1414.213562</td>
      <td>2000.0</td>
      <td>2500.0</td>
      <td>3000.0</td>
      <td>3500.0</td>
      <td>4000.0</td>
    </tr>
    <tr>
      <th>2017</th>
      <td>1.0</td>
      <td>500.000000</td>
      <td>NaN</td>
      <td>500.0</td>
      <td>500.0</td>
      <td>500.0</td>
      <td>500.0</td>
      <td>500.0</td>
      <td>1.0</td>
      <td>3000.000000</td>
      <td>NaN</td>
      <td>3000.0</td>
      <td>3000.0</td>
      <td>3000.0</td>
      <td>3000.0</td>
      <td>3000.0</td>
    </tr>
    <tr>
      <th rowspan="2" valign="top">July</th>
      <th>2016</th>
      <td>1.0</td>
      <td>3000.000000</td>
      <td>NaN</td>
      <td>3000.0</td>
      <td>3000.0</td>
      <td>3000.0</td>
      <td>3000.0</td>
      <td>3000.0</td>
      <td>1.0</td>
      <td>10000.000000</td>
      <td>NaN</td>
      <td>10000.0</td>
      <td>10000.0</td>
      <td>10000.0</td>
      <td>10000.0</td>
      <td>10000.0</td>
    </tr>
    <tr>
      <th>2017</th>
      <td>3.0</td>
      <td>2433.333333</td>
      <td>1504.43788</td>
      <td>1000.0</td>
      <td>1650.0</td>
      <td>2300.0</td>
      <td>3150.0</td>
      <td>4000.0</td>
      <td>3.0</td>
      <td>15666.666667</td>
      <td>10692.676622</td>
      <td>4000.0</td>
      <td>11000.0</td>
      <td>18000.0</td>
      <td>21500.0</td>
      <td>25000.0</td>
    </tr>
    <tr>
      <th>Lin</th>
      <th>2016</th>
      <td>1.0</td>
      <td>1200.000000</td>
      <td>NaN</td>
      <td>1200.0</td>
      <td>1200.0</td>
      <td>1200.0</td>
      <td>1200.0</td>
      <td>1200.0</td>
      <td>1.0</td>
      <td>5000.000000</td>
      <td>NaN</td>
      <td>5000.0</td>
      <td>5000.0</td>
      <td>5000.0</td>
      <td>5000.0</td>
      <td>5000.0</td>
    </tr>
  </tbody>
</table>
</div>


<blockquote>
<p>参考：</p>
</blockquote>
<ol>
<li><a class="link"   href="https://www.julyedu.com/course/getDetail/66/" >廖雪峰Python数据分析<i class="fas fa-external-link-alt"></i></a></li>
</ol>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
  </entry>
  <entry>
    <title>数据抽取</title>
    <url>/%E7%BB%9F%E8%AE%A1%E4%B8%8E%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E5%85%B6%E4%BB%96/25692/</url>
    <content><![CDATA[<h2 id="csv-I-O"><a href="#csv-I-O" class="headerlink" title="csv I/O"></a>csv I/O</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">display(pd.read_csv(<span class="string">&#x27;2019-06-30_数据抽取_data1.csv&#x27;</span>))</span><br><span class="line">display(pd.read_table(<span class="string">&#x27;2019-06-30_数据抽取_data1.csv&#x27;</span>, sep=<span class="string">&#x27;,&#x27;</span>))</span><br><span class="line">display(pd.read_csv(<span class="string">&#x27;2019-06-30_数据抽取_data2.csv&#x27;</span>, header=<span class="literal">None</span>))</span><br><span class="line">display(pd.read_csv(<span class="string">&#x27;2019-06-30_数据抽取_data2.csv&#x27;</span>, names=[<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;message&#x27;</span>]))</span><br><span class="line"></span><br><span class="line"><span class="comment"># data.to_csv(&#x27;output.csv&#x27;)</span></span><br></pre></td></tr></table></figure>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>a</th>
      <th>b</th>
      <th>c</th>
      <th>d</th>
      <th>message</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>2</td>
      <td>3</td>
      <td>4</td>
      <td>hello</td>
    </tr>
    <tr>
      <th>1</th>
      <td>5</td>
      <td>6</td>
      <td>7</td>
      <td>8</td>
      <td>world</td>
    </tr>
    <tr>
      <th>2</th>
      <td>9</td>
      <td>10</td>
      <td>11</td>
      <td>12</td>
      <td>foo</td>
    </tr>
  </tbody>
</table>
</div>



<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>a</th>
      <th>b</th>
      <th>c</th>
      <th>d</th>
      <th>message</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>2</td>
      <td>3</td>
      <td>4</td>
      <td>hello</td>
    </tr>
    <tr>
      <th>1</th>
      <td>5</td>
      <td>6</td>
      <td>7</td>
      <td>8</td>
      <td>world</td>
    </tr>
    <tr>
      <th>2</th>
      <td>9</td>
      <td>10</td>
      <td>11</td>
      <td>12</td>
      <td>foo</td>
    </tr>
  </tbody>
</table>
</div>



<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>0</th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
      <th>4</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>2</td>
      <td>3</td>
      <td>4</td>
      <td>hello</td>
    </tr>
    <tr>
      <th>1</th>
      <td>5</td>
      <td>6</td>
      <td>7</td>
      <td>8</td>
      <td>world</td>
    </tr>
    <tr>
      <th>2</th>
      <td>9</td>
      <td>10</td>
      <td>11</td>
      <td>12</td>
      <td>foo</td>
    </tr>
  </tbody>
</table>
</div>



<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>a</th>
      <th>b</th>
      <th>c</th>
      <th>d</th>
      <th>message</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>2</td>
      <td>3</td>
      <td>4</td>
      <td>hello</td>
    </tr>
    <tr>
      <th>1</th>
      <td>5</td>
      <td>6</td>
      <td>7</td>
      <td>8</td>
      <td>world</td>
    </tr>
    <tr>
      <th>2</th>
      <td>9</td>
      <td>10</td>
      <td>11</td>
      <td>12</td>
      <td>foo</td>
    </tr>
  </tbody>
</table>
</div>


<h2 id="json"><a href="#json" class="headerlink" title="json"></a>json</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">obj = \</span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">&#123;&quot;姓名&quot;: &quot;张三&quot;,</span></span><br><span class="line"><span class="string"> &quot;住处&quot;: [&quot;天朝&quot;, &quot;挖煤国&quot;, &quot;万恶的资本主义日不落帝国&quot;],</span></span><br><span class="line"><span class="string"> &quot;宠物&quot;: null,</span></span><br><span class="line"><span class="string"> &quot;兄弟&quot;: [&#123;&quot;姓名&quot;: &quot;李四&quot;, &quot;年龄&quot;: 25, &quot;宠物&quot;: &quot;汪星人&quot;&#125;,</span></span><br><span class="line"><span class="string">              &#123;&quot;姓名&quot;: &quot;王五&quot;, &quot;年龄&quot;: 23, &quot;宠物&quot;: &quot;喵星人&quot;&#125;]</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line">result = json.loads(obj)  <span class="comment">#&lt;class &#x27;dict&#x27;&gt;</span></span><br><span class="line">result = json.dumps(result, ensure_ascii=<span class="literal">False</span>)  <span class="comment">#&lt;class &#x27;str&#x27;&gt;</span></span><br><span class="line"><span class="built_in">print</span>(result)</span><br></pre></td></tr></table></figure>
<pre><code>&#123;&quot;姓名&quot;: &quot;张三&quot;, &quot;住处&quot;: [&quot;天朝&quot;, &quot;挖煤国&quot;, &quot;万恶的资本主义日不落帝国&quot;], &quot;宠物&quot;: null, &quot;兄弟&quot;: [&#123;&quot;姓名&quot;: &quot;李四&quot;, &quot;年龄&quot;: 25, &quot;宠物&quot;: &quot;汪星人&quot;&#125;, &#123;&quot;姓名&quot;: &quot;王五&quot;, &quot;年龄&quot;: 23, &quot;宠物&quot;: &quot;喵星人&quot;&#125;]&#125;
</code></pre><h2 id="XML-HTML"><a href="#XML-HTML" class="headerlink" title="XML/HTML"></a>XML/HTML</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> lxml.html <span class="keyword">import</span> parse</span><br><span class="line"><span class="keyword">from</span> urllib.request <span class="keyword">import</span> urlopen</span><br><span class="line"><span class="keyword">import</span> ssl</span><br><span class="line"></span><br><span class="line">ssl._create_default_https_context = ssl._create_unverified_context</span><br><span class="line">parsed = parse(urlopen(<span class="string">&#x27;https://ask.julyedu.com/&#x27;</span>))</span><br><span class="line"></span><br><span class="line">doc = parsed.getroot()</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#拿所有&lt;a&gt;</span></span><br><span class="line">urls = [lnk.get(<span class="string">&#x27;href&#x27;</span>) <span class="keyword">for</span> lnk <span class="keyword">in</span> doc.findall(<span class="string">&#x27;.//a&#x27;</span>)]</span><br><span class="line">urls</span><br></pre></td></tr></table></figure>
<pre><code>[&#39;http://www.julyedu.com/weekend/train9?v=m1&#39;,
 &#39;https://www.julyedu.com&#39;,
 &#39;https://www.julyedu.com/category/index&#39;,
 &#39;https://www.julyedu.com/question&#39;,
 &#39;https://oj.julyedu.com/&#39;,
 &#39;http://jingsai.julyedu.com/&#39;,
 &#39;https://www.julyedu.com/video/index&#39;,
 &#39;https://ask.julyedu.com&#39;,
 &#39;https://www.julyedu.com/active/qiye&#39;,
 None,
 &#39;https://www.julyedu.com/cart&#39;,
 &#39;https://passport.julyedu.com/login?redirect=http%3A%2F%2Fask.julyedu.com%2F&#39;,
 &#39;https://www.julyedu.com&#39;,
 &#39;https://passport.julyedu.com/login?redirect=https%3A%2F%2Fask.julyedu.com%2F&#39;,
 &#39;https://www.julyedu.com&#39;,
 &#39;https://www.julyedu.com/category/index&#39;,
 &#39;https://www.julyedu.com/question/index&#39;,
 &#39;https://www.julyedu.com/video/index&#39;,
 &#39;https://ask.julyedu.com&#39;,
 &#39;https://www.julyedu.com/cart/&#39;,
 &#39;https://ask.julyedu.com/explore/&#39;,
 &#39;https://ask.julyedu.com/explore/category-1&#39;,
 &#39;https://ask.julyedu.com/explore/category-7&#39;,
 &#39;https://ask.julyedu.com/explore/category-15&#39;,
 &#39;https://ask.julyedu.com/explore/category-5&#39;,
 &#39;https://ask.julyedu.com/explore/category-13&#39;,
 &#39;https://ask.julyedu.com/explore/category-18&#39;,
 &#39;https://ask.julyedu.com/explore/category-17&#39;,
 &#39;https://ask.julyedu.com/explore/category-10&#39;,
 &#39;https://ask.julyedu.com/explore/category-16&#39;,
 &#39;https://ask.julyedu.com/explore/category-14&#39;,
 &#39;https://ask.julyedu.com/explore/category-11&#39;,
 &#39;https://ask.julyedu.com/explore/category-4&#39;,
 &#39;https://ask.julyedu.com/setting/privacy/#notifications&#39;,
 &#39;javascript:;&#39;,
 &#39;https://ask.julyedu.com/notifications/&#39;,
 &#39;&#39;,
 &#39;https://ask.julyedu.com/sort_type-hot__day-7&#39;,
 &#39;https://ask.julyedu.com/sort_type-unresponsive&#39;,
 &#39;&#39;,
 &#39;https://ask.julyedu.com/sort_type-hot__day-7&#39;,
 &#39;https://ask.julyedu.com/sort_type-unresponsive&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7527000&#39;,
 &#39;https://ask.julyedu.com/question/88655&#39;,
 &#39;https://ask.julyedu.com/question/88655#!answer_form&#39;,
 &#39;https://ask.julyedu.com/explore/category-14&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7527000&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7527000&#39;,
 &#39;https://ask.julyedu.com/question/88654&#39;,
 &#39;https://ask.julyedu.com/question/88654#!answer_form&#39;,
 &#39;https://ask.julyedu.com/explore/category-1&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7527000&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7527000&#39;,
 &#39;https://ask.julyedu.com/question/88653&#39;,
 &#39;https://ask.julyedu.com/question/88653#!answer_form&#39;,
 &#39;https://ask.julyedu.com/explore/category-1&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7527000&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7527000&#39;,
 &#39;https://ask.julyedu.com/question/88652&#39;,
 &#39;https://ask.julyedu.com/question/88652#!answer_form&#39;,
 &#39;https://ask.julyedu.com/explore/category-7&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7527000&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7527000&#39;,
 &#39;https://ask.julyedu.com/question/88651&#39;,
 &#39;https://ask.julyedu.com/question/88651#!answer_form&#39;,
 &#39;https://ask.julyedu.com/explore/category-7&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7527000&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7527000&#39;,
 &#39;https://ask.julyedu.com/question/88650&#39;,
 &#39;https://ask.julyedu.com/question/88650#!answer_form&#39;,
 &#39;https://ask.julyedu.com/explore/category-14&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7527000&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7527000&#39;,
 &#39;https://ask.julyedu.com/question/88649&#39;,
 &#39;https://ask.julyedu.com/question/88649#!answer_form&#39;,
 &#39;https://ask.julyedu.com/explore/category-1&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7527000&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7527000&#39;,
 &#39;https://ask.julyedu.com/question/88648&#39;,
 &#39;https://ask.julyedu.com/question/88648#!answer_form&#39;,
 &#39;https://ask.julyedu.com/explore/category-7&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7527000&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7527000&#39;,
 &#39;https://ask.julyedu.com/question/88647&#39;,
 &#39;https://ask.julyedu.com/question/88647#!answer_form&#39;,
 &#39;https://ask.julyedu.com/explore/category-15&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7527000&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7527000&#39;,
 &#39;https://ask.julyedu.com/question/88646&#39;,
 &#39;https://ask.julyedu.com/question/88646#!answer_form&#39;,
 &#39;https://ask.julyedu.com/explore/category-13&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7527000&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7527000&#39;,
 &#39;https://ask.julyedu.com/article/1007&#39;,
 &#39;https://ask.julyedu.com/explore/category-7&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7527000&#39;,
 &#39;https://dwz.cn/O9VznNuY&#39;,
 &#39;https://ask.julyedu.com/uploads/article/20190621/489e6c00af84ab51a832781134568131.png&#39;,
 &#39;https://ask.julyedu.com/uploads/article/20190621/424770863c018c01543b2630ed9f0153.png&#39;,
 &#39;https://ask.julyedu.com/article/1007&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7527000&#39;,
 &#39;https://ask.julyedu.com/article/1006&#39;,
 &#39;https://ask.julyedu.com/explore/category-1&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7527000&#39;,
 &#39;https://dwz.cn/bwUTiuHL&#39;,
 &#39;https://ask.julyedu.com/article/1006&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7527000&#39;,
 &#39;https://ask.julyedu.com/article/1005&#39;,
 &#39;https://ask.julyedu.com/explore/category-15&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7527000&#39;,
 &#39;https://dwz.cn/ZmFmFUmY&#39;,
 &#39;https://ask.julyedu.com/article/1005&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7527000&#39;,
 &#39;https://ask.julyedu.com/article/1004&#39;,
 &#39;https://ask.julyedu.com/explore/category-7&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7527000&#39;,
 &#39;https://dwz.cn/kFJZuxek&#39;,
 &#39;https://ask.julyedu.com/uploads/article/20190619/eab24a8a5b30672d260dd446d7b21c8b.png&#39;,
 &#39;https://ask.julyedu.com/article/1004&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7527000&#39;,
 &#39;https://ask.julyedu.com/question/88645&#39;,
 &#39;https://ask.julyedu.com/question/88645#!answer_form&#39;,
 &#39;https://ask.julyedu.com/explore/category-5&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7527000&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7527000&#39;,
 &#39;https://ask.julyedu.com/article/1003&#39;,
 &#39;https://ask.julyedu.com/explore/category-13&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7527000&#39;,
 &#39;https://dwz.cn/Ar8fDfbn&#39;,
 &#39;https://ask.julyedu.com/uploads/article/20190618/ad20b22eee771ee56e4f674f341ee397.png&#39;,
 &#39;https://ask.julyedu.com/article/1003&#39;,
 &#39;https://ask.julyedu.com/people/Darlingpan&#39;,
 &#39;https://ask.julyedu.com/question/86722&#39;,
 &#39;https://ask.julyedu.com/people/%E8%8E%B9%E5%AE%9D%E5%AE%9D&#39;,
 &#39;https://ask.julyedu.com/explore/category-1&#39;,
 &#39;https://ask.julyedu.com/people/%E8%8E%B9%E5%AE%9D%E5%AE%9D&#39;,
 &#39;https://ask.julyedu.com/people/Darlingpan&#39;,
 &#39;https://ask.julyedu.com/question/85510&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7545057&#39;,
 &#39;https://ask.julyedu.com/explore/category-13&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7545057&#39;,
 &#39;https://ask.julyedu.com/people/zdl&#39;,
 &#39;https://ask.julyedu.com/question/88644&#39;,
 &#39;https://ask.julyedu.com/question/88644#!answer_form&#39;,
 &#39;https://ask.julyedu.com/explore/category-5&#39;,
 &#39;https://ask.julyedu.com/people/zdl&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7527000&#39;,
 &#39;https://ask.julyedu.com/article/1002&#39;,
 &#39;https://ask.julyedu.com/explore/category-1&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7527000&#39;,
 &#39;https://dwz.cn/kRg2NTm0&#39;,
 &#39;https://ask.julyedu.com/article/1002&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7527000&#39;,
 &#39;https://ask.julyedu.com/question/88643&#39;,
 &#39;https://ask.julyedu.com/question/88643#!answer_form&#39;,
 &#39;https://ask.julyedu.com/explore/category-13&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7527000&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7505476&#39;,
 &#39;https://ask.julyedu.com/question/88642&#39;,
 &#39;https://ask.julyedu.com/question/88642#!answer_form&#39;,
 &#39;https://ask.julyedu.com/explore/category-5&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7505476&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7505476&#39;,
 &#39;https://ask.julyedu.com/question/88641&#39;,
 &#39;https://ask.julyedu.com/question/88641#!answer_form&#39;,
 &#39;https://ask.julyedu.com/explore/category-5&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7505476&#39;,
 &#39;https://ask.julyedu.com/people/%E4%B8%83%E6%9C%88%E5%9C%A8%E7%BA%BF&#39;,
 &#39;https://ask.julyedu.com/question/88640&#39;,
 &#39;https://ask.julyedu.com/question/88640#!answer_form&#39;,
 &#39;https://ask.julyedu.com/explore/category-4&#39;,
 &#39;https://ask.julyedu.com/people/%E4%B8%83%E6%9C%88%E5%9C%A8%E7%BA%BF&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7527000&#39;,
 &#39;https://ask.julyedu.com/question/88639&#39;,
 &#39;https://ask.julyedu.com/question/88639#!answer_form&#39;,
 &#39;https://ask.julyedu.com/explore/category-1&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7527000&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7527000&#39;,
 &#39;https://ask.julyedu.com/question/88638&#39;,
 &#39;https://ask.julyedu.com/question/88638#!answer_form&#39;,
 &#39;https://ask.julyedu.com/explore/category-1&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7527000&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7527000&#39;,
 &#39;https://ask.julyedu.com/article/1001&#39;,
 &#39;https://ask.julyedu.com/explore/category-1&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7527000&#39;,
 &#39;https://ask.julyedu.com/article/1001&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7527000&#39;,
 &#39;https://ask.julyedu.com/article/1000&#39;,
 &#39;https://ask.julyedu.com/explore/category-1&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7527000&#39;,
 &#39;https://ask.julyedu.com/article/1000&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7527000&#39;,
 &#39;https://ask.julyedu.com/article/999&#39;,
 &#39;https://ask.julyedu.com/explore/category-13&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7527000&#39;,
 &#39;https://ask.julyedu.com/uploads/article/20190605/6dcda1628e00ed7dfab23d18431f6c9b.png&#39;,
 &#39;https://ask.julyedu.com/article/999&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7527000&#39;,
 &#39;https://ask.julyedu.com/question/88634&#39;,
 &#39;https://ask.julyedu.com/question/88634#!answer_form&#39;,
 &#39;https://ask.julyedu.com/explore/category-1&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7527000&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7527000&#39;,
 &#39;https://ask.julyedu.com/question/88633&#39;,
 &#39;https://ask.julyedu.com/question/88633#!answer_form&#39;,
 &#39;https://ask.julyedu.com/explore/category-18&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7527000&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7527000&#39;,
 &#39;https://ask.julyedu.com/question/88632&#39;,
 &#39;https://ask.julyedu.com/question/88632#!answer_form&#39;,
 &#39;https://ask.julyedu.com/explore/category-14&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7527000&#39;,
 &#39;https://ask.julyedu.com/people/%E9%80%86%E8%BD%AC&#39;,
 &#39;https://ask.julyedu.com/question/88584&#39;,
 &#39;https://ask.julyedu.com/people/%E8%8B%A5%E6%99%B4&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7479632&#39;,
 &#39;https://ask.julyedu.com/explore/category-1&#39;,
 &#39;https://ask.julyedu.com/people/qq%E7%94%A8%E6%88%B7497804&#39;,
 &#39;https://ask.julyedu.com/people/&#39;,
 &#39;https://ask.julyedu.com/question/86859&#39;,
 &#39;https://ask.julyedu.com/people/%E5%BE%AE%E4%BF%A1%E7%94%A8%E6%88%B7488524&#39;,
 &#39;https://ask.julyedu.com/people/%E5%BE%AE%E4%BF%A1%E7%94%A8%E6%88%B7480301&#39;,
 &#39;https://ask.julyedu.com/explore/category-1&#39;,
 &#39;https://ask.julyedu.com/people/Michael+Michael&#39;,
 &#39;https://ask.julyedu.com/people/%E4%B8%83%E6%9C%88%E5%9C%A8%E7%BA%BF&#39;,
 &#39;https://ask.julyedu.com/question/88631&#39;,
 &#39;https://ask.julyedu.com/question/88631#!answer_form&#39;,
 &#39;https://ask.julyedu.com/explore/category-5&#39;,
 &#39;https://ask.julyedu.com/people/%E4%B8%83%E6%9C%88%E5%9C%A8%E7%BA%BF&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7505476&#39;,
 &#39;https://ask.julyedu.com/question/88629&#39;,
 &#39;https://ask.julyedu.com/question/88629#!answer_form&#39;,
 &#39;https://ask.julyedu.com/explore/category-5&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7505476&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7505476&#39;,
 &#39;https://ask.julyedu.com/question/88630&#39;,
 &#39;https://ask.julyedu.com/question/88630#!answer_form&#39;,
 &#39;https://ask.julyedu.com/explore/category-5&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7505476&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7505476&#39;,
 &#39;https://ask.julyedu.com/question/88628&#39;,
 &#39;https://ask.julyedu.com/question/88628#!answer_form&#39;,
 &#39;https://ask.julyedu.com/explore/category-5&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7505476&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7527000&#39;,
 &#39;https://ask.julyedu.com/question/88627&#39;,
 &#39;https://ask.julyedu.com/question/88627#!answer_form&#39;,
 &#39;https://ask.julyedu.com/explore/category-13&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7527000&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7527000&#39;,
 &#39;https://ask.julyedu.com/question/88626&#39;,
 &#39;https://ask.julyedu.com/question/88626#!answer_form&#39;,
 &#39;https://ask.julyedu.com/explore/category-7&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7527000&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7527000&#39;,
 &#39;https://ask.julyedu.com/question/88625&#39;,
 &#39;https://ask.julyedu.com/question/88625#!answer_form&#39;,
 &#39;https://ask.julyedu.com/explore/category-5&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7527000&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7527000&#39;,
 &#39;https://ask.julyedu.com/question/88624&#39;,
 &#39;https://ask.julyedu.com/question/88624#!answer_form&#39;,
 &#39;https://ask.julyedu.com/explore/category-5&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7527000&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7527000&#39;,
 &#39;https://ask.julyedu.com/question/88623&#39;,
 &#39;https://ask.julyedu.com/question/88623#!answer_form&#39;,
 &#39;https://ask.julyedu.com/explore/category-14&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7527000&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7527000&#39;,
 &#39;https://ask.julyedu.com/question/88622&#39;,
 &#39;https://ask.julyedu.com/question/88622#!answer_form&#39;,
 &#39;https://ask.julyedu.com/explore/category-1&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7527000&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7527000&#39;,
 &#39;https://ask.julyedu.com/question/88621&#39;,
 &#39;https://ask.julyedu.com/question/88621#!answer_form&#39;,
 &#39;https://ask.julyedu.com/explore/category-7&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7527000&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7527000&#39;,
 &#39;https://ask.julyedu.com/question/88619&#39;,
 &#39;https://ask.julyedu.com/question/88619#!answer_form&#39;,
 &#39;https://ask.julyedu.com/explore/category-7&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7527000&#39;,
 &#39;https://ask.julyedu.com/people/%E5%BC%A0%E7%BF%94&#39;,
 &#39;https://ask.julyedu.com/question/88617&#39;,
 &#39;https://ask.julyedu.com/question/88617#!answer_form&#39;,
 &#39;https://ask.julyedu.com/explore/category-5&#39;,
 &#39;https://ask.julyedu.com/people/%E5%BC%A0%E7%BF%94&#39;,
 &#39;https://ask.julyedu.com/people/%E5%BC%A0%E7%BF%94&#39;,
 &#39;https://ask.julyedu.com/question/88618&#39;,
 &#39;https://ask.julyedu.com/question/88618#!answer_form&#39;,
 &#39;https://ask.julyedu.com/explore/category-5&#39;,
 &#39;https://ask.julyedu.com/people/%E5%BC%A0%E7%BF%94&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7505476&#39;,
 &#39;https://ask.julyedu.com/question/88616&#39;,
 &#39;https://ask.julyedu.com/question/88616#!answer_form&#39;,
 &#39;https://ask.julyedu.com/explore/category-5&#39;,
 &#39;https://ask.julyedu.com/people/%E6%89%8B%E6%9C%BA%E7%94%A8%E6%88%B7505476&#39;,
 &#39;https://ask.julyedu.com/people/afei3009&#39;,
 &#39;https://ask.julyedu.com/question/88615&#39;,
 &#39;https://ask.julyedu.com/question/88615#!answer_form&#39;,
 &#39;https://ask.julyedu.com/explore/category-13&#39;,
 &#39;https://ask.julyedu.com/people/afei3009&#39;,
 &#39;javascript:;&#39;,
 &#39;https://ask.julyedu.com/sort_type-new__day-0__is_recommend-0__page-2&#39;,
 &#39;https://ask.julyedu.com/sort_type-new__day-0__is_recommend-0__page-3&#39;,
 &#39;https://ask.julyedu.com/sort_type-new__day-0__is_recommend-0__page-4&#39;,
 &#39;https://ask.julyedu.com/sort_type-new__day-0__is_recommend-0__page-2&#39;,
 &#39;https://ask.julyedu.com/sort_type-new__day-0__is_recommend-0__page-56&#39;,
 &#39;https://ask.julyedu.com/topic/channel-hot&#39;,
 &#39;https://ask.julyedu.com/topic/python&#39;,
 &#39;https://ask.julyedu.com/topic/python&#39;,
 &#39;https://ask.julyedu.com/topic/活动&#39;,
 &#39;https://ask.julyedu.com/topic/活动&#39;,
 &#39;https://ask.julyedu.com/topic/GAN&#39;,
 &#39;https://ask.julyedu.com/topic/GAN&#39;,
 &#39;https://ask.julyedu.com/topic/面试&#39;,
 &#39;https://ask.julyedu.com/topic/面试&#39;,
 &#39;https://ask.julyedu.com/people/&#39;,
 &#39;https://ask.julyedu.com/people/xiaoyan2015&#39;,
 &#39;https://ask.julyedu.com/people/xiaoyan2015&#39;,
 &#39;https://ask.julyedu.com/people/qyzx_zhx&#39;,
 &#39;https://ask.julyedu.com/people/qyzx_zhx&#39;,
 &#39;https://ask.julyedu.com/people/%E7%A4%BE%E5%8C%BA%E5%B0%8F%E7%AE%A1%E5%AE%B6&#39;,
 &#39;https://ask.julyedu.com/people/%E7%A4%BE%E5%8C%BA%E5%B0%8F%E7%AE%A1%E5%AE%B6&#39;,
 &#39;https://ask.julyedu.com/people/unasm&#39;,
 &#39;https://ask.julyedu.com/people/unasm&#39;,
 &#39;https://ask.julyedu.com/people/Alina&#39;,
 &#39;https://ask.julyedu.com/people/Alina&#39;,
 &#39;http://www.julyedu.com/weekend/train9?v=m1&#39;,
 &#39;http://q.url.cn/AB8aue?_type=wpa&amp;qidian=true&#39;,
 &#39;http://www.julyedu.com/distribution/index&#39;,
 &#39;http://weibo.com/askjulyedu&#39;,
 None,
 &#39;https://www.julyedu.com/help/index/about&#39;,
 &#39;https://www.julyedu.com/help/index/contact&#39;,
 &#39;https://www.julyedu.com/help/index/join&#39;,
 &#39;https://ask.julyedu.com/question/55&#39;,
 &#39;https://tianchi.aliyun.com&#39;,
 &#39;https://cloud.tencent.com/developer/edu&#39;,
 &#39;https://www.aidaxue.com/?ch=qyzx&#39;,
 &#39;https://www.epubit.com&#39;,
 &#39;http://www.miitbeian.gov.cn/&#39;,
 &#39;https://www.cnzz.com/stat/website.php?web_id=1259748782&#39;,
 &#39;https://www.julyedu.com&#39;,
 &#39;https://www.julyedu.com/help/index/about&#39;,
 &#39;https://www.julyedu.com/help/index/join&#39;,
 &#39;http://weibo.com/askjulyedu&#39;,
 &#39;javascript:&#39;,
 &#39;https://tianchi.aliyun.com&#39;,
 &#39;https://cloud.tencent.com/developer/edu&#39;,
 &#39;https://www.aidaxue.com/?ch=qyzx&#39;,
 &#39;https://www.epubit.com&#39;]
</code></pre><blockquote>
<p>参考：</p>
</blockquote>
<ol>
<li><a class="link"   href="https://www.julyedu.com/course/getDetail/66/" >廖雪峰Python数据分析<i class="fas fa-external-link-alt"></i></a></li>
</ol>
]]></content>
      <categories>
        <category>统计与机器学习</category>
        <category>其他</category>
      </categories>
  </entry>
  <entry>
    <title>6种分类模型比较</title>
    <url>/%E7%BB%9F%E8%AE%A1%E4%B8%8E%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E5%85%B6%E4%BB%96/32513/</url>
    <content><![CDATA[<h2 id="数据集载入"><a href="#数据集载入" class="headerlink" title="数据集载入"></a>数据集载入</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sns</span><br><span class="line"><span class="keyword">import</span> warnings</span><br><span class="line">warnings.filterwarnings(<span class="string">&#x27;ignore&#x27;</span>)</span><br><span class="line"></span><br><span class="line">df = pd.read_csv(<span class="string">u&quot;2019-08-01_金融数据描述_data1.csv&quot;</span>,encoding = <span class="string">&#x27;gbk&#x27;</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">df.info()</span><br></pre></td></tr></table></figure>
<pre><code>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 4754 entries, 0 to 4753
Data columns (total 90 columns):
Unnamed: 0                                    4754 non-null int64
custid                                        4754 non-null int64
trade_no                                      4754 non-null object
bank_card_no                                  4754 non-null object
low_volume_percent                            4752 non-null float64
middle_volume_percent                         4752 non-null float64
take_amount_in_later_12_month_highest         4754 non-null int64
trans_amount_increase_rate_lately             4751 non-null float64
trans_activity_month                          4752 non-null float64
trans_activity_day                            4752 non-null float64
transd_mcc                                    4752 non-null float64
trans_days_interval_filter                    4746 non-null float64
trans_days_interval                           4752 non-null float64
regional_mobility                             4752 non-null float64
student_feature                               1756 non-null float64
repayment_capability                          4754 non-null int64
is_high_user                                  4754 non-null int64
number_of_trans_from_2011                     4752 non-null float64
first_transaction_time                        4752 non-null float64
historical_trans_amount                       4754 non-null int64
historical_trans_day                          4752 non-null float64
rank_trad_1_month                             4752 non-null float64
trans_amount_3_month                          4754 non-null int64
avg_consume_less_12_valid_month               4752 non-null float64
abs                                           4754 non-null int64
top_trans_count_last_1_month                  4752 non-null float64
avg_price_last_12_month                       4754 non-null int64
avg_price_top_last_12_valid_month             4650 non-null float64
reg_preference_for_trad                       4752 non-null object
trans_top_time_last_1_month                   4746 non-null float64
trans_top_time_last_6_month                   4746 non-null float64
consume_top_time_last_1_month                 4746 non-null float64
consume_top_time_last_6_month                 4746 non-null float64
cross_consume_count_last_1_month              4328 non-null float64
trans_fail_top_count_enum_last_1_month        4738 non-null float64
trans_fail_top_count_enum_last_6_month        4738 non-null float64
trans_fail_top_count_enum_last_12_month       4738 non-null float64
consume_mini_time_last_1_month                4728 non-null float64
max_cumulative_consume_later_1_month          4754 non-null int64
max_consume_count_later_6_month               4746 non-null float64
railway_consume_count_last_12_month           4742 non-null float64
pawns_auctions_trusts_consume_last_1_month    4754 non-null int64
pawns_auctions_trusts_consume_last_6_month    4754 non-null int64
jewelry_consume_count_last_6_month            4742 non-null float64
status                                        4754 non-null int64
source                                        4754 non-null object
first_transaction_day                         4752 non-null float64
trans_day_last_12_month                       4752 non-null float64
id_name                                       4478 non-null object
apply_score                                   4450 non-null float64
apply_credibility                             4450 non-null float64
query_org_count                               4450 non-null float64
query_finance_count                           4450 non-null float64
query_cash_count                              4450 non-null float64
query_sum_count                               4450 non-null float64
latest_query_time                             4450 non-null object
latest_one_month_apply                        4450 non-null float64
latest_three_month_apply                      4450 non-null float64
latest_six_month_apply                        4450 non-null float64
loans_score                                   4457 non-null float64
loans_credibility_behavior                    4457 non-null float64
loans_count                                   4457 non-null float64
loans_settle_count                            4457 non-null float64
loans_overdue_count                           4457 non-null float64
loans_org_count_behavior                      4457 non-null float64
consfin_org_count_behavior                    4457 non-null float64
loans_cash_count                              4457 non-null float64
latest_one_month_loan                         4457 non-null float64
latest_three_month_loan                       4457 non-null float64
latest_six_month_loan                         4457 non-null float64
history_suc_fee                               4457 non-null float64
history_fail_fee                              4457 non-null float64
latest_one_month_suc                          4457 non-null float64
latest_one_month_fail                         4457 non-null float64
loans_long_time                               4457 non-null float64
loans_latest_time                             4457 non-null object
loans_credit_limit                            4457 non-null float64
loans_credibility_limit                       4457 non-null float64
loans_org_count_current                       4457 non-null float64
loans_product_count                           4457 non-null float64
loans_max_limit                               4457 non-null float64
loans_avg_limit                               4457 non-null float64
consfin_credit_limit                          4457 non-null float64
consfin_credibility                           4457 non-null float64
consfin_org_count_current                     4457 non-null float64
consfin_product_count                         4457 non-null float64
consfin_max_limit                             4457 non-null float64
consfin_avg_limit                             4457 non-null float64
latest_query_day                              4450 non-null float64
loans_latest_day                              4457 non-null float64
dtypes: float64(70), int64(13), object(7)
memory usage: 3.3+ MB
</code></pre><h2 id="特征预处理"><a href="#特征预处理" class="headerlink" title="特征预处理"></a>特征预处理</h2><h3 id="删除无用"><a href="#删除无用" class="headerlink" title="删除无用"></a>删除无用</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">delete = [<span class="string">&#x27;Unnamed: 0&#x27;</span>, <span class="string">&#x27;custid&#x27;</span>, <span class="string">&#x27;trade_no&#x27;</span>, <span class="string">&#x27;bank_card_no&#x27;</span>,<span class="string">&#x27;id_name&#x27;</span>,<span class="string">&#x27;latest_query_time&#x27;</span>,<span class="string">&#x27;source&#x27;</span>,<span class="string">&#x27;loans_latest_time&#x27;</span>,<span class="string">&#x27;first_transaction_time&#x27;</span>, <span class="string">&#x27;student_feature&#x27;</span>]</span><br><span class="line">df = df.drop(delete,axis=<span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<h3 id="处理分类型特征"><a href="#处理分类型特征" class="headerlink" title="处理分类型特征"></a>处理分类型特征</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> LabelEncoder</span><br><span class="line">df[<span class="string">&#x27;reg_preference_for_trad&#x27;</span>] = LabelEncoder().fit_transform(df[<span class="string">&#x27;reg_preference_for_trad&#x27;</span>].astype(<span class="built_in">str</span>))</span><br></pre></td></tr></table></figure>
<h3 id="使用众数填充"><a href="#使用众数填充" class="headerlink" title="使用众数填充"></a>使用众数填充</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> Imputer</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(df.shape[<span class="number">1</span>]):</span><br><span class="line">    feature = df.iloc[:,i].values.reshape(-<span class="number">1</span>,<span class="number">1</span>)</span><br><span class="line">    imp_mode = Imputer(strategy=<span class="string">&#x27;most_frequent&#x27;</span>)</span><br><span class="line">    df.iloc[:,i] = imp_mode.fit_transform(feature)</span><br></pre></td></tr></table></figure>
<h2 id="数据划分"><a href="#数据划分" class="headerlink" title="数据划分"></a>数据划分</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">X = df[:].drop(<span class="string">&quot;status&quot;</span>,axis=<span class="number">1</span>)</span><br><span class="line">y = df[<span class="string">&quot;status&quot;</span>]</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line"></span><br><span class="line">X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=<span class="number">0.2</span>, shuffle = <span class="literal">False</span>)</span><br></pre></td></tr></table></figure>
<h2 id="数据归一化"><a href="#数据归一化" class="headerlink" title="数据归一化"></a>数据归一化</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> minmax_scale</span><br><span class="line">X_train = minmax_scale(X_train)</span><br><span class="line">X_test =  minmax_scale(X_test)</span><br></pre></td></tr></table></figure>
<h2 id="建模与预测"><a href="#建模与预测" class="headerlink" title="建模与预测"></a>建模与预测</h2><h3 id="使用一般建模方法"><a href="#使用一般建模方法" class="headerlink" title="使用一般建模方法"></a>使用一般建模方法</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> LogisticRegression</span><br><span class="line"><span class="keyword">from</span> sklearn.svm <span class="keyword">import</span> SVC</span><br><span class="line"><span class="keyword">from</span> sklearn.tree <span class="keyword">import</span> DecisionTreeClassifier</span><br><span class="line"><span class="keyword">from</span> sklearn.ensemble <span class="keyword">import</span> RandomForestClassifier, GradientBoostingClassifier</span><br><span class="line"><span class="keyword">from</span> sklearn.neighbors <span class="keyword">import</span> KNeighborsClassifier</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> cross_val_score</span><br><span class="line"></span><br><span class="line">LR = LogisticRegression()</span><br><span class="line">LR = LR.fit(X_train, y_train)</span><br><span class="line"><span class="comment"># LR = cross_val_score(LR, X_train, y_train, cv = 5)</span></span><br><span class="line"></span><br><span class="line">svc = SVC(kernel=<span class="string">&#x27;linear&#x27;</span>, probability = <span class="literal">True</span>)</span><br><span class="line">svc = svc.fit(X_train, y_train)</span><br><span class="line"><span class="comment"># svc = cross_val_score(svc,X_train,y_train, cv = 5)</span></span><br><span class="line"></span><br><span class="line">DT = DecisionTreeClassifier(max_depth = <span class="number">6</span>)</span><br><span class="line">DT = DT.fit(X_train, y_train)</span><br><span class="line"><span class="comment"># DT = cross_val_score(DT, X_train, y_train, cv = 5)</span></span><br><span class="line"></span><br><span class="line">RF = RandomForestClassifier()</span><br><span class="line">RF = RF.fit(X_train, y_train)</span><br><span class="line"><span class="comment"># RF = cross_val_score(RF, X_train, y_train, cv = 5)</span></span><br><span class="line"></span><br><span class="line">KNN = KNeighborsClassifier()</span><br><span class="line">KNN = KNN.fit(X_train, y_train)</span><br><span class="line"><span class="comment"># LR = cross_val_score(LR, X_train, y_train, cv = 5)</span></span><br><span class="line"></span><br><span class="line">GBDT = GradientBoostingClassifier()</span><br><span class="line">GBDT = GBDT.fit(X_train, y_train)</span><br><span class="line"><span class="comment"># LR = cross_val_score(LR, X_train, y_train, cv = 5)</span></span><br><span class="line"></span><br><span class="line">names = [<span class="string">&quot;LR&quot;</span>, <span class="string">&quot;SVC&quot;</span>, <span class="string">&#x27;DT&#x27;</span>, <span class="string">&quot;RF&quot;</span>, <span class="string">&quot;KNN&quot;</span>, <span class="string">&quot;GBDT&quot;</span>]</span><br><span class="line">models = [LR, svc, DT, RF, KNN, GBDT]</span><br><span class="line">evaluates = [<span class="string">&#x27;accuracy&#x27;</span>, <span class="string">&#x27;precision&#x27;</span>, <span class="string">&#x27;recall&#x27;</span>, <span class="string">&#x27;f1&#x27;</span>, <span class="string">&#x27;roc_auc&#x27;</span>]</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">df_list = []</span><br><span class="line"><span class="keyword">for</span> name,model <span class="keyword">in</span> <span class="built_in">zip</span>(names,models):</span><br><span class="line">    y_train_pred = model.predict(X_train)</span><br><span class="line">    y_test_pred = model.predict(X_test)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">#accuracy</span></span><br><span class="line">    train_accuracy = model.score(X_train,y_train)</span><br><span class="line">    test_accuracy = model.score(X_test,y_test)</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="comment">#precision   </span></span><br><span class="line">    train_precision = precision_score(y_train,y_train_pred)</span><br><span class="line">    test_precision = precision_score(y_test,y_test_pred)   </span><br><span class="line">    </span><br><span class="line">    <span class="comment">#recall</span></span><br><span class="line">    train_recall = recall_score(y_train,y_train_pred)</span><br><span class="line">    test_recall = recall_score(y_test,y_test_pred)   </span><br><span class="line">    </span><br><span class="line">    <span class="comment">#f1</span></span><br><span class="line">    train_f1 = f1_score(y_train,y_train_pred)</span><br><span class="line">    test_f1 = f1_score(y_test,y_test_pred)   </span><br><span class="line">    </span><br><span class="line">    <span class="comment">#auc</span></span><br><span class="line">    y_train_pred = model.predict_proba(X_train)[:,<span class="number">1</span>]</span><br><span class="line">    y_test_pred = model.predict_proba(X_test)[:,<span class="number">1</span>]</span><br><span class="line">    </span><br><span class="line">    train_auc = roc_auc_score(y_train,y_train_pred)</span><br><span class="line">    test_auc = roc_auc_score(y_test,y_test_pred)</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;&#123;&#125; 训练集： accuracy:&#123;:.3&#125;,precision:&#123;:.3&#125;, recall:&#123;:.3&#125;, f1:&#123;:.3&#125;, auc:&#123;:.3&#125;&#x27;</span>.<span class="built_in">format</span>(name,train_accuracy,train_precision,train_recall,train_f1,train_auc))</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;&#123;&#125; 测试集： accuracy:&#123;:.3&#125;,precision:&#123;:.3&#125;, recall:&#123;:.3&#125;, f1:&#123;:.3&#125;, auc:&#123;:.3&#125;&#x27;</span>.<span class="built_in">format</span>(name,test_accuracy,test_precision,test_recall,test_f1,test_auc))</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">    df = pd.DataFrame(np.array([train_accuracy,train_precision,train_recall,train_f1,train_auc,test_accuracy,test_precision,test_recall,test_f1,test_auc]).reshape(<span class="number">2</span>,-<span class="number">1</span>),</span><br><span class="line">                  index = [<span class="string">&#x27;train&#x27;</span>,<span class="string">&#x27;test&#x27;</span>],</span><br><span class="line">                  columns = [<span class="string">&#x27;Accuracy&#x27;</span>,<span class="string">&#x27;Precision&#x27;</span>,<span class="string">&#x27;Recall&#x27;</span>,<span class="string">&#x27;F1-Score&#x27;</span>,<span class="string">&#x27;AUC-Score&#x27;</span>])</span><br><span class="line">    df_list.append(df)</span><br><span class="line"></span><br><span class="line">pd.concat(df_list,axis=<span class="number">0</span>,keys=names)</span><br></pre></td></tr></table></figure>
<pre><code>LR 训练集： accuracy:0.801,precision:0.742, recall:0.279, f1:0.406, auc:0.8
LR 测试集： accuracy:0.789,precision:0.752, recall:0.365, f1:0.491, auc:0.787


SVC 训练集： accuracy:0.793,precision:0.809, recall:0.196, f1:0.316, auc:0.809
SVC 测试集： accuracy:0.771,precision:0.843, recall:0.222, f1:0.351, auc:0.796


DT 训练集： accuracy:0.829,precision:0.723, recall:0.487, f1:0.582, auc:0.832
DT 测试集： accuracy:0.727,precision:0.516, recall:0.361, f1:0.425, auc:0.707


RF 训练集： accuracy:0.981,precision:0.999, recall:0.924, f1:0.96, auc:0.999
RF 测试集： accuracy:0.722,precision:0.509, recall:0.218, f1:0.305, auc:0.673


KNN 训练集： accuracy:0.816,precision:0.741, recall:0.379, f1:0.501, auc:0.848
KNN 测试集： accuracy:0.708,precision:0.445, recall:0.184, f1:0.261, auc:0.623


GBDT 训练集： accuracy:0.859,precision:0.867, recall:0.497, f1:0.632, auc:0.913
GBDT 测试集： accuracy:0.754,precision:0.573, recall:0.474, f1:0.519, auc:0.771
</code></pre><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th></th>
      <th>Accuracy</th>
      <th>Precision</th>
      <th>Recall</th>
      <th>F1-Score</th>
      <th>AUC-Score</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th rowspan="2" valign="top">LR</th>
      <th>train</th>
      <td>0.800684</td>
      <td>0.742120</td>
      <td>0.279396</td>
      <td>0.405956</td>
      <td>0.799942</td>
    </tr>
    <tr>
      <th>test</th>
      <td>0.788644</td>
      <td>0.751938</td>
      <td>0.364662</td>
      <td>0.491139</td>
      <td>0.786801</td>
    </tr>
    <tr>
      <th rowspan="2" valign="top">SVC</th>
      <th>train</th>
      <td>0.792795</td>
      <td>0.808889</td>
      <td>0.196332</td>
      <td>0.315972</td>
      <td>0.809276</td>
    </tr>
    <tr>
      <th>test</th>
      <td>0.770768</td>
      <td>0.842857</td>
      <td>0.221805</td>
      <td>0.351190</td>
      <td>0.796191</td>
    </tr>
    <tr>
      <th rowspan="2" valign="top">DT</th>
      <th>train</th>
      <td>0.829345</td>
      <td>0.722756</td>
      <td>0.486516</td>
      <td>0.581560</td>
      <td>0.831990</td>
    </tr>
    <tr>
      <th>test</th>
      <td>0.726604</td>
      <td>0.516129</td>
      <td>0.360902</td>
      <td>0.424779</td>
      <td>0.706676</td>
    </tr>
    <tr>
      <th rowspan="2" valign="top">RF</th>
      <th>train</th>
      <td>0.981331</td>
      <td>0.998834</td>
      <td>0.924488</td>
      <td>0.960224</td>
      <td>0.999103</td>
    </tr>
    <tr>
      <th>test</th>
      <td>0.722397</td>
      <td>0.508772</td>
      <td>0.218045</td>
      <td>0.305263</td>
      <td>0.672949</td>
    </tr>
    <tr>
      <th rowspan="2" valign="top">KNN</th>
      <th>train</th>
      <td>0.816198</td>
      <td>0.740506</td>
      <td>0.378641</td>
      <td>0.501071</td>
      <td>0.847694</td>
    </tr>
    <tr>
      <th>test</th>
      <td>0.707676</td>
      <td>0.445455</td>
      <td>0.184211</td>
      <td>0.260638</td>
      <td>0.623415</td>
    </tr>
    <tr>
      <th rowspan="2" valign="top">GBDT</th>
      <th>train</th>
      <td>0.858796</td>
      <td>0.866541</td>
      <td>0.497303</td>
      <td>0.631940</td>
      <td>0.912630</td>
    </tr>
    <tr>
      <th>test</th>
      <td>0.753943</td>
      <td>0.572727</td>
      <td>0.473684</td>
      <td>0.518519</td>
      <td>0.770979</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">draw_roc_curve</span>(<span class="params">train_pre_proba,test_pre_proba,train_auc,test_auc,model_name,num</span>):</span></span><br><span class="line">    fpr,tpr,roc_auc = train_pre_proba</span><br><span class="line">    test_fpr,test_tpr,test_roc_auc = test_pre_proba</span><br><span class="line">    </span><br><span class="line">    plt.figure()</span><br><span class="line">    lw = <span class="number">2</span></span><br><span class="line">    plt.plot(fpr, tpr, color=<span class="string">&#x27;darkorange&#x27;</span>,</span><br><span class="line">             lw=lw, label=<span class="string">&#x27;ROC curve (area = %0.2f)&#x27;</span> % train_auc)</span><br><span class="line">    plt.plot(test_fpr, test_tpr, color=<span class="string">&#x27;red&#x27;</span>,</span><br><span class="line">         lw=lw, label=<span class="string">&#x27;ROC curve (area = %0.2f)&#x27;</span> %test_auc)</span><br><span class="line">    plt.plot([<span class="number">0</span>, <span class="number">1</span>], [<span class="number">0</span>, <span class="number">1</span>], color=<span class="string">&#x27;navy&#x27;</span>, lw=lw, linestyle=<span class="string">&#x27;--&#x27;</span>)</span><br><span class="line">    <span class="comment">#plt.xlim([0.0, 1.0])</span></span><br><span class="line">    <span class="comment">#plt.ylim([0.0, 1.05])</span></span><br><span class="line">    plt.xlabel(<span class="string">&#x27;False Positive Rate&#x27;</span>)</span><br><span class="line">    plt.ylabel(<span class="string">&#x27;True Positive Rate&#x27;</span>)</span><br><span class="line">    plt.title(<span class="string">&#x27;Roc example &#x27;</span>+ model_name)</span><br><span class="line">    plt.legend(loc=<span class="string">&quot;lower right&quot;</span>)</span><br><span class="line">    plt.savefig(<span class="string">&quot;../img/2019-08-07_5种分类模型比较_&#123;&#125;.png&quot;</span>.<span class="built_in">format</span>(num))</span><br><span class="line">    plt.close()</span><br><span class="line">    </span><br><span class="line"><span class="keyword">for</span> num,name,model <span class="keyword">in</span> <span class="built_in">zip</span>(<span class="built_in">range</span>(<span class="number">1</span>,<span class="number">7</span>),names,models):</span><br><span class="line">    </span><br><span class="line">    y_train_pred = model.predict_proba(X_train)[:,<span class="number">1</span>]</span><br><span class="line">    y_test_pred = model.predict_proba(X_test)[:,<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    train_roc = roc_curve(y_train,y_train_pred)</span><br><span class="line">    test_roc = roc_curve(y_test,y_test_pred)</span><br><span class="line"></span><br><span class="line">    train_auc = roc_auc_score(y_train,y_train_pred)</span><br><span class="line">    test_auc = roc_auc_score(y_test,y_test_pred)</span><br><span class="line"></span><br><span class="line">    draw_roc_curve(train_roc,test_roc,train_auc,test_auc,name,num)</span><br></pre></td></tr></table></figure>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/img/2019-08-07_5种分类模型比较_1.png"
                      alt=""
                ></p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/img/2019-08-07_5种分类模型比较_2.png"
                      alt=""
                ></p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/img/2019-08-07_5种分类模型比较_3.png"
                      alt=""
                ></p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/img/2019-08-07_5种分类模型比较_4.png"
                      alt=""
                ></p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/img/2019-08-07_5种分类模型比较_5.png"
                      alt=""
                ></p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/img/2019-08-07_5种分类模型比较_6.png"
                      alt=""
                ></p>
<h3 id="使用k-folds交叉建模"><a href="#使用k-folds交叉建模" class="headerlink" title="使用k-folds交叉建模"></a>使用k-folds交叉建模</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> KFold</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">run_cv</span>(<span class="params">X,y,clf_class,**kwargs</span>):</span></span><br><span class="line">    kf = KFold(n_splits = <span class="number">5</span>, shuffle = <span class="literal">False</span>, random_state = <span class="number">0</span>)</span><br><span class="line">    y_pred = y.copy()</span><br><span class="line">    clf = clf_class(**kwargs)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> train_index , test_index <span class="keyword">in</span> kf.split(X):</span><br><span class="line">        X_train, X_test = X[train_index], X[test_index]</span><br><span class="line">        y_train, y_test = y[train_index], y[test_index]</span><br><span class="line">        </span><br><span class="line">        clf.fit(X_train,y_train)</span><br><span class="line">        y_pred[test_index] = clf.predict(X_test)</span><br><span class="line">    <span class="keyword">return</span> y_pred</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.ensemble <span class="keyword">import</span> RandomForestClassifier, GradientBoostingClassifier</span><br><span class="line"><span class="keyword">from</span> sklearn.svm <span class="keyword">import</span> SVC</span><br><span class="line"><span class="keyword">from</span> sklearn.tree <span class="keyword">import</span> DecisionTreeClassifier</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> cross_val_score</span><br><span class="line"><span class="keyword">from</span> sklearn.neighbors <span class="keyword">import</span> KNeighborsClassifier </span><br><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> LogisticRegression</span><br><span class="line"></span><br><span class="line">LR_CV_result = run_cv(X_train,y_train,LogisticRegression)</span><br><span class="line">RF_CV_result = run_cv(X_train,y_train,RandomForestClassifier)</span><br><span class="line">KNN_CV_result = run_cv(X_train,y_train,KNeighborsClassifier)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">accuracy</span>(<span class="params">y_true,y_pred</span>):</span></span><br><span class="line">    <span class="keyword">return</span> np.mean(y_true == y_pred)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span> (<span class="string">&quot;Logistic Regression (L2 is default): &quot;</span> + <span class="built_in">str</span>(accuracy(y_train, LR_CV_result)))</span><br><span class="line"><span class="built_in">print</span> (<span class="string">&quot;Random forest: &quot;</span> + <span class="built_in">str</span>(accuracy(y_train, RF_CV_result)))</span><br><span class="line"><span class="built_in">print</span> (<span class="string">&quot;K-nearest-neighbors: &quot;</span> + <span class="built_in">str</span>(accuracy(y_train, KNN_CV_result)))</span><br></pre></td></tr></table></figure>
<pre><code>Logistic Regression (L2 is default): 0.7933210623192216
Random forest: 0.7812253484091507
K-nearest-neighbors: 0.7520378648435446
</code></pre><blockquote>
<p>参考：</p>
</blockquote>
<ol>
<li><a class="link"   href="https://github.com/datawhalechina/Datawhale_Learning/tree/master/doc/%E7%90%86%E8%AE%BA%E5%BA%94%E7%94%A8/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98" >DataWhale数据挖掘实战营<i class="fas fa-external-link-alt"></i></a></li>
<li><a class="link"   href="https://www.cnblogs.com/tszr/p/10801558.html" >吴裕雄 PYTHON 机器学习——集成学习梯度提升决策树GRADIENTBOOSTINGCLASSIFIER分类模型<i class="fas fa-external-link-alt"></i></a></li>
<li><a class="link"   href="http://yezuolin.com/2018/11/TheModelofUserLoanOverdueEvaluation/" >使用5种分类模型进行用户贷款逾期预测<i class="fas fa-external-link-alt"></i></a></li>
<li><a class="link"   href="https://blog.csdn.net/kancy110/article/details/74910185/" >sklearn.model_selection.KFold<i class="fas fa-external-link-alt"></i></a></li>
</ol>
]]></content>
      <categories>
        <category>统计与机器学习</category>
        <category>其他</category>
      </categories>
  </entry>
  <entry>
    <title>Sklearn</title>
    <url>/Python/53999/</url>
    <content><![CDATA[<h2 id="简单范例"><a href="#简单范例" class="headerlink" title="简单范例"></a>简单范例</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> warnings</span><br><span class="line">warnings.filterwarnings(<span class="string">&#x27;ignore&#x27;</span>)  </span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> neighbors, datasets, preprocessing</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> accuracy_score</span><br><span class="line"></span><br><span class="line">iris = datasets.load_iris()</span><br><span class="line">X, y = iris.data[:, :<span class="number">2</span>], iris.target</span><br><span class="line"></span><br><span class="line">X_train, X_test, y_train, y_test = train_test_split(X, y, random_state=<span class="number">33</span>)</span><br><span class="line"></span><br><span class="line">scaler = preprocessing.StandardScaler().fit(X_train)</span><br><span class="line">X_train = scaler.transform(X_train)</span><br><span class="line">X_test = scaler.transform(X_test)</span><br><span class="line"></span><br><span class="line">knn = neighbors.KNeighborsClassifier(n_neighbors=<span class="number">5</span>)</span><br><span class="line">knn.fit(X_train, y_train)</span><br><span class="line"></span><br><span class="line">y_pred = knn.predict(X_test)</span><br><span class="line"></span><br><span class="line">accuracy_score(y_test, y_pred)</span><br></pre></td></tr></table></figure>
<pre><code>0.631578947368421
</code></pre><h2 id="数据分割"><a href="#数据分割" class="headerlink" title="数据分割"></a>数据分割</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">X_train, X_test, y_train, y_test = train_test_split(X, y, random_state=<span class="number">33</span>)</span><br></pre></td></tr></table></figure>
<h2 id="数据处理"><a href="#数据处理" class="headerlink" title="数据处理"></a>数据处理</h2><h3 id="Standardization"><a href="#Standardization" class="headerlink" title="Standardization"></a>Standardization</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> StandardScaler</span><br><span class="line"></span><br><span class="line">scaler = StandardScaler().fit(X_train)</span><br><span class="line">scaler.transform(X_train)</span><br></pre></td></tr></table></figure>
<pre><code>array([[-0.91090798, -1.59775374],
       [-1.0271058 ,  0.08448757],
       [ 0.59966379, -1.59775374],
       [ 0.01867465, -0.96691325],
       [ 0.48346596, -0.33607276],
       [-1.25950146,  0.29476773],
       [-1.37569929,  0.71532806],
       [-0.79471015, -1.17719341],
       [-1.14330363,  0.71532806],
       [ 2.45882905,  1.55644871],
       [-0.79471015,  0.71532806],
       [-0.79471015,  1.34616854],
       [-0.21372101, -0.33607276],
       [ 0.83205945, -0.1257926 ],
       [-0.44611666,  1.76672887],
       [ 1.41304859,  0.29476773],
       [ 0.01867465, -0.54635292],
       [ 2.22643339, -0.96691325],
       [-0.32991883, -1.17719341],
       [ 0.13487248,  0.29476773],
       [-1.0271058 ,  1.13588838],
       [-1.49189712, -1.59775374],
       [ 0.59966379, -0.54635292],
       [-1.60809495, -0.33607276],
       [-0.91090798,  1.13588838],
       [ 1.64544425, -0.1257926 ],
       [ 0.25107031,  0.71532806],
       [ 0.48346596, -1.8080339 ],
       [ 1.8778399 , -0.54635292],
       [ 1.18065293, -0.1257926 ],
       [ 0.71586162, -0.54635292],
       [-0.09752318, -1.17719341],
       [-0.91090798,  0.92560822],
       [-0.79471015,  1.55644871],
       [ 1.18065293, -0.54635292],
       [-0.67851232, -0.75663309],
       [-0.79471015,  1.55644871],
       [-0.21372101, -1.17719341],
       [ 0.36726814, -0.1257926 ],
       [ 0.94825728, -0.33607276],
       [ 0.71586162, -0.54635292],
       [-1.72429277, -0.1257926 ],
       [ 1.64544425,  1.13588838],
       [-0.79471015,  0.92560822],
       [ 0.59966379, -1.17719341],
       [-1.60809495,  0.29476773],
       [ 2.11023556, -0.1257926 ],
       [ 0.71586162,  0.29476773],
       [-0.79471015,  1.55644871],
       [ 0.83205945,  0.29476773],
       [ 0.59966379, -0.75663309],
       [-0.91090798,  0.92560822],
       [-0.67851232,  0.71532806],
       [ 0.71586162, -0.75663309],
       [ 0.01867465,  1.97700903],
       [-0.09752318,  2.81812969],
       [-1.37569929,  0.29476773],
       [ 1.29685076,  0.08448757],
       [ 0.59966379, -0.33607276],
       [-0.32991883,  0.92560822],
       [-0.09752318, -0.96691325],
       [-0.91090798,  0.50504789],
       [ 0.25107031, -1.8080339 ],
       [-1.0271058 , -0.1257926 ],
       [-0.91090798, -2.22859423],
       [ 0.94825728, -0.1257926 ],
       [-0.09752318, -0.54635292],
       [-0.32991883, -0.96691325],
       [-0.32991883, -1.59775374],
       [-1.14330363,  0.08448757],
       [ 0.25107031, -0.33607276],
       [-0.91090798, -0.1257926 ],
       [ 1.29685076,  0.08448757],
       [ 1.06445511, -1.17719341],
       [-0.56231449,  1.34616854],
       [-0.67851232,  2.1872892 ],
       [-0.91090798,  0.71532806],
       [-1.37569929,  1.13588838],
       [ 2.22643339,  1.55644871],
       [ 1.76164208, -0.33607276],
       [-1.37569929,  0.08448757],
       [-0.32991883, -1.38747358],
       [ 0.01867465, -0.75663309],
       [ 1.06445511,  0.50504789],
       [ 0.01867465, -0.75663309],
       [-0.44611666,  1.34616854],
       [-0.91090798,  0.71532806],
       [ 0.25107031, -0.75663309],
       [-0.09752318, -0.54635292],
       [ 0.36726814, -0.54635292],
       [-0.79471015,  0.50504789],
       [-0.21372101, -0.1257926 ],
       [-0.44611666, -0.1257926 ],
       [-0.44611666,  1.76672887],
       [ 1.06445511,  0.50504789],
       [-1.0271058 , -1.17719341],
       [ 0.48346596,  0.71532806],
       [-0.32991883, -1.38747358],
       [ 2.22643339, -0.54635292],
       [-0.44611666,  0.71532806],
       [ 1.06445511, -0.1257926 ],
       [-0.32991883,  2.39756936],
       [-0.91090798,  0.29476773],
       [-1.14330363, -0.1257926 ],
       [ 0.01867465, -0.75663309],
       [ 0.13487248, -0.1257926 ],
       [ 1.52924642, -0.1257926 ],
       [-1.0271058 , -1.38747358],
       [ 0.59966379, -1.17719341],
       [-0.21372101, -0.1257926 ],
       [ 2.22643339, -0.1257926 ],
       [-0.44611666,  0.71532806]])
</code></pre><h3 id="Normalization"><a href="#Normalization" class="headerlink" title="Normalization"></a>Normalization</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> Normalizer</span><br><span class="line"></span><br><span class="line">scaler = Normalizer().fit(X_train)</span><br><span class="line">scaler.transform(X_train)</span><br></pre></td></tr></table></figure>
<pre><code>array([[0.90849045, 0.41790561],
       [0.84507884, 0.53464171],
       [0.93935732, 0.34293997],
       [0.91250932, 0.4090559 ],
       [0.90580954, 0.42368511],
       [0.82659925, 0.56279098],
       [0.80417614, 0.59439106],
       [0.89792072, 0.44015722],
       [0.81602448, 0.57801734],
       [0.90116674, 0.43347261],
       [0.83205029, 0.5547002 ],
       [0.80942185, 0.58722762],
       [0.88799441, 0.45985425],
       [0.90795938, 0.41905818],
       [0.81067923, 0.58549055],
       [0.90947448, 0.41575976],
       [0.90055164, 0.43474907],
       [0.94744567, 0.31991672],
       [0.91036648, 0.41380294],
       [0.87903186, 0.47676304],
       [0.80588181, 0.59207643],
       [0.89043468, 0.45511106],
       [0.91381155, 0.40613847],
       [0.8349582 , 0.55031336],
       [0.81153434, 0.58430473],
       [0.92307692, 0.38461538],
       [0.87002219, 0.49301257],
       [0.94242775, 0.33440985],
       [0.93528626, 0.3538921 ],
       [0.9149178 , 0.40364021],
       [0.91615733, 0.40081883],
       [0.91578821, 0.4016615 ],
       [0.81923192, 0.57346234],
       [0.80188283, 0.59748132],
       [0.9246781 , 0.38074981],
       [0.88749608, 0.46081527],
       [0.80188283, 0.59748132],
       [0.91313788, 0.40765084],
       [0.89734997, 0.44131966],
       [0.91551945, 0.4022737 ],
       [0.91615733, 0.40081883],
       [0.82012695, 0.5721816 ],
       [0.89442719, 0.4472136 ],
       [0.82451335, 0.5658425 ],
       [0.92949071, 0.36884552],
       [0.80873608, 0.5881717 ],
       [0.93015522, 0.36716653],
       [0.89442719, 0.4472136 ],
       [0.80188283, 0.59748132],
       [0.89717068, 0.44168403],
       [0.91914503, 0.3939193 ],
       [0.81923192, 0.57346234],
       [0.83696961, 0.54724936],
       [0.92136416, 0.38870051],
       [0.82321279, 0.56773296],
       [0.79159032, 0.61105218],
       [0.8209052 , 0.57106449],
       [0.9121687 , 0.40981492],
       [0.90838094, 0.41814361],
       [0.84366149, 0.53687549],
       [0.90981905, 0.41500518],
       [0.83460941, 0.55084221],
       [0.93887632, 0.34425465],
       [0.8528513 , 0.52215386],
       [0.92847669, 0.37139068],
       [0.91036648, 0.41380294],
       [0.89755433, 0.44090388],
       [0.90407227, 0.42737962],
       [0.92257988, 0.38580613],
       [0.84003938, 0.54252543],
       [0.90034895, 0.43516866],
       [0.85749293, 0.51449576],
       [0.9121687 , 0.40981492],
       [0.93690259, 0.34959052],
       [0.81995808, 0.57242357],
       [0.78526917, 0.61915453],
       [0.8269265 , 0.56231002],
       [0.787505  , 0.61630826],
       [0.89674427, 0.44254912],
       [0.92935209, 0.36919466],
       [0.82926643, 0.55885346],
       [0.91653938, 0.39994446],
       [0.90658206, 0.42202958],
       [0.89708903, 0.44184982],
       [0.90658206, 0.42202958],
       [0.82493237, 0.56523144],
       [0.8269265 , 0.56231002],
       [0.91192151, 0.41036468],
       [0.89755433, 0.44090388],
       [0.90882955, 0.41716766],
       [0.83957016, 0.54325128],
       [0.88147997, 0.47222141],
       [0.87415728, 0.48564293],
       [0.81067923, 0.58549055],
       [0.89708903, 0.44184982],
       [0.89076187, 0.45447034],
       [0.87681241, 0.48083261],
       [0.91653938, 0.39994446],
       [0.93979342, 0.34174306],
       [0.84623284, 0.53281327],
       [0.91268458, 0.40866474],
       [0.79476781, 0.6069136 ],
       [0.8422714 , 0.5390537 ],
       [0.8479983 , 0.52999894],
       [0.90658206, 0.42202958],
       [0.89138513, 0.45324668],
       [0.92114622, 0.38921671],
       [0.89806271, 0.43986745],
       [0.92949071, 0.36884552],
       [0.88147997, 0.47222141],
       [0.93177739, 0.36303015],
       [0.84623284, 0.53281327]])
</code></pre><h3 id="Binarization"><a href="#Binarization" class="headerlink" title="Binarization"></a>Binarization</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> Binarizer</span><br><span class="line"></span><br><span class="line">binarizer = Binarizer(threshold=<span class="number">0.0</span>).fit(X)</span><br><span class="line">binarizer.transform(X)</span><br></pre></td></tr></table></figure>
<pre><code>array([[1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.],
       [1., 1.]])
</code></pre><h3 id="Encoding-Categorical-Features"><a href="#Encoding-Categorical-Features" class="headerlink" title="Encoding Categorical Features"></a>Encoding Categorical Features</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> LabelEncoder</span><br><span class="line"></span><br><span class="line">enc = LabelEncoder()</span><br><span class="line">enc.fit_transform(y)</span><br></pre></td></tr></table></figure>
<pre><code>array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
       0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
       0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
       1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
       1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
       2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
       2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2])
</code></pre><h3 id="Imputing-Missing-Values"><a href="#Imputing-Missing-Values" class="headerlink" title="Imputing Missing Values"></a>Imputing Missing Values</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> Imputer</span><br><span class="line"></span><br><span class="line">imp = Imputer(missing_values=<span class="number">0</span>, strategy=<span class="string">&#x27;mean&#x27;</span>, axis=<span class="number">0</span>)</span><br><span class="line">imp.fit_transform(X_train)</span><br></pre></td></tr></table></figure>
<pre><code>array([[-0.91090798, -1.59775374],
       [-1.0271058 ,  0.08448757],
       [ 0.59966379, -1.59775374],
       [ 0.01867465, -0.96691325],
       [ 0.48346596, -0.33607276],
       [-1.25950146,  0.29476773],
       [-1.37569929,  0.71532806],
       [-0.79471015, -1.17719341],
       [-1.14330363,  0.71532806],
       [ 2.45882905,  1.55644871],
       [-0.79471015,  0.71532806],
       [-0.79471015,  1.34616854],
       [-0.21372101, -0.33607276],
       [ 0.83205945, -0.1257926 ],
       [-0.44611666,  1.76672887],
       [ 1.41304859,  0.29476773],
       [ 0.01867465, -0.54635292],
       [ 2.22643339, -0.96691325],
       [-0.32991883, -1.17719341],
       [ 0.13487248,  0.29476773],
       [-1.0271058 ,  1.13588838],
       [-1.49189712, -1.59775374],
       [ 0.59966379, -0.54635292],
       [-1.60809495, -0.33607276],
       [-0.91090798,  1.13588838],
       [ 1.64544425, -0.1257926 ],
       [ 0.25107031,  0.71532806],
       [ 0.48346596, -1.8080339 ],
       [ 1.8778399 , -0.54635292],
       [ 1.18065293, -0.1257926 ],
       [ 0.71586162, -0.54635292],
       [-0.09752318, -1.17719341],
       [-0.91090798,  0.92560822],
       [-0.79471015,  1.55644871],
       [ 1.18065293, -0.54635292],
       [-0.67851232, -0.75663309],
       [-0.79471015,  1.55644871],
       [-0.21372101, -1.17719341],
       [ 0.36726814, -0.1257926 ],
       [ 0.94825728, -0.33607276],
       [ 0.71586162, -0.54635292],
       [-1.72429277, -0.1257926 ],
       [ 1.64544425,  1.13588838],
       [-0.79471015,  0.92560822],
       [ 0.59966379, -1.17719341],
       [-1.60809495,  0.29476773],
       [ 2.11023556, -0.1257926 ],
       [ 0.71586162,  0.29476773],
       [-0.79471015,  1.55644871],
       [ 0.83205945,  0.29476773],
       [ 0.59966379, -0.75663309],
       [-0.91090798,  0.92560822],
       [-0.67851232,  0.71532806],
       [ 0.71586162, -0.75663309],
       [ 0.01867465,  1.97700903],
       [-0.09752318,  2.81812969],
       [-1.37569929,  0.29476773],
       [ 1.29685076,  0.08448757],
       [ 0.59966379, -0.33607276],
       [-0.32991883,  0.92560822],
       [-0.09752318, -0.96691325],
       [-0.91090798,  0.50504789],
       [ 0.25107031, -1.8080339 ],
       [-1.0271058 , -0.1257926 ],
       [-0.91090798, -2.22859423],
       [ 0.94825728, -0.1257926 ],
       [-0.09752318, -0.54635292],
       [-0.32991883, -0.96691325],
       [-0.32991883, -1.59775374],
       [-1.14330363,  0.08448757],
       [ 0.25107031, -0.33607276],
       [-0.91090798, -0.1257926 ],
       [ 1.29685076,  0.08448757],
       [ 1.06445511, -1.17719341],
       [-0.56231449,  1.34616854],
       [-0.67851232,  2.1872892 ],
       [-0.91090798,  0.71532806],
       [-1.37569929,  1.13588838],
       [ 2.22643339,  1.55644871],
       [ 1.76164208, -0.33607276],
       [-1.37569929,  0.08448757],
       [-0.32991883, -1.38747358],
       [ 0.01867465, -0.75663309],
       [ 1.06445511,  0.50504789],
       [ 0.01867465, -0.75663309],
       [-0.44611666,  1.34616854],
       [-0.91090798,  0.71532806],
       [ 0.25107031, -0.75663309],
       [-0.09752318, -0.54635292],
       [ 0.36726814, -0.54635292],
       [-0.79471015,  0.50504789],
       [-0.21372101, -0.1257926 ],
       [-0.44611666, -0.1257926 ],
       [-0.44611666,  1.76672887],
       [ 1.06445511,  0.50504789],
       [-1.0271058 , -1.17719341],
       [ 0.48346596,  0.71532806],
       [-0.32991883, -1.38747358],
       [ 2.22643339, -0.54635292],
       [-0.44611666,  0.71532806],
       [ 1.06445511, -0.1257926 ],
       [-0.32991883,  2.39756936],
       [-0.91090798,  0.29476773],
       [-1.14330363, -0.1257926 ],
       [ 0.01867465, -0.75663309],
       [ 0.13487248, -0.1257926 ],
       [ 1.52924642, -0.1257926 ],
       [-1.0271058 , -1.38747358],
       [ 0.59966379, -1.17719341],
       [-0.21372101, -0.1257926 ],
       [ 2.22643339, -0.1257926 ],
       [-0.44611666,  0.71532806]])
</code></pre><h3 id="Generating-Polynomial-Features"><a href="#Generating-Polynomial-Features" class="headerlink" title="Generating Polynomial Features"></a>Generating Polynomial Features</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> PolynomialFeatures</span><br><span class="line"></span><br><span class="line">poly = PolynomialFeatures(<span class="number">5</span>)</span><br><span class="line">poly.fit_transform(X_train) </span><br></pre></td></tr></table></figure>
<pre><code>array([[1.00000000e+00, 5.00000000e+00, 2.30000000e+00, ...,
        3.04175000e+02, 1.39920500e+02, 6.43634300e+01],
       [1.00000000e+00, 4.90000000e+00, 3.10000000e+00, ...,
        7.15281910e+02, 4.52525290e+02, 2.86291510e+02],
       [1.00000000e+00, 6.30000000e+00, 2.30000000e+00, ...,
        4.82908230e+02, 1.76299830e+02, 6.43634300e+01],
       ...,
       [1.00000000e+00, 5.60000000e+00, 3.00000000e+00, ...,
        8.46720000e+02, 4.53600000e+02, 2.43000000e+02],
       [1.00000000e+00, 7.70000000e+00, 3.00000000e+00, ...,
        1.60083000e+03, 6.23700000e+02, 2.43000000e+02],
       [1.00000000e+00, 5.40000000e+00, 3.40000000e+00, ...,
        1.14610464e+03, 7.21621440e+02, 4.54354240e+02]])
</code></pre><h2 id="模型"><a href="#模型" class="headerlink" title="模型"></a>模型</h2><h3 id="监督学习"><a href="#监督学习" class="headerlink" title="监督学习"></a>监督学习</h3><h4 id="Linear-Regression"><a href="#Linear-Regression" class="headerlink" title="Linear Regression"></a>Linear Regression</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> LinearRegression</span><br><span class="line"></span><br><span class="line">lr = LinearRegression(normalize=<span class="literal">True</span>)</span><br><span class="line">lr.fit(X, y)</span><br><span class="line">y_pred = lr.predict(X_test)</span><br><span class="line">y_pred</span><br></pre></td></tr></table></figure>
<pre><code>array([ 0.99503595,  1.60221544,  0.06895097,  1.6466104 ,  1.48027593,
        1.18075657,  0.01486294,  0.17150435,  1.38179294,  1.68538268,
        1.61190851, -0.02390934,  1.11697547,  1.28893263,  1.74916378,
        1.50935514,  1.15167736,  0.24497852,  1.18075657,  1.90580519,
        0.27968041,  0.42100606,  1.51904821,  0.26998734,  1.66192615,
        1.4261879 ,  1.22515153,  1.35271373,  1.51904821,  1.07820319,
        1.04912398,  1.60221544,  0.98534288,  1.31801184,  1.60221544,
        1.66599654,  1.19607232,  0.93125485])
</code></pre><h4 id="Support-Vector-Machines-SVM"><a href="#Support-Vector-Machines-SVM" class="headerlink" title="Support Vector Machines (SVM)"></a>Support Vector Machines (SVM)</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.svm <span class="keyword">import</span> SVC</span><br><span class="line"></span><br><span class="line">svc = SVC(kernel=<span class="string">&#x27;linear&#x27;</span>)</span><br><span class="line">svc.fit(X, y)</span><br><span class="line">y_pred = svc.predict(X_test)</span><br><span class="line">y_pred</span><br></pre></td></tr></table></figure>
<pre><code>array([1, 2, 0, 2, 1, 2, 0, 0, 2, 2, 2, 0, 2, 1, 2, 2, 1, 0, 2, 2, 0, 0,
       2, 0, 1, 1, 1, 1, 2, 1, 1, 2, 1, 2, 2, 2, 1, 1])
</code></pre><h4 id="Naive-Bayes"><a href="#Naive-Bayes" class="headerlink" title="Naive Bayes"></a>Naive Bayes</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.naive_bayes <span class="keyword">import</span> GaussianNB</span><br><span class="line"></span><br><span class="line">gnb = GaussianNB()</span><br><span class="line">gnb.fit(X, y)</span><br><span class="line">y_pred = gnb.predict(X_test)</span><br><span class="line">y_pred</span><br></pre></td></tr></table></figure>
<pre><code>array([1, 2, 0, 2, 1, 2, 0, 0, 2, 2, 2, 0, 2, 1, 2, 2, 1, 0, 2, 2, 0, 0,
       2, 0, 1, 1, 1, 1, 2, 1, 1, 2, 1, 2, 2, 2, 1, 1])
</code></pre><h4 id="KNN"><a href="#KNN" class="headerlink" title="KNN"></a>KNN</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> neighbors</span><br><span class="line"></span><br><span class="line">knn = neighbors.KNeighborsClassifier(n_neighbors=<span class="number">5</span>)</span><br><span class="line">knn.fit(X, y)</span><br><span class="line">y_pred = knn.predict(X_test)</span><br><span class="line">y_pred</span><br></pre></td></tr></table></figure>
<pre><code>array([1, 1, 0, 2, 1, 2, 0, 0, 2, 2, 2, 0, 2, 1, 2, 2, 2, 0, 2, 2, 0, 0,
       2, 0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 2, 1, 1, 2, 1])
</code></pre><h3 id="无监督学习"><a href="#无监督学习" class="headerlink" title="无监督学习"></a>无监督学习</h3><h4 id="Principal-Component-Analysis-PCA"><a href="#Principal-Component-Analysis-PCA" class="headerlink" title="Principal Component Analysis (PCA)"></a>Principal Component Analysis (PCA)</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.decomposition <span class="keyword">import</span> PCA</span><br><span class="line"></span><br><span class="line">pca = PCA(n_components=<span class="number">0.95</span>)</span><br><span class="line">pca.fit_transform(X_train)</span><br></pre></td></tr></table></figure>
<pre><code>array([[-0.70718738, -0.83172028],
       [-0.88369354, -0.0450529 ],
       [ 0.58678167, -0.70664389],
       [ 0.06023749, -0.45614195],
       [ 0.42951803, -0.11904867],
       [-1.09238696,  0.03524066],
       [-1.21116556,  0.22469156],
       [-0.62689382, -0.62302686],
       [-1.0120934 ,  0.24393409],
       [ 2.03504005,  0.94033749],
       [-0.71348516,  0.27279787],
       [-0.74234894,  0.57140611],
       [-0.16769846, -0.17677623],
       [ 0.71850501,  0.00935119],
       [-0.46298322,  0.79934205],
       [ 1.19694289,  0.25652966],
       [ 0.04099497, -0.25706979],
       [ 1.95142302, -0.273338  ],
       [-0.22874949, -0.58454182],
       [ 0.10204601,  0.15069579],
       [-0.93179984,  0.45262751],
       [-1.20486778, -0.87982658],
       [ 0.53867537, -0.20896349],
       [-1.36213142, -0.29223136],
       [-0.83226376,  0.46224877],
       [ 1.41525757,  0.07670002],
       [ 0.18233956,  0.35938921],
       [ 0.49686685, -0.81580123],
       [ 1.63357226, -0.10312962],
       [ 1.01711325,  0.03821497],
       [ 0.63821145, -0.19934223],
       [-0.02967733, -0.5652993 ],
       [-0.8226425 ,  0.36271269],
       [-0.7519702 ,  0.67094219],
       [ 1.03635577, -0.16085719],
       [-0.54660026, -0.41433344],
       [-0.7519702 ,  0.67094219],
       [-0.12921341, -0.57492056],
       [ 0.32036069, -0.02913385],
       [ 0.82766235, -0.08056363],
       [ 0.63821145, -0.19934223],
       [-1.47128876, -0.20231654],
       [ 1.35753001,  0.6739165 ],
       [-0.72310642,  0.37233395],
       [ 0.56753915, -0.50757173],
       [-1.3909952 ,  0.00637688],
       [ 1.8134019 ,  0.11518506],
       [ 0.59972641,  0.19880209],
       [-0.7519702 ,  0.67094219],
       [ 0.69926249,  0.20842335],
       [ 0.54829663, -0.30849957],
       [-0.8226425 ,  0.36271269],
       [-0.61394908,  0.28241913],
       [ 0.64783271, -0.29887831],
       [-0.07446016,  0.93736317],
       [-0.21248128,  1.32588624],
       [-1.19192304,  0.0256194 ],
       [ 1.10702807,  0.14737232],
       [ 0.52905411, -0.10942741],
       [-0.3249621 ,  0.41081899],
       [-0.03929859, -0.46576321],
       [-0.80339998,  0.16364053],
       [ 0.29779469, -0.83504376],
       [-0.87407228, -0.14458898],
       [-0.67832359, -1.13032852],
       [ 0.81804109,  0.01897245],
       [-0.05854111, -0.26669105],
       [-0.23837075, -0.48500574],
       [-0.20950697, -0.78361398],
       [-0.98322962, -0.05467416],
       [ 0.23044587, -0.13829119],
       [-0.7745362 , -0.13496772],
       [ 1.10702807,  0.14737232],
       [ 0.96568347, -0.46908669],
       [-0.54327678,  0.59064863],
       [-0.6812979 ,  0.97917169],
       [-0.81302124,  0.26317661],
       [-1.23040809,  0.42376373],
       [ 1.83596789,  0.92109496],
       [ 1.52441492, -0.0132148 ],
       [-1.18230178, -0.07391668],
       [-0.21912823, -0.6840779 ],
       [ 0.05061623, -0.35660587],
       [ 0.88871339,  0.32720196],
       [ 0.05061623, -0.35660587],
       [-0.4437407 ,  0.60026989],
       [-0.81302124,  0.26317661],
       [ 0.24968839, -0.33736335],
       [-0.05854111, -0.26669105],
       [ 0.33960321, -0.22820601],
       [-0.7038639 ,  0.17326179],
       [-0.17731972, -0.07724015],
       [-0.37639188, -0.09648267],
       [-0.46298322,  0.79934205],
       [ 0.88871339,  0.32720196],
       [-0.82596598, -0.64226938],
       [ 0.38141173,  0.37863173],
       [-0.21912823, -0.6840779 ],
       [ 1.9321805 , -0.07426584],
       [-0.41487692,  0.30166165],
       [ 0.91757717,  0.02859371],
       [-0.39231092,  1.10757155],
       [-0.79377872,  0.06410445],
       [-0.97360836, -0.15421024],
       [ 0.05061623, -0.35660587],
       [ 0.12128853, -0.04837637],
       [ 1.31572149,  0.06707876],
       [-0.81634472, -0.74180546],
       [ 0.56753915, -0.50757173],
       [-0.17731972, -0.07724015],
       [ 1.91293798,  0.12480632],
       [-0.41487692,  0.30166165]])
</code></pre><h4 id="K-Means"><a href="#K-Means" class="headerlink" title="K Means"></a>K Means</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.cluster <span class="keyword">import</span> KMeans</span><br><span class="line"></span><br><span class="line">k_means = KMeans(n_clusters=<span class="number">3</span>, random_state=<span class="number">0</span>)</span><br><span class="line">k_means.fit(X, y)</span><br><span class="line">y_pred = k_means.predict(X_test)</span><br><span class="line">y_pred</span><br></pre></td></tr></table></figure>
<pre><code>array([0, 2, 1, 2, 0, 2, 1, 1, 2, 2, 2, 1, 2, 0, 2, 2, 0, 1, 2, 2, 1, 1,
       2, 1, 0, 0, 0, 0, 2, 0, 0, 2, 0, 2, 2, 2, 0, 0], dtype=int32)
</code></pre><h2 id="评估"><a href="#评估" class="headerlink" title="评估"></a>评估</h2><h3 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h3><h4 id="Accuracy-Score"><a href="#Accuracy-Score" class="headerlink" title="Accuracy Score"></a>Accuracy Score</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">knn.score(X_test, y_test)</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> accuracy_score</span><br><span class="line"></span><br><span class="line">accuracy_score(y_test, y_pred)</span><br></pre></td></tr></table></figure>
<pre><code>0.3157894736842105
</code></pre><h4 id="Classification-Report"><a href="#Classification-Report" class="headerlink" title="Classification Report"></a>Classification Report</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> classification_report</span><br><span class="line"></span><br><span class="line">classification_report(y_test, y_pred)</span><br></pre></td></tr></table></figure>
<pre><code>&#39;              precision    recall  f1-score   support\n\n           0       0.00      0.00      0.00         8\n           1       0.00      0.00      0.00        11\n           2       0.71      0.63      0.67        19\n\n   micro avg       0.32      0.32      0.32        38\n   macro avg       0.24      0.21      0.22        38\nweighted avg       0.35      0.32      0.33        38\n&#39;
</code></pre><h4 id="Confusion-Matrix"><a href="#Confusion-Matrix" class="headerlink" title="Confusion Matrix"></a>Confusion Matrix</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> confusion_matrix</span><br><span class="line"></span><br><span class="line">confusion_matrix(y_test, y_pred)</span><br></pre></td></tr></table></figure>
<pre><code>array([[ 0,  8,  0],
       [ 6,  0,  5],
       [ 7,  0, 12]])
</code></pre><h3 id="回归"><a href="#回归" class="headerlink" title="回归"></a>回归</h3><h4 id="Mean-Absolute-Error"><a href="#Mean-Absolute-Error" class="headerlink" title="Mean Absolute Error"></a>Mean Absolute Error</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> mean_absolute_error</span><br><span class="line"></span><br><span class="line">mean_absolute_error(y_test, y_pred)</span><br></pre></td></tr></table></figure>
<pre><code>0.868421052631579
</code></pre><h4 id="Mean-Squared-Error"><a href="#Mean-Squared-Error" class="headerlink" title="Mean Squared Error"></a>Mean Squared Error</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> mean_squared_error</span><br><span class="line"></span><br><span class="line">mean_squared_error(y_test, y_pred)</span><br></pre></td></tr></table></figure>
<pre><code>1.236842105263158
</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#### R² Score</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> r2_score</span><br><span class="line"></span><br><span class="line">r2_score(y_test, y_pred)</span><br></pre></td></tr></table></figure>
<pre><code>-0.9734806629834258
</code></pre><h3 id="聚类"><a href="#聚类" class="headerlink" title="聚类"></a>聚类</h3><h4 id="Adjusted-Rand-Index"><a href="#Adjusted-Rand-Index" class="headerlink" title="Adjusted Rand Index"></a>Adjusted Rand Index</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> adjusted_rand_score</span><br><span class="line"></span><br><span class="line">adjusted_rand_score(y_test, y_pred)</span><br></pre></td></tr></table></figure>
<pre><code>0.3273680853325774
</code></pre><h4 id="V-measure"><a href="#V-measure" class="headerlink" title="V-measure"></a>V-measure</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> v_measure_score</span><br><span class="line"></span><br><span class="line">v_measure_score(y_test, y_pred)</span><br></pre></td></tr></table></figure>
<pre><code>0.5040766075368869
</code></pre><h3 id="Cross-Validation"><a href="#Cross-Validation" class="headerlink" title="Cross-Validation"></a>Cross-Validation</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> cross_val_score</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(cross_val_score(knn, X_train, y_train, cv=<span class="number">4</span>))</span><br><span class="line"><span class="built_in">print</span>(cross_val_score(lr, X, y, cv=<span class="number">2</span>))</span><br></pre></td></tr></table></figure>
<pre><code>[0.82758621 0.82758621 0.82142857 0.88461538]
[-4.31567384 -1.89773191]
</code></pre><h2 id="调试"><a href="#调试" class="headerlink" title="调试"></a>调试</h2><h3 id="Grid-Search"><a href="#Grid-Search" class="headerlink" title="Grid Search"></a>Grid Search</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> GridSearchCV</span><br><span class="line"></span><br><span class="line">params = &#123;<span class="string">&quot;n_neighbors&quot;</span>: np.arange(<span class="number">1</span>,<span class="number">3</span>), <span class="string">&quot;metric&quot;</span>: [<span class="string">&quot;euclidean&quot;</span>, <span class="string">&quot;cityblock&quot;</span>]&#125;</span><br><span class="line">grid = GridSearchCV(estimator=knn,</span><br><span class="line"> param_grid=params)</span><br><span class="line">grid.fit(X_train, y_train)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>((grid.best_score_))</span><br><span class="line"><span class="built_in">print</span>((grid.best_estimator_.n_neighbors))</span><br></pre></td></tr></table></figure>
<pre><code>0.8303571428571429
2
</code></pre><h3 id="Randomized-Parameter-Optimization"><a href="#Randomized-Parameter-Optimization" class="headerlink" title="Randomized Parameter Optimization"></a>Randomized Parameter Optimization</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> RandomizedSearchCV</span><br><span class="line">params = &#123;<span class="string">&quot;n_neighbors&quot;</span>: <span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">1</span>,<span class="number">5</span>)), <span class="string">&quot;weights&quot;</span>: [<span class="string">&quot;uniform&quot;</span>, <span class="string">&quot;distance&quot;</span>]&#125;</span><br><span class="line">rsearch = RandomizedSearchCV(estimator=knn,</span><br><span class="line"> param_distributions=params,</span><br><span class="line"> cv=<span class="number">4</span>,</span><br><span class="line"> n_iter=<span class="number">8</span>,</span><br><span class="line"> random_state=<span class="number">5</span>)</span><br><span class="line">rsearch.fit(X_train, y_train)</span><br><span class="line"><span class="built_in">print</span>((rsearch.best_score_))</span><br></pre></td></tr></table></figure>
<pre><code>0.8214285714285714
</code></pre><blockquote>
<p>参考：</p>
</blockquote>
<ol>
<li><a class="link"   href="https://www.datacamp.com/community/blog/scikit-learn-cheat-sheet" >Scikit-Learn Cheat Sheet: Python Machine Learning<i class="fas fa-external-link-alt"></i></a></li>
</ol>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
  </entry>
  <entry>
    <title>特征工程</title>
    <url>/%E7%BB%9F%E8%AE%A1%E4%B8%8E%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E5%85%B6%E4%BB%96/17541/</url>
    <content><![CDATA[<h2 id="数据集载入"><a href="#数据集载入" class="headerlink" title="数据集载入"></a>数据集载入</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sns</span><br><span class="line"><span class="keyword">import</span> warnings</span><br><span class="line">warnings.filterwarnings(<span class="string">&#x27;ignore&#x27;</span>)</span><br><span class="line"></span><br><span class="line">df = pd.read_csv(<span class="string">u&quot;2019-08-01_金融数据描述_data1.csv&quot;</span>,encoding = <span class="string">&#x27;gbk&#x27;</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">df.info()</span><br></pre></td></tr></table></figure>
<pre><code>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 4754 entries, 0 to 4753
Data columns (total 90 columns):
Unnamed: 0                                    4754 non-null int64
custid                                        4754 non-null int64
trade_no                                      4754 non-null object
bank_card_no                                  4754 non-null object
low_volume_percent                            4752 non-null float64
middle_volume_percent                         4752 non-null float64
take_amount_in_later_12_month_highest         4754 non-null int64
trans_amount_increase_rate_lately             4751 non-null float64
trans_activity_month                          4752 non-null float64
trans_activity_day                            4752 non-null float64
transd_mcc                                    4752 non-null float64
trans_days_interval_filter                    4746 non-null float64
trans_days_interval                           4752 non-null float64
regional_mobility                             4752 non-null float64
student_feature                               1756 non-null float64
repayment_capability                          4754 non-null int64
is_high_user                                  4754 non-null int64
number_of_trans_from_2011                     4752 non-null float64
first_transaction_time                        4752 non-null float64
historical_trans_amount                       4754 non-null int64
historical_trans_day                          4752 non-null float64
rank_trad_1_month                             4752 non-null float64
trans_amount_3_month                          4754 non-null int64
avg_consume_less_12_valid_month               4752 non-null float64
abs                                           4754 non-null int64
top_trans_count_last_1_month                  4752 non-null float64
avg_price_last_12_month                       4754 non-null int64
avg_price_top_last_12_valid_month             4650 non-null float64
reg_preference_for_trad                       4752 non-null object
trans_top_time_last_1_month                   4746 non-null float64
trans_top_time_last_6_month                   4746 non-null float64
consume_top_time_last_1_month                 4746 non-null float64
consume_top_time_last_6_month                 4746 non-null float64
cross_consume_count_last_1_month              4328 non-null float64
trans_fail_top_count_enum_last_1_month        4738 non-null float64
trans_fail_top_count_enum_last_6_month        4738 non-null float64
trans_fail_top_count_enum_last_12_month       4738 non-null float64
consume_mini_time_last_1_month                4728 non-null float64
max_cumulative_consume_later_1_month          4754 non-null int64
max_consume_count_later_6_month               4746 non-null float64
railway_consume_count_last_12_month           4742 non-null float64
pawns_auctions_trusts_consume_last_1_month    4754 non-null int64
pawns_auctions_trusts_consume_last_6_month    4754 non-null int64
jewelry_consume_count_last_6_month            4742 non-null float64
status                                        4754 non-null int64
source                                        4754 non-null object
first_transaction_day                         4752 non-null float64
trans_day_last_12_month                       4752 non-null float64
id_name                                       4478 non-null object
apply_score                                   4450 non-null float64
apply_credibility                             4450 non-null float64
query_org_count                               4450 non-null float64
query_finance_count                           4450 non-null float64
query_cash_count                              4450 non-null float64
query_sum_count                               4450 non-null float64
latest_query_time                             4450 non-null object
latest_one_month_apply                        4450 non-null float64
latest_three_month_apply                      4450 non-null float64
latest_six_month_apply                        4450 non-null float64
loans_score                                   4457 non-null float64
loans_credibility_behavior                    4457 non-null float64
loans_count                                   4457 non-null float64
loans_settle_count                            4457 non-null float64
loans_overdue_count                           4457 non-null float64
loans_org_count_behavior                      4457 non-null float64
consfin_org_count_behavior                    4457 non-null float64
loans_cash_count                              4457 non-null float64
latest_one_month_loan                         4457 non-null float64
latest_three_month_loan                       4457 non-null float64
latest_six_month_loan                         4457 non-null float64
history_suc_fee                               4457 non-null float64
history_fail_fee                              4457 non-null float64
latest_one_month_suc                          4457 non-null float64
latest_one_month_fail                         4457 non-null float64
loans_long_time                               4457 non-null float64
loans_latest_time                             4457 non-null object
loans_credit_limit                            4457 non-null float64
loans_credibility_limit                       4457 non-null float64
loans_org_count_current                       4457 non-null float64
loans_product_count                           4457 non-null float64
loans_max_limit                               4457 non-null float64
loans_avg_limit                               4457 non-null float64
consfin_credit_limit                          4457 non-null float64
consfin_credibility                           4457 non-null float64
consfin_org_count_current                     4457 non-null float64
consfin_product_count                         4457 non-null float64
consfin_max_limit                             4457 non-null float64
consfin_avg_limit                             4457 non-null float64
latest_query_day                              4450 non-null float64
loans_latest_day                              4457 non-null float64
dtypes: float64(70), int64(13), object(7)
memory usage: 3.3+ MB
</code></pre><h2 id="特征预处理"><a href="#特征预处理" class="headerlink" title="特征预处理"></a>特征预处理</h2><h3 id="删除无用"><a href="#删除无用" class="headerlink" title="删除无用"></a>删除无用</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">delete = [<span class="string">&#x27;Unnamed: 0&#x27;</span>, <span class="string">&#x27;custid&#x27;</span>, <span class="string">&#x27;trade_no&#x27;</span>, <span class="string">&#x27;bank_card_no&#x27;</span>,<span class="string">&#x27;id_name&#x27;</span>,<span class="string">&#x27;latest_query_time&#x27;</span>,<span class="string">&#x27;source&#x27;</span>,<span class="string">&#x27;loans_latest_time&#x27;</span>,<span class="string">&#x27;first_transaction_time&#x27;</span>, <span class="string">&#x27;student_feature&#x27;</span>]</span><br><span class="line">df = df.drop(delete,axis=<span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<h3 id="处理分类型特征"><a href="#处理分类型特征" class="headerlink" title="处理分类型特征"></a>处理分类型特征</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> LabelEncoder</span><br><span class="line">df[<span class="string">&#x27;reg_preference_for_trad&#x27;</span>] = LabelEncoder().fit_transform(df[<span class="string">&#x27;reg_preference_for_trad&#x27;</span>].astype(<span class="built_in">str</span>))</span><br></pre></td></tr></table></figure>
<h3 id="使用众数填充"><a href="#使用众数填充" class="headerlink" title="使用众数填充"></a>使用众数填充</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> Imputer</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(df.shape[<span class="number">1</span>]):</span><br><span class="line">    feature = df.iloc[:,i].values.reshape(-<span class="number">1</span>,<span class="number">1</span>)</span><br><span class="line">    imp_mode = Imputer(strategy=<span class="string">&#x27;most_frequent&#x27;</span>)</span><br><span class="line">    df.iloc[:,i] = imp_mode.fit_transform(feature)</span><br></pre></td></tr></table></figure>
<h2 id="特征衍生-升维"><a href="#特征衍生-升维" class="headerlink" title="特征衍生/升维"></a>特征衍生/升维</h2><p>特征衍生是指用原始数据进行特征学习得到新的特征。衍生特征一般有两种原因引起的：数据自身的变化，使数据中出现很多原来没有的特征；进行特征学习时，算法根据特征之间的某种关系，产生了衍生特征，有时衍生特征更能反应数据特征之间的关系 。衍生特征也要求机器学习和深度学习算法拥有更强的学习能力，即增量学习、在线学习、迁移学习。</p>
<p>衍生特征相对于原始特征能够更好的反映特征与数据的关系，因此对于某些数据来说这是极为重要的一个步骤。观察本数据，发现可以从衍生出以下几个特征，而如 latest_one_month_suc、latest_one_month_fail、latest_six_month_loan 都是处理好的特征：</p>
<ol>
<li>查询内容占比</li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">df[<span class="string">&#x27;query_finance_percent&#x27;</span>] = df[<span class="string">&#x27;query_finance_count&#x27;</span>] / df[<span class="string">&#x27;query_sum_count&#x27;</span>]</span><br><span class="line">df[<span class="string">&#x27;query_cash_percent&#x27;</span>] = df[<span class="string">&#x27;query_cash_count&#x27;</span>] / df[<span class="string">&#x27;query_sum_count&#x27;</span>]</span><br></pre></td></tr></table></figure>
<ol>
<li>每单平均交易量</li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">df[<span class="string">&#x27;per_avg_amount&#x27;</span>] = df[<span class="string">&#x27;historical_trans_amount&#x27;</span>] / df[<span class="string">&#x27;number_of_trans_from_2011&#x27;</span>]</span><br></pre></td></tr></table></figure>
<ol>
<li>每天平均交易量</li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">df[<span class="string">&#x27;avg_amount_perday&#x27;</span>] = df[<span class="string">&#x27;historical_trans_amount&#x27;</span>] / df[<span class="string">&#x27;historical_trans_day&#x27;</span>]</span><br></pre></td></tr></table></figure>
<h2 id="特征筛选-降维"><a href="#特征筛选-降维" class="headerlink" title="特征筛选/降维"></a>特征筛选/降维</h2><p>特征选择( Feature Selection )也称特征子集选择( Feature Subset Selection , FSS )，或属性选择( Attribute Selection )。是指从已有的M个特征(Feature)中选择N个特征使得系统的特定指标最优化，是从原始特征中选择出一些最有效特征以降低数据集维度的过程,是提高学习算法性能的一个重要手段,也是模式识别中关键的数据预处理步骤。对于一个学习算法来说,好的学习样本是训练模型的关键。</p>
<h3 id="共线性分析"><a href="#共线性分析" class="headerlink" title="共线性分析"></a>共线性分析</h3><p>共线性问题指的是输入的自变量之间存在较高的线性相关度。共线性问题会导致回归模型的稳定性和准确性大大降低，另外，过多无关的维度计算也很浪费时间。</p>
<p>变量出现共线性的原因：</p>
<ul>
<li>数据样本不够，导致共线性存在偶然性，这其实反映了缺少数据对于数据建模的影响，共线性仅仅是影响的一部分</li>
<li>多个变量都给予时间有共同或相反的演变趋势，例如春节期间的网络销售量和销售额都相对与正常时间有下降趋势。</li>
<li>多个变量存在一定的推移关系，但总体上变量间的趋势一致，只是发生的时间点不一致，例如广告费用和销售额之间，通常是品牌广告先进行大范围的曝光和信息推送，经过一定时间传播之后，才会在销售额上做出反映。</li>
<li>多变量之间存在线性的关系。例如y代表访客数，用x代表展示广告费用，那么二者的关系很可能是y=2*x + b</li>
</ul>
<p>如何检验共线性：</p>
<ul>
<li>容忍度（Tolerance）：容忍度是每个自变量作为因变量对其他自变量进行回归建模时得到的残差比例，大小用1减得到的决定系数来表示。容忍度值越小说明这个自变量与其他自变量间越可能存在共线性问题。</li>
<li>方差膨胀因子：VIF是容忍度的倒数，值越大则共线性问题越明显，通常以10作为判断边界。当VIF<10,不存在多重共线性；当10<=VIF<100,存在较强的多重共线性；当VIF>=100, 存在严重多重共线性。</li>
<li>特征值（Eigenvalue）：该方法实际上就是对自变量做主成分分析，如果多个维度的特征值等于0，则可能有比较严重的共线性。</li>
<li>相关系数：如果相关系数R&gt;0.8时就可能存在较强相关性</li>
</ul>
<p>如何处理共线性：</p>
<ul>
<li>增大样本量：增大样本量可以消除犹豫数据量不足而出现的偶然的共线性现象，在可行的前提下这种方法是需要优先考虑的</li>
<li>岭回归法（Ridge Regression）：实际上是一种改良最小二乘估计法。通过放弃最小二乘法的无偏性，以损失部分信息、降低精度为代价来获得更实际和可靠性更强的回归系数。因此岭回归在存在较强共线性的回归应用中较为常用。</li>
<li>逐步回归法（Stepwise Regression）:每次引入一个自变量进行统计检验，然后逐步引入其他变量，同时对所有变量的回归系数进行检验，如果原来引入的变量由于后面变量的引入而变得不再显著，那么久将其剔除，逐步得到最有回归方程。</li>
<li>主成分回归（Principal Components Regression）:通过主成分分析，将原始参与建模的变量转换为少数几个主成分，么个主成分是原变量的线性组合，然后基于主成分做回归分析，这样也可以在不丢失重要数据特征的前提下避开共线性问题。</li>
<li>人工去除：结合人工经验，对自变量进行删减，但是对操作者的业务能力、经验有很高的要求。</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">corr_matrix = df.corr()</span><br><span class="line">corr_matrix = corr_matrix.unstack()</span><br><span class="line">corr_matrix[(<span class="built_in">abs</span>(corr_matrix)&gt;<span class="number">0.8</span>) &amp; (<span class="built_in">abs</span>(corr_matrix) != <span class="number">1</span>)]</span><br></pre></td></tr></table></figure>
<pre><code>trans_activity_day                       historical_trans_day                       0.855777
historical_trans_amount                  per_avg_amount                             0.870396
historical_trans_day                     trans_activity_day                         0.855777
rank_trad_1_month                        top_trans_count_last_1_month               0.855890
top_trans_count_last_1_month             rank_trad_1_month                          0.855890
trans_top_time_last_1_month              consume_top_time_last_1_month              0.925978
trans_top_time_last_6_month              consume_top_time_last_6_month              0.921067
consume_top_time_last_1_month            trans_top_time_last_1_month                0.925978
consume_top_time_last_6_month            trans_top_time_last_6_month                0.921067
trans_fail_top_count_enum_last_6_month   trans_fail_top_count_enum_last_12_month    0.886180
trans_fail_top_count_enum_last_12_month  trans_fail_top_count_enum_last_6_month     0.886180
apply_score                              loans_score                                0.967695
query_org_count                          query_finance_count                        0.881597
                                         query_cash_count                           0.850818
                                         query_sum_count                            0.948918
                                         latest_three_month_apply                   0.825973
                                         latest_six_month_apply                     0.883612
query_finance_count                      query_org_count                            0.881597
                                         query_sum_count                            0.858778
                                         latest_six_month_apply                     0.817063
query_cash_count                         query_org_count                            0.850818
                                         query_sum_count                            0.804468
query_sum_count                          query_org_count                            0.948918
                                         query_finance_count                        0.858778
                                         query_cash_count                           0.804468
                                         latest_three_month_apply                   0.878368
                                         latest_six_month_apply                     0.942820
latest_one_month_apply                   latest_three_month_apply                   0.873954
                                         latest_six_month_apply                     0.810162
latest_three_month_apply                 query_org_count                            0.825973
                                                                                      ...   
latest_six_month_loan                    loans_settle_count                         0.847959
                                         loans_org_count_behavior                   0.840518
                                         loans_cash_count                           0.804668
                                         history_suc_fee                            0.805410
                                         loans_org_count_current                    0.804668
                                         loans_product_count                        0.808454
history_suc_fee                          loans_count                                0.911063
                                         loans_settle_count                         0.930297
                                         loans_org_count_behavior                   0.826103
                                         latest_six_month_loan                      0.805410
loans_org_count_current                  loans_count                                0.892128
                                         loans_settle_count                         0.874915
                                         loans_org_count_behavior                   0.944990
                                         latest_six_month_loan                      0.804668
                                         loans_product_count                        0.993636
loans_product_count                      loans_count                                0.891898
                                         loans_settle_count                         0.873971
                                         loans_org_count_behavior                   0.939593
                                         loans_cash_count                           0.993636
                                         latest_six_month_loan                      0.808454
                                         loans_org_count_current                    0.993636
consfin_credit_limit                     consfin_avg_limit                          0.910600
consfin_org_count_current                loans_org_count_behavior                   0.804413
                                         consfin_product_count                      0.988156
consfin_product_count                    consfin_org_count_behavior                 0.988156
                                         consfin_org_count_current                  0.988156
consfin_avg_limit                        consfin_credit_limit                       0.910600
per_avg_amount                           historical_trans_amount                    0.870396
                                         avg_amount_perday                          0.850940
avg_amount_perday                        per_avg_amount                             0.850940
Length: 100, dtype: float64
</code></pre><h3 id="去掉方差较小的特征"><a href="#去掉方差较小的特征" class="headerlink" title="去掉方差较小的特征"></a>去掉方差较小的特征</h3><p>方差阈值（VarianceThreshold）是特征选择的一个简单方法，去掉那些方差没有达到阈值的特征。默认情况下，删除零方差的特征，例如那些只有一个值的样本。假设我们有一个有布尔特征的数据集，然后我们想去掉那些超过80%的样本都是0（或者1）的特征。布尔特征是伯努利随机变量，方差为 p(1-p)。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">X = df[:].drop(<span class="string">&quot;status&quot;</span>,axis=<span class="number">1</span>)</span><br><span class="line">y = df[<span class="string">&quot;status&quot;</span>]</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.feature_selection <span class="keyword">import</span> VarianceThreshold</span><br><span class="line"></span><br><span class="line"><span class="comment">#得到返回至少含有90%特征信息的特征</span></span><br><span class="line">sp = VarianceThreshold(threshold=<span class="number">0.8</span> * <span class="number">0.2</span>).fit(X, y)</span><br><span class="line"></span><br><span class="line"><span class="comment">#可以看到哪些特征被保留</span></span><br><span class="line">X_result = sp.fit_transform(X, y)</span><br><span class="line"></span><br><span class="line"><span class="comment">#输出结果</span></span><br><span class="line">sp.get_support()</span><br></pre></td></tr></table></figure>
<pre><code>array([False, False,  True,  True, False, False,  True,  True,  True,
        True,  True, False,  True,  True,  True, False,  True,  True,
        True, False,  True, False,  True,  True,  True,  True,  True,
        True,  True,  True,  True,  True,  True,  True,  True,  True,
        True, False,  True,  True,  True,  True,  True,  True,  True,
        True,  True,  True,  True,  True,  True,  True,  True,  True,
        True,  True,  True,  True,  True,  True,  True,  True,  True,
        True,  True,  True,  True,  True,  True,  True,  True,  True,
        True,  True,  True,  True,  True,  True,  True, False, False,
        True,  True], dtype=bool)
</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.feature_selection <span class="keyword">import</span> VarianceThreshold</span><br><span class="line"></span><br><span class="line"><span class="comment">#得到返回至少含有90%特征信息的特征</span></span><br><span class="line">sp = VarianceThreshold(threshold=<span class="number">0.8</span> * <span class="number">0.2</span>).fit(X, y)</span><br><span class="line"></span><br><span class="line"><span class="comment">#可以看到哪些特征被保留</span></span><br><span class="line">X_result = sp.fit_transform(X, y)</span><br><span class="line"></span><br><span class="line"><span class="comment">#输出结果</span></span><br><span class="line">sp.get_support()</span><br></pre></td></tr></table></figure>
<pre><code>array([False, False,  True,  True, False, False,  True,  True,  True,
        True,  True, False,  True,  True,  True, False,  True,  True,
        True, False,  True, False,  True,  True,  True,  True,  True,
        True,  True,  True,  True,  True,  True,  True,  True,  True,
        True, False,  True,  True,  True,  True,  True,  True,  True,
        True,  True,  True,  True,  True,  True,  True,  True,  True,
        True,  True,  True,  True,  True,  True,  True,  True,  True,
        True,  True,  True,  True,  True,  True,  True,  True,  True,
        True,  True,  True,  True,  True,  True,  True, False, False,
        True,  True], dtype=bool)
</code></pre><h3 id="单变量特征选择"><a href="#单变量特征选择" class="headerlink" title="单变量特征选择"></a>单变量特征选择</h3><p>单变量的特征选择是通过基于单变量的统计测试来选择最好的特征，它可以当做是评估器的预处理步骤。</p>
<p>Scikit-learn 将特征选择的内容作为实现了 transform 方法的对象</p>
<ol>
<li>SelectKBest移除那些除了评分最高的 K 个特征之外的所有特征</li>
<li>SelectPercentile移除除了用户指定的最高得分百分比之外的所有特征</li>
</ol>
<p>这些对象将得分函数作为输入，返回单变量的得分和 p 值:</p>
<p>对于回归: f_regression , mutual_info_regression<br>对于分类: chi2 , f_classif , mutual_info_classif 可自行查看官网API文档。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.feature_selection <span class="keyword">import</span> SelectKBest, SelectPercentile, f_classif</span><br><span class="line"></span><br><span class="line"><span class="comment">#得到返回至少含有90%特征信息的特征</span></span><br><span class="line">sp = SelectPercentile(f_classif, percentile= <span class="number">90</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#可以看到哪些特征被保留</span></span><br><span class="line">X_result = sp.fit_transform(X, y)</span><br><span class="line"></span><br><span class="line"><span class="comment">#输出结果</span></span><br><span class="line">sp.get_support()</span><br><span class="line"></span><br><span class="line">pd.DataFrame(&#123;<span class="string">&#x27;columns&#x27;</span>:X.columns,<span class="string">&#x27;filter&#x27;</span>:sp.get_support()&#125;)</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>columns</th>
      <th>filter</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>low_volume_percent</td>
      <td>True</td>
    </tr>
    <tr>
      <th>1</th>
      <td>middle_volume_percent</td>
      <td>True</td>
    </tr>
    <tr>
      <th>2</th>
      <td>take_amount_in_later_12_month_highest</td>
      <td>False</td>
    </tr>
    <tr>
      <th>3</th>
      <td>trans_amount_increase_rate_lately</td>
      <td>False</td>
    </tr>
    <tr>
      <th>4</th>
      <td>trans_activity_month</td>
      <td>True</td>
    </tr>
    <tr>
      <th>5</th>
      <td>trans_activity_day</td>
      <td>True</td>
    </tr>
    <tr>
      <th>6</th>
      <td>transd_mcc</td>
      <td>False</td>
    </tr>
    <tr>
      <th>7</th>
      <td>trans_days_interval_filter</td>
      <td>False</td>
    </tr>
    <tr>
      <th>8</th>
      <td>trans_days_interval</td>
      <td>True</td>
    </tr>
    <tr>
      <th>9</th>
      <td>regional_mobility</td>
      <td>True</td>
    </tr>
    <tr>
      <th>10</th>
      <td>repayment_capability</td>
      <td>True</td>
    </tr>
    <tr>
      <th>11</th>
      <td>is_high_user</td>
      <td>True</td>
    </tr>
    <tr>
      <th>12</th>
      <td>number_of_trans_from_2011</td>
      <td>True</td>
    </tr>
    <tr>
      <th>13</th>
      <td>historical_trans_amount</td>
      <td>True</td>
    </tr>
    <tr>
      <th>14</th>
      <td>historical_trans_day</td>
      <td>True</td>
    </tr>
    <tr>
      <th>15</th>
      <td>rank_trad_1_month</td>
      <td>True</td>
    </tr>
    <tr>
      <th>16</th>
      <td>trans_amount_3_month</td>
      <td>True</td>
    </tr>
    <tr>
      <th>17</th>
      <td>avg_consume_less_12_valid_month</td>
      <td>True</td>
    </tr>
    <tr>
      <th>18</th>
      <td>abs</td>
      <td>True</td>
    </tr>
    <tr>
      <th>19</th>
      <td>top_trans_count_last_1_month</td>
      <td>True</td>
    </tr>
    <tr>
      <th>20</th>
      <td>avg_price_last_12_month</td>
      <td>True</td>
    </tr>
    <tr>
      <th>21</th>
      <td>avg_price_top_last_12_valid_month</td>
      <td>True</td>
    </tr>
    <tr>
      <th>22</th>
      <td>reg_preference_for_trad</td>
      <td>True</td>
    </tr>
    <tr>
      <th>23</th>
      <td>trans_top_time_last_1_month</td>
      <td>True</td>
    </tr>
    <tr>
      <th>24</th>
      <td>trans_top_time_last_6_month</td>
      <td>True</td>
    </tr>
    <tr>
      <th>25</th>
      <td>consume_top_time_last_1_month</td>
      <td>True</td>
    </tr>
    <tr>
      <th>26</th>
      <td>consume_top_time_last_6_month</td>
      <td>True</td>
    </tr>
    <tr>
      <th>27</th>
      <td>cross_consume_count_last_1_month</td>
      <td>True</td>
    </tr>
    <tr>
      <th>28</th>
      <td>trans_fail_top_count_enum_last_1_month</td>
      <td>True</td>
    </tr>
    <tr>
      <th>29</th>
      <td>trans_fail_top_count_enum_last_6_month</td>
      <td>True</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>53</th>
      <td>loans_overdue_count</td>
      <td>True</td>
    </tr>
    <tr>
      <th>54</th>
      <td>loans_org_count_behavior</td>
      <td>True</td>
    </tr>
    <tr>
      <th>55</th>
      <td>consfin_org_count_behavior</td>
      <td>True</td>
    </tr>
    <tr>
      <th>56</th>
      <td>loans_cash_count</td>
      <td>True</td>
    </tr>
    <tr>
      <th>57</th>
      <td>latest_one_month_loan</td>
      <td>True</td>
    </tr>
    <tr>
      <th>58</th>
      <td>latest_three_month_loan</td>
      <td>True</td>
    </tr>
    <tr>
      <th>59</th>
      <td>latest_six_month_loan</td>
      <td>True</td>
    </tr>
    <tr>
      <th>60</th>
      <td>history_suc_fee</td>
      <td>True</td>
    </tr>
    <tr>
      <th>61</th>
      <td>history_fail_fee</td>
      <td>True</td>
    </tr>
    <tr>
      <th>62</th>
      <td>latest_one_month_suc</td>
      <td>True</td>
    </tr>
    <tr>
      <th>63</th>
      <td>latest_one_month_fail</td>
      <td>True</td>
    </tr>
    <tr>
      <th>64</th>
      <td>loans_long_time</td>
      <td>True</td>
    </tr>
    <tr>
      <th>65</th>
      <td>loans_credit_limit</td>
      <td>True</td>
    </tr>
    <tr>
      <th>66</th>
      <td>loans_credibility_limit</td>
      <td>True</td>
    </tr>
    <tr>
      <th>67</th>
      <td>loans_org_count_current</td>
      <td>True</td>
    </tr>
    <tr>
      <th>68</th>
      <td>loans_product_count</td>
      <td>True</td>
    </tr>
    <tr>
      <th>69</th>
      <td>loans_max_limit</td>
      <td>True</td>
    </tr>
    <tr>
      <th>70</th>
      <td>loans_avg_limit</td>
      <td>False</td>
    </tr>
    <tr>
      <th>71</th>
      <td>consfin_credit_limit</td>
      <td>True</td>
    </tr>
    <tr>
      <th>72</th>
      <td>consfin_credibility</td>
      <td>True</td>
    </tr>
    <tr>
      <th>73</th>
      <td>consfin_org_count_current</td>
      <td>True</td>
    </tr>
    <tr>
      <th>74</th>
      <td>consfin_product_count</td>
      <td>True</td>
    </tr>
    <tr>
      <th>75</th>
      <td>consfin_max_limit</td>
      <td>True</td>
    </tr>
    <tr>
      <th>76</th>
      <td>consfin_avg_limit</td>
      <td>True</td>
    </tr>
    <tr>
      <th>77</th>
      <td>latest_query_day</td>
      <td>True</td>
    </tr>
    <tr>
      <th>78</th>
      <td>loans_latest_day</td>
      <td>True</td>
    </tr>
    <tr>
      <th>79</th>
      <td>query_finance_percent</td>
      <td>True</td>
    </tr>
    <tr>
      <th>80</th>
      <td>query_cash_percent</td>
      <td>True</td>
    </tr>
    <tr>
      <th>81</th>
      <td>per_avg_amount</td>
      <td>True</td>
    </tr>
    <tr>
      <th>82</th>
      <td>avg_amount_perday</td>
      <td>True</td>
    </tr>
  </tbody>
</table>
<p>83 rows × 2 columns</p>
</div>



<h3 id="基于-L1-的特征选取"><a href="#基于-L1-的特征选取" class="headerlink" title="基于 L1 的特征选取"></a>基于 L1 的特征选取</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.svm <span class="keyword">import</span> LinearSVC</span><br><span class="line"><span class="keyword">from</span> sklearn.feature_selection <span class="keyword">import</span> SelectFromModel</span><br><span class="line"></span><br><span class="line">lsvc = LinearSVC(C=<span class="number">0.01</span>, penalty=<span class="string">&quot;l1&quot;</span>, dual=<span class="literal">False</span>).fit(X, y)</span><br><span class="line">sp = SelectFromModel(lsvc, prefit=<span class="literal">True</span>)</span><br><span class="line">X_new = sp.transform(X)</span><br><span class="line"></span><br><span class="line"><span class="comment">#输出结果</span></span><br><span class="line">sp.get_support()</span><br><span class="line"></span><br><span class="line">pd.DataFrame(&#123;<span class="string">&#x27;columns&#x27;</span>:X.columns,<span class="string">&#x27;filter&#x27;</span>:sp.get_support()&#125;)</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>columns</th>
      <th>filter</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>low_volume_percent</td>
      <td>False</td>
    </tr>
    <tr>
      <th>1</th>
      <td>middle_volume_percent</td>
      <td>False</td>
    </tr>
    <tr>
      <th>2</th>
      <td>take_amount_in_later_12_month_highest</td>
      <td>False</td>
    </tr>
    <tr>
      <th>3</th>
      <td>trans_amount_increase_rate_lately</td>
      <td>True</td>
    </tr>
    <tr>
      <th>4</th>
      <td>trans_activity_month</td>
      <td>False</td>
    </tr>
    <tr>
      <th>5</th>
      <td>trans_activity_day</td>
      <td>False</td>
    </tr>
    <tr>
      <th>6</th>
      <td>transd_mcc</td>
      <td>True</td>
    </tr>
    <tr>
      <th>7</th>
      <td>trans_days_interval_filter</td>
      <td>True</td>
    </tr>
    <tr>
      <th>8</th>
      <td>trans_days_interval</td>
      <td>True</td>
    </tr>
    <tr>
      <th>9</th>
      <td>regional_mobility</td>
      <td>False</td>
    </tr>
    <tr>
      <th>10</th>
      <td>repayment_capability</td>
      <td>False</td>
    </tr>
    <tr>
      <th>11</th>
      <td>is_high_user</td>
      <td>False</td>
    </tr>
    <tr>
      <th>12</th>
      <td>number_of_trans_from_2011</td>
      <td>True</td>
    </tr>
    <tr>
      <th>13</th>
      <td>historical_trans_amount</td>
      <td>False</td>
    </tr>
    <tr>
      <th>14</th>
      <td>historical_trans_day</td>
      <td>True</td>
    </tr>
    <tr>
      <th>15</th>
      <td>rank_trad_1_month</td>
      <td>False</td>
    </tr>
    <tr>
      <th>16</th>
      <td>trans_amount_3_month</td>
      <td>False</td>
    </tr>
    <tr>
      <th>17</th>
      <td>avg_consume_less_12_valid_month</td>
      <td>False</td>
    </tr>
    <tr>
      <th>18</th>
      <td>abs</td>
      <td>False</td>
    </tr>
    <tr>
      <th>19</th>
      <td>top_trans_count_last_1_month</td>
      <td>True</td>
    </tr>
    <tr>
      <th>20</th>
      <td>avg_price_last_12_month</td>
      <td>True</td>
    </tr>
    <tr>
      <th>21</th>
      <td>avg_price_top_last_12_valid_month</td>
      <td>False</td>
    </tr>
    <tr>
      <th>22</th>
      <td>reg_preference_for_trad</td>
      <td>False</td>
    </tr>
    <tr>
      <th>23</th>
      <td>trans_top_time_last_1_month</td>
      <td>True</td>
    </tr>
    <tr>
      <th>24</th>
      <td>trans_top_time_last_6_month</td>
      <td>True</td>
    </tr>
    <tr>
      <th>25</th>
      <td>consume_top_time_last_1_month</td>
      <td>False</td>
    </tr>
    <tr>
      <th>26</th>
      <td>consume_top_time_last_6_month</td>
      <td>True</td>
    </tr>
    <tr>
      <th>27</th>
      <td>cross_consume_count_last_1_month</td>
      <td>True</td>
    </tr>
    <tr>
      <th>28</th>
      <td>trans_fail_top_count_enum_last_1_month</td>
      <td>True</td>
    </tr>
    <tr>
      <th>29</th>
      <td>trans_fail_top_count_enum_last_6_month</td>
      <td>True</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>53</th>
      <td>loans_overdue_count</td>
      <td>True</td>
    </tr>
    <tr>
      <th>54</th>
      <td>loans_org_count_behavior</td>
      <td>False</td>
    </tr>
    <tr>
      <th>55</th>
      <td>consfin_org_count_behavior</td>
      <td>False</td>
    </tr>
    <tr>
      <th>56</th>
      <td>loans_cash_count</td>
      <td>False</td>
    </tr>
    <tr>
      <th>57</th>
      <td>latest_one_month_loan</td>
      <td>False</td>
    </tr>
    <tr>
      <th>58</th>
      <td>latest_three_month_loan</td>
      <td>False</td>
    </tr>
    <tr>
      <th>59</th>
      <td>latest_six_month_loan</td>
      <td>True</td>
    </tr>
    <tr>
      <th>60</th>
      <td>history_suc_fee</td>
      <td>True</td>
    </tr>
    <tr>
      <th>61</th>
      <td>history_fail_fee</td>
      <td>True</td>
    </tr>
    <tr>
      <th>62</th>
      <td>latest_one_month_suc</td>
      <td>True</td>
    </tr>
    <tr>
      <th>63</th>
      <td>latest_one_month_fail</td>
      <td>True</td>
    </tr>
    <tr>
      <th>64</th>
      <td>loans_long_time</td>
      <td>True</td>
    </tr>
    <tr>
      <th>65</th>
      <td>loans_credit_limit</td>
      <td>True</td>
    </tr>
    <tr>
      <th>66</th>
      <td>loans_credibility_limit</td>
      <td>True</td>
    </tr>
    <tr>
      <th>67</th>
      <td>loans_org_count_current</td>
      <td>True</td>
    </tr>
    <tr>
      <th>68</th>
      <td>loans_product_count</td>
      <td>False</td>
    </tr>
    <tr>
      <th>69</th>
      <td>loans_max_limit</td>
      <td>False</td>
    </tr>
    <tr>
      <th>70</th>
      <td>loans_avg_limit</td>
      <td>True</td>
    </tr>
    <tr>
      <th>71</th>
      <td>consfin_credit_limit</td>
      <td>False</td>
    </tr>
    <tr>
      <th>72</th>
      <td>consfin_credibility</td>
      <td>True</td>
    </tr>
    <tr>
      <th>73</th>
      <td>consfin_org_count_current</td>
      <td>False</td>
    </tr>
    <tr>
      <th>74</th>
      <td>consfin_product_count</td>
      <td>True</td>
    </tr>
    <tr>
      <th>75</th>
      <td>consfin_max_limit</td>
      <td>False</td>
    </tr>
    <tr>
      <th>76</th>
      <td>consfin_avg_limit</td>
      <td>False</td>
    </tr>
    <tr>
      <th>77</th>
      <td>latest_query_day</td>
      <td>True</td>
    </tr>
    <tr>
      <th>78</th>
      <td>loans_latest_day</td>
      <td>True</td>
    </tr>
    <tr>
      <th>79</th>
      <td>query_finance_percent</td>
      <td>False</td>
    </tr>
    <tr>
      <th>80</th>
      <td>query_cash_percent</td>
      <td>False</td>
    </tr>
    <tr>
      <th>81</th>
      <td>per_avg_amount</td>
      <td>False</td>
    </tr>
    <tr>
      <th>82</th>
      <td>avg_amount_perday</td>
      <td>True</td>
    </tr>
  </tbody>
</table>
<p>83 rows × 2 columns</p>
</div>



<h3 id="基于决策树的特征选取"><a href="#基于决策树的特征选取" class="headerlink" title="基于决策树的特征选取"></a>基于决策树的特征选取</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.tree <span class="keyword">import</span> DecisionTreeClassifier</span><br><span class="line"><span class="keyword">from</span> sklearn.feature_selection <span class="keyword">import</span> SelectFromModel</span><br><span class="line"></span><br><span class="line">forest = DecisionTreeClassifier(criterion=<span class="string">&#x27;entropy&#x27;</span>).fit(X, y)</span><br><span class="line">sp = SelectFromModel(forest, prefit=<span class="literal">True</span>)</span><br><span class="line">X_new = sp.transform(X)</span><br><span class="line"></span><br><span class="line"><span class="comment">#输出结果</span></span><br><span class="line">sp.get_support()</span><br><span class="line"></span><br><span class="line">pd.DataFrame(&#123;<span class="string">&#x27;columns&#x27;</span>:X.columns,<span class="string">&#x27;filter&#x27;</span>:sp.get_support()&#125;)</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>columns</th>
      <th>filter</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>low_volume_percent</td>
      <td>False</td>
    </tr>
    <tr>
      <th>1</th>
      <td>middle_volume_percent</td>
      <td>True</td>
    </tr>
    <tr>
      <th>2</th>
      <td>take_amount_in_later_12_month_highest</td>
      <td>True</td>
    </tr>
    <tr>
      <th>3</th>
      <td>trans_amount_increase_rate_lately</td>
      <td>True</td>
    </tr>
    <tr>
      <th>4</th>
      <td>trans_activity_month</td>
      <td>True</td>
    </tr>
    <tr>
      <th>5</th>
      <td>trans_activity_day</td>
      <td>True</td>
    </tr>
    <tr>
      <th>6</th>
      <td>transd_mcc</td>
      <td>True</td>
    </tr>
    <tr>
      <th>7</th>
      <td>trans_days_interval_filter</td>
      <td>False</td>
    </tr>
    <tr>
      <th>8</th>
      <td>trans_days_interval</td>
      <td>True</td>
    </tr>
    <tr>
      <th>9</th>
      <td>regional_mobility</td>
      <td>False</td>
    </tr>
    <tr>
      <th>10</th>
      <td>repayment_capability</td>
      <td>True</td>
    </tr>
    <tr>
      <th>11</th>
      <td>is_high_user</td>
      <td>False</td>
    </tr>
    <tr>
      <th>12</th>
      <td>number_of_trans_from_2011</td>
      <td>True</td>
    </tr>
    <tr>
      <th>13</th>
      <td>historical_trans_amount</td>
      <td>False</td>
    </tr>
    <tr>
      <th>14</th>
      <td>historical_trans_day</td>
      <td>True</td>
    </tr>
    <tr>
      <th>15</th>
      <td>rank_trad_1_month</td>
      <td>False</td>
    </tr>
    <tr>
      <th>16</th>
      <td>trans_amount_3_month</td>
      <td>True</td>
    </tr>
    <tr>
      <th>17</th>
      <td>avg_consume_less_12_valid_month</td>
      <td>False</td>
    </tr>
    <tr>
      <th>18</th>
      <td>abs</td>
      <td>True</td>
    </tr>
    <tr>
      <th>19</th>
      <td>top_trans_count_last_1_month</td>
      <td>False</td>
    </tr>
    <tr>
      <th>20</th>
      <td>avg_price_last_12_month</td>
      <td>False</td>
    </tr>
    <tr>
      <th>21</th>
      <td>avg_price_top_last_12_valid_month</td>
      <td>False</td>
    </tr>
    <tr>
      <th>22</th>
      <td>reg_preference_for_trad</td>
      <td>False</td>
    </tr>
    <tr>
      <th>23</th>
      <td>trans_top_time_last_1_month</td>
      <td>False</td>
    </tr>
    <tr>
      <th>24</th>
      <td>trans_top_time_last_6_month</td>
      <td>False</td>
    </tr>
    <tr>
      <th>25</th>
      <td>consume_top_time_last_1_month</td>
      <td>False</td>
    </tr>
    <tr>
      <th>26</th>
      <td>consume_top_time_last_6_month</td>
      <td>False</td>
    </tr>
    <tr>
      <th>27</th>
      <td>cross_consume_count_last_1_month</td>
      <td>False</td>
    </tr>
    <tr>
      <th>28</th>
      <td>trans_fail_top_count_enum_last_1_month</td>
      <td>True</td>
    </tr>
    <tr>
      <th>29</th>
      <td>trans_fail_top_count_enum_last_6_month</td>
      <td>False</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>53</th>
      <td>loans_overdue_count</td>
      <td>False</td>
    </tr>
    <tr>
      <th>54</th>
      <td>loans_org_count_behavior</td>
      <td>False</td>
    </tr>
    <tr>
      <th>55</th>
      <td>consfin_org_count_behavior</td>
      <td>False</td>
    </tr>
    <tr>
      <th>56</th>
      <td>loans_cash_count</td>
      <td>False</td>
    </tr>
    <tr>
      <th>57</th>
      <td>latest_one_month_loan</td>
      <td>False</td>
    </tr>
    <tr>
      <th>58</th>
      <td>latest_three_month_loan</td>
      <td>False</td>
    </tr>
    <tr>
      <th>59</th>
      <td>latest_six_month_loan</td>
      <td>False</td>
    </tr>
    <tr>
      <th>60</th>
      <td>history_suc_fee</td>
      <td>True</td>
    </tr>
    <tr>
      <th>61</th>
      <td>history_fail_fee</td>
      <td>True</td>
    </tr>
    <tr>
      <th>62</th>
      <td>latest_one_month_suc</td>
      <td>False</td>
    </tr>
    <tr>
      <th>63</th>
      <td>latest_one_month_fail</td>
      <td>True</td>
    </tr>
    <tr>
      <th>64</th>
      <td>loans_long_time</td>
      <td>True</td>
    </tr>
    <tr>
      <th>65</th>
      <td>loans_credit_limit</td>
      <td>False</td>
    </tr>
    <tr>
      <th>66</th>
      <td>loans_credibility_limit</td>
      <td>False</td>
    </tr>
    <tr>
      <th>67</th>
      <td>loans_org_count_current</td>
      <td>False</td>
    </tr>
    <tr>
      <th>68</th>
      <td>loans_product_count</td>
      <td>False</td>
    </tr>
    <tr>
      <th>69</th>
      <td>loans_max_limit</td>
      <td>False</td>
    </tr>
    <tr>
      <th>70</th>
      <td>loans_avg_limit</td>
      <td>False</td>
    </tr>
    <tr>
      <th>71</th>
      <td>consfin_credit_limit</td>
      <td>False</td>
    </tr>
    <tr>
      <th>72</th>
      <td>consfin_credibility</td>
      <td>False</td>
    </tr>
    <tr>
      <th>73</th>
      <td>consfin_org_count_current</td>
      <td>False</td>
    </tr>
    <tr>
      <th>74</th>
      <td>consfin_product_count</td>
      <td>False</td>
    </tr>
    <tr>
      <th>75</th>
      <td>consfin_max_limit</td>
      <td>True</td>
    </tr>
    <tr>
      <th>76</th>
      <td>consfin_avg_limit</td>
      <td>False</td>
    </tr>
    <tr>
      <th>77</th>
      <td>latest_query_day</td>
      <td>True</td>
    </tr>
    <tr>
      <th>78</th>
      <td>loans_latest_day</td>
      <td>False</td>
    </tr>
    <tr>
      <th>79</th>
      <td>query_finance_percent</td>
      <td>True</td>
    </tr>
    <tr>
      <th>80</th>
      <td>query_cash_percent</td>
      <td>True</td>
    </tr>
    <tr>
      <th>81</th>
      <td>per_avg_amount</td>
      <td>True</td>
    </tr>
    <tr>
      <th>82</th>
      <td>avg_amount_perday</td>
      <td>True</td>
    </tr>
  </tbody>
</table>
<p>83 rows × 2 columns</p>
</div>




<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#输出特征排序</span></span><br><span class="line">importance = forest.feature_importances_</span><br><span class="line">imp_result = np.argsort(importance)[::-<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">pd.DataFrame(&#123;<span class="string">&#x27;columns&#x27;</span>:X.columns,<span class="string">&#x27;filter&#x27;</span>:sp.get_support(),<span class="string">&#x27;importance&#x27;</span>:imp_result&#125;).sort_values(<span class="string">&quot;importance&quot;</span>,ascending=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>columns</th>
      <th>filter</th>
      <th>importance</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>63</th>
      <td>latest_one_month_fail</td>
      <td>True</td>
      <td>0</td>
    </tr>
    <tr>
      <th>30</th>
      <td>trans_fail_top_count_enum_last_12_month</td>
      <td>False</td>
      <td>1</td>
    </tr>
    <tr>
      <th>25</th>
      <td>consume_top_time_last_1_month</td>
      <td>False</td>
      <td>2</td>
    </tr>
    <tr>
      <th>29</th>
      <td>trans_fail_top_count_enum_last_6_month</td>
      <td>False</td>
      <td>3</td>
    </tr>
    <tr>
      <th>8</th>
      <td>trans_days_interval</td>
      <td>True</td>
      <td>4</td>
    </tr>
    <tr>
      <th>19</th>
      <td>top_trans_count_last_1_month</td>
      <td>False</td>
      <td>5</td>
    </tr>
    <tr>
      <th>18</th>
      <td>abs</td>
      <td>True</td>
      <td>6</td>
    </tr>
    <tr>
      <th>53</th>
      <td>loans_overdue_count</td>
      <td>False</td>
      <td>7</td>
    </tr>
    <tr>
      <th>21</th>
      <td>avg_price_top_last_12_valid_month</td>
      <td>False</td>
      <td>8</td>
    </tr>
    <tr>
      <th>55</th>
      <td>consfin_org_count_behavior</td>
      <td>False</td>
      <td>9</td>
    </tr>
    <tr>
      <th>9</th>
      <td>regional_mobility</td>
      <td>False</td>
      <td>10</td>
    </tr>
    <tr>
      <th>77</th>
      <td>latest_query_day</td>
      <td>True</td>
      <td>11</td>
    </tr>
    <tr>
      <th>24</th>
      <td>trans_top_time_last_6_month</td>
      <td>False</td>
      <td>12</td>
    </tr>
    <tr>
      <th>74</th>
      <td>consfin_product_count</td>
      <td>False</td>
      <td>13</td>
    </tr>
    <tr>
      <th>28</th>
      <td>trans_fail_top_count_enum_last_1_month</td>
      <td>True</td>
      <td>14</td>
    </tr>
    <tr>
      <th>37</th>
      <td>jewelry_consume_count_last_6_month</td>
      <td>False</td>
      <td>15</td>
    </tr>
    <tr>
      <th>6</th>
      <td>transd_mcc</td>
      <td>True</td>
      <td>16</td>
    </tr>
    <tr>
      <th>69</th>
      <td>loans_max_limit</td>
      <td>False</td>
      <td>17</td>
    </tr>
    <tr>
      <th>4</th>
      <td>trans_activity_month</td>
      <td>True</td>
      <td>18</td>
    </tr>
    <tr>
      <th>67</th>
      <td>loans_org_count_current</td>
      <td>False</td>
      <td>19</td>
    </tr>
    <tr>
      <th>32</th>
      <td>max_cumulative_consume_later_1_month</td>
      <td>True</td>
      <td>20</td>
    </tr>
    <tr>
      <th>75</th>
      <td>consfin_max_limit</td>
      <td>True</td>
      <td>21</td>
    </tr>
    <tr>
      <th>65</th>
      <td>loans_credit_limit</td>
      <td>False</td>
      <td>22</td>
    </tr>
    <tr>
      <th>44</th>
      <td>query_cash_count</td>
      <td>False</td>
      <td>23</td>
    </tr>
    <tr>
      <th>57</th>
      <td>latest_one_month_loan</td>
      <td>False</td>
      <td>24</td>
    </tr>
    <tr>
      <th>39</th>
      <td>trans_day_last_12_month</td>
      <td>True</td>
      <td>25</td>
    </tr>
    <tr>
      <th>33</th>
      <td>max_consume_count_later_6_month</td>
      <td>False</td>
      <td>26</td>
    </tr>
    <tr>
      <th>82</th>
      <td>avg_amount_perday</td>
      <td>True</td>
      <td>27</td>
    </tr>
    <tr>
      <th>0</th>
      <td>low_volume_percent</td>
      <td>False</td>
      <td>28</td>
    </tr>
    <tr>
      <th>59</th>
      <td>latest_six_month_loan</td>
      <td>False</td>
      <td>29</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>51</th>
      <td>loans_count</td>
      <td>False</td>
      <td>53</td>
    </tr>
    <tr>
      <th>47</th>
      <td>latest_three_month_apply</td>
      <td>False</td>
      <td>54</td>
    </tr>
    <tr>
      <th>58</th>
      <td>latest_three_month_loan</td>
      <td>False</td>
      <td>55</td>
    </tr>
    <tr>
      <th>73</th>
      <td>consfin_org_count_current</td>
      <td>False</td>
      <td>56</td>
    </tr>
    <tr>
      <th>81</th>
      <td>per_avg_amount</td>
      <td>True</td>
      <td>57</td>
    </tr>
    <tr>
      <th>70</th>
      <td>loans_avg_limit</td>
      <td>False</td>
      <td>58</td>
    </tr>
    <tr>
      <th>56</th>
      <td>loans_cash_count</td>
      <td>False</td>
      <td>59</td>
    </tr>
    <tr>
      <th>14</th>
      <td>historical_trans_day</td>
      <td>True</td>
      <td>60</td>
    </tr>
    <tr>
      <th>1</th>
      <td>middle_volume_percent</td>
      <td>True</td>
      <td>61</td>
    </tr>
    <tr>
      <th>36</th>
      <td>pawns_auctions_trusts_consume_last_6_month</td>
      <td>True</td>
      <td>62</td>
    </tr>
    <tr>
      <th>16</th>
      <td>trans_amount_3_month</td>
      <td>True</td>
      <td>63</td>
    </tr>
    <tr>
      <th>3</th>
      <td>trans_amount_increase_rate_lately</td>
      <td>True</td>
      <td>64</td>
    </tr>
    <tr>
      <th>42</th>
      <td>query_org_count</td>
      <td>False</td>
      <td>65</td>
    </tr>
    <tr>
      <th>50</th>
      <td>loans_credibility_behavior</td>
      <td>False</td>
      <td>66</td>
    </tr>
    <tr>
      <th>62</th>
      <td>latest_one_month_suc</td>
      <td>False</td>
      <td>67</td>
    </tr>
    <tr>
      <th>41</th>
      <td>apply_credibility</td>
      <td>False</td>
      <td>68</td>
    </tr>
    <tr>
      <th>43</th>
      <td>query_finance_count</td>
      <td>False</td>
      <td>69</td>
    </tr>
    <tr>
      <th>48</th>
      <td>latest_six_month_apply</td>
      <td>True</td>
      <td>70</td>
    </tr>
    <tr>
      <th>34</th>
      <td>railway_consume_count_last_12_month</td>
      <td>False</td>
      <td>71</td>
    </tr>
    <tr>
      <th>45</th>
      <td>query_sum_count</td>
      <td>False</td>
      <td>72</td>
    </tr>
    <tr>
      <th>76</th>
      <td>consfin_avg_limit</td>
      <td>False</td>
      <td>73</td>
    </tr>
    <tr>
      <th>60</th>
      <td>history_suc_fee</td>
      <td>True</td>
      <td>74</td>
    </tr>
    <tr>
      <th>22</th>
      <td>reg_preference_for_trad</td>
      <td>False</td>
      <td>75</td>
    </tr>
    <tr>
      <th>66</th>
      <td>loans_credibility_limit</td>
      <td>False</td>
      <td>76</td>
    </tr>
    <tr>
      <th>27</th>
      <td>cross_consume_count_last_1_month</td>
      <td>False</td>
      <td>77</td>
    </tr>
    <tr>
      <th>38</th>
      <td>first_transaction_day</td>
      <td>False</td>
      <td>78</td>
    </tr>
    <tr>
      <th>12</th>
      <td>number_of_trans_from_2011</td>
      <td>True</td>
      <td>79</td>
    </tr>
    <tr>
      <th>13</th>
      <td>historical_trans_amount</td>
      <td>False</td>
      <td>80</td>
    </tr>
    <tr>
      <th>10</th>
      <td>repayment_capability</td>
      <td>True</td>
      <td>81</td>
    </tr>
    <tr>
      <th>5</th>
      <td>trans_activity_day</td>
      <td>True</td>
      <td>82</td>
    </tr>
  </tbody>
</table>
<p>83 rows × 3 columns</p>
</div>



<h3 id="WOE"><a href="#WOE" class="headerlink" title="WOE"></a>WOE</h3><p>全称是“Weight of Evidence”，即证据权重。WOE是对原始自变量的一种编码形式。<br>要对一个变量进行WOE编码，需要首先把这个变量进行分组处理（也叫离散化、分箱等等，说的都是一个意思）。分组后，对于第i组，WOE的计算公式如下：</p>
<p>其中，pyi是这个组中响应客户（风险模型中，对应的是违约客户，总之，指的是模型中预测变量取值为“是”或者说1的个体）占所有样本中所有响应客户的比例，pni是这个组中未响应客户占样本中所有未响应客户的比例，#yi是这个组中响应客户的数量，#ni是这个组中未响应客户的数量，#yT是样本中所有响应客户的数量，#nT是样本中所有未响应客户的数量。</p>
<p>从这个公式中我们可以体会到，WOE表示的实际上是“当前分组中响应客户占所有响应客户的比例”和“当前分组中没有响应的客户占所有没有响应的客户的比例”的差异。</p>
<p>对这个公式做一个简单变换，可以得到：</p>
<p>变换以后我们可以看出，WOE也可以这么理解，他表示的是当前这个组中响应的客户和未响应客户的比值，和所有样本中这个比值的差异。这个差异是用这两个比值的比值，再取对数来表示的。WOE越大，这种差异越大，这个分组里的样本响应的可能性就越大，WOE越小，差异越小，这个分组里的样本响应的可能性就越小。</p>
<h3 id="IV"><a href="#IV" class="headerlink" title="IV"></a>IV</h3><p>IV的全称是Information Value，中文意思是信息价值，或者信息量。</p>
<p>我们在用逻辑回归、决策树等模型方法构建分类模型时，经常需要对自变量进行筛选。比如我们有200个候选自变量，通常情况下，不会直接把200个变量直接放到模型中去进行拟合训练，而是会用一些方法，从这200个自变量中挑选一些出来，放进模型，形成入模变量列表。那么我们怎么去挑选入模变量呢？</p>
<p>挑选入模变量过程是个比较复杂的过程，需要考虑的因素很多，比如：变量的预测能力，变量之间的相关性，变量的简单性（容易生成和使用），变量的强壮性（不容易被绕过），变量在业务上的可解释性（被挑战时可以解释的通）等等。但是，其中最主要和最直接的衡量标准是变量的预测能力。</p>
<p>“变量的预测能力”这个说法很笼统，很主观，非量化，在筛选变量的时候我们总不能说：“我觉得这个变量预测能力很强，所以他要进入模型”吧？我们需要一些具体的量化指标来衡量每自变量的预测能力，并根据这些量化指标的大小，来确定哪些变量进入模型。IV就是这样一种指标，他可以用来衡量自变量的预测能力。类似的指标还有信息增益、基尼系数等等。</p>
<p>从直观逻辑上大体可以这样理解“用IV去衡量变量预测能力”这件事情：我们假设在一个分类问题中，目标变量的类别有两类：Y1，Y2。对于一个待预测的个体A，要判断A属于Y1还是Y2，我们是需要一定的信息的，假设这个信息总量是I，而这些所需要的信息，就蕴含在所有的自变量C1，C2，C3，……，Cn中，那么，对于其中的一个变量Ci来说，其蕴含的信息越多，那么它对于判断A属于Y1还是Y2的贡献就越大，Ci的信息价值就越大，Ci的IV就越大，它就越应该进入到入模变量列表中。</p>
<p>IVi无论等于负无穷还是正无穷，都是没有意义的。</p>
<p>使用IV其实有一个缺点，就是不能自动处理变量的分组中出现响应比例为0或100%的情况。那么，遇到响应比例为0或者100%的情况，我们应该怎么做呢？建议如下：</p>
<ol>
<li>如果可能，直接把这个分组做成一个规则，作为模型的前置条件或补充条件</li>
<li>重新对变量进行离散化或分组，使每个分组的响应比例都不为0且不为100%，尤其是当一个分组个体数很小时（比如小于100个），强烈建议这样做，因为本身把一个分组个体数弄得很小就不是太合理</li>
<li>如果上面两种方法都无法使用，建议人工把该分组的响应数和非响应的数量进行一定的调整。如果响应数原本为0，可以人工调整响应数为1，如果非响应数原本为0，可以人工调整非响应数为1</li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">pd.DataFrame([[<span class="string">&quot;&lt;0.03&quot;</span>,<span class="string">&quot;无预测能力&quot;</span>],</span><br><span class="line">[<span class="string">&quot;0.03-0.09&quot;</span>,<span class="string">&quot;低&quot;</span>],</span><br><span class="line">[<span class="string">&quot;0.1-0.29&quot;</span>,<span class="string">&quot;中&quot;</span>],</span><br><span class="line">[<span class="string">&quot;0.3-0.49&quot;</span>,<span class="string">&quot;高&quot;</span>],</span><br><span class="line">[<span class="string">&quot;&gt;=0.5&quot;</span>,<span class="string">&quot;极高且可疑&quot;</span>],], columns = [<span class="string">&quot;IV&quot;</span>,<span class="string">&quot;预测能力&quot;</span>])</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>IV</th>
      <th>预测能力</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>&lt;0.03</td>
      <td>无预测能力</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.03-0.09</td>
      <td>低</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.1-0.29</td>
      <td>中</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0.3-0.49</td>
      <td>高</td>
    </tr>
    <tr>
      <th>4</th>
      <td>&gt;=0.5</td>
      <td>极高且可疑</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">CalcIV</span>(<span class="params">Xvar,Yvar</span>):</span></span><br><span class="line">    N_0=np.<span class="built_in">sum</span>(Yvar==<span class="number">0</span>)</span><br><span class="line">    N_1=np.<span class="built_in">sum</span>(Yvar==<span class="number">1</span>)</span><br><span class="line">    N_0_group=np.zeros(np.unique(Xvar).shape)</span><br><span class="line">    </span><br><span class="line">    N_1_group=np.zeros(np.unique(Xvar).shape)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(np.unique(Xvar))):</span><br><span class="line">        N_0_group[i] = Yvar[(Xvar==np.unique(Xvar)[i])&amp;(Yvar==<span class="number">0</span>)].count()</span><br><span class="line">        N_1_group[i] = Yvar[(Xvar==np.unique(Xvar)[i])&amp;(Yvar==<span class="number">1</span>)].count()</span><br><span class="line">    iv = np.<span class="built_in">sum</span>((N_0_group/N_0-N_1_group/N_1)*np.log((N_0_group/N_0)/(N_1_group/N_1)))</span><br><span class="line">    <span class="keyword">if</span> iv&gt;=<span class="number">1.0</span>:<span class="comment">## 处理极端值</span></span><br><span class="line">        iv=<span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> iv</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">caliv_batch</span>(<span class="params">df,Yvar</span>):</span></span><br><span class="line">    ivlist=[]</span><br><span class="line">    <span class="keyword">for</span> col <span class="keyword">in</span> df.columns:</span><br><span class="line">        iv=CalcIV(df[col],Yvar)</span><br><span class="line">        ivlist.append(iv)</span><br><span class="line">    names=<span class="built_in">list</span>(df.columns)</span><br><span class="line">    iv_df=pd.DataFrame(&#123;<span class="string">&#x27;Var&#x27;</span>:names,<span class="string">&#x27;Iv&#x27;</span>:ivlist&#125;,columns=[<span class="string">&#x27;Var&#x27;</span>,<span class="string">&#x27;Iv&#x27;</span>])</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> iv_df,ivlist</span><br><span class="line"></span><br><span class="line">im_iv, ivl = caliv_batch(X,y)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">im_iv[<span class="string">&#x27;Iv&#x27;</span>].describe()</span><br></pre></td></tr></table></figure>
<pre><code>count    83.000000
mean      0.930759
std       0.249840
min       0.005614
25%       1.000000
50%       1.000000
75%       1.000000
max       1.000000
Name: Iv, dtype: float64
</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">threshold = <span class="number">0.02</span></span><br><span class="line">threshold2 = <span class="number">0.6</span></span><br><span class="line">data_index=[]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(ivl)):</span><br><span class="line">    <span class="keyword">if</span> (im_iv[<span class="string">&#x27;Iv&#x27;</span>][i]&lt; threshold)|(im_iv[<span class="string">&#x27;Iv&#x27;</span>][i] &gt; threshold2):</span><br><span class="line">        data_index.append(im_iv[<span class="string">&#x27;Var&#x27;</span>][i])</span><br><span class="line">datafinal_IV = df.drop(data_index,axis=<span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">datafinal_IV.columns</span><br></pre></td></tr></table></figure>
<pre><code>Index([&#39;rank_trad_1_month&#39;, &#39;top_trans_count_last_1_month&#39;, &#39;status&#39;,
       &#39;consfin_product_count&#39;],
      dtype=&#39;object&#39;)
</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">x_train_IV = datafinal_IV.iloc[:,:-<span class="number">1</span>]</span><br><span class="line">y_train_IV = datafinal_IV.iloc[:,-<span class="number">1</span>]</span><br></pre></td></tr></table></figure>
<blockquote>
<p>参考：</p>
</blockquote>
<ol>
<li><a class="link"   href="https://github.com/datawhalechina/Datawhale_Learning/tree/master/doc/%E7%90%86%E8%AE%BA%E5%BA%94%E7%94%A8/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98" >DataWhale数据挖掘实战营<i class="fas fa-external-link-alt"></i></a></li>
<li><a class="link"   href="https://blog.csdn.net/tonydz0523/article/details/84404261" >python数据预处理 ：数据共线性处理<i class="fas fa-external-link-alt"></i></a></li>
<li><a class="link"   href="https://www.cnblogs.com/stevenlk/p/6543628.html" >特征选择 (feature_selection)<i class="fas fa-external-link-alt"></i></a></li>
<li><a class="link"   href="https://blog.csdn.net/shenxiaoming77/article/details/78771698" >评分卡模型中的IV和WOE详解<i class="fas fa-external-link-alt"></i></a></li>
</ol>
]]></content>
      <categories>
        <category>统计与机器学习</category>
        <category>其他</category>
      </categories>
  </entry>
  <entry>
    <title>泰坦尼克之灾</title>
    <url>/%E9%A1%B9%E7%9B%AE/%E6%95%B0%E6%8D%AE%E7%A7%91%E5%AD%A6/12954/</url>
    <content><![CDATA[<h2 id="数据集载入"><a href="#数据集载入" class="headerlink" title="数据集载入"></a>数据集载入</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> pyplot <span class="keyword">as</span> plt</span><br><span class="line">%matplotlib inline</span><br><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sns</span><br><span class="line"><span class="keyword">import</span> warnings</span><br><span class="line">warnings.filterwarnings(<span class="string">&#x27;ignore&#x27;</span>)</span><br><span class="line"></span><br><span class="line">df = pd.read_csv(<span class="string">&quot;2019-08-15_泰坦尼克之灾_train.csv&quot;</span>)</span><br><span class="line">df.head()</span><br></pre></td></tr></table></figure>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>PassengerId</th>
      <th>Survived</th>
      <th>Pclass</th>
      <th>Name</th>
      <th>Sex</th>
      <th>Age</th>
      <th>SibSp</th>
      <th>Parch</th>
      <th>Ticket</th>
      <th>Fare</th>
      <th>Cabin</th>
      <th>Embarked</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>0</td>
      <td>3</td>
      <td>Braund, Mr. Owen Harris</td>
      <td>male</td>
      <td>22.0</td>
      <td>1</td>
      <td>0</td>
      <td>A/5 21171</td>
      <td>7.2500</td>
      <td>NaN</td>
      <td>S</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>1</td>
      <td>1</td>
      <td>Cumings, Mrs. John Bradley (Florence Briggs Th...</td>
      <td>female</td>
      <td>38.0</td>
      <td>1</td>
      <td>0</td>
      <td>PC 17599</td>
      <td>71.2833</td>
      <td>C85</td>
      <td>C</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>1</td>
      <td>3</td>
      <td>Heikkinen, Miss. Laina</td>
      <td>female</td>
      <td>26.0</td>
      <td>0</td>
      <td>0</td>
      <td>STON/O2. 3101282</td>
      <td>7.9250</td>
      <td>NaN</td>
      <td>S</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>1</td>
      <td>1</td>
      <td>Futrelle, Mrs. Jacques Heath (Lily May Peel)</td>
      <td>female</td>
      <td>35.0</td>
      <td>1</td>
      <td>0</td>
      <td>113803</td>
      <td>53.1000</td>
      <td>C123</td>
      <td>S</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>0</td>
      <td>3</td>
      <td>Allen, Mr. William Henry</td>
      <td>male</td>
      <td>35.0</td>
      <td>0</td>
      <td>0</td>
      <td>373450</td>
      <td>8.0500</td>
      <td>NaN</td>
      <td>S</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">df.info()</span><br></pre></td></tr></table></figure>
<pre><code>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 891 entries, 0 to 890
Data columns (total 12 columns):
PassengerId    891 non-null int64
Survived       891 non-null int64
Pclass         891 non-null int64
Name           891 non-null object
Sex            891 non-null object
Age            714 non-null float64
SibSp          891 non-null int64
Parch          891 non-null int64
Ticket         891 non-null object
Fare           891 non-null float64
Cabin          204 non-null object
Embarked       889 non-null object
dtypes: float64(2), int64(5), object(5)
memory usage: 83.6+ KB
</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">typedic = &#123;&#125;  <span class="comment"># 类型字典</span></span><br><span class="line"><span class="keyword">for</span> name <span class="keyword">in</span> df.columns:</span><br><span class="line">    typedic[<span class="built_in">str</span>(</span><br><span class="line">        df[name].dtype)] = typedic.get(<span class="built_in">str</span>(df[name].dtype), []) + [name]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> key, value <span class="keyword">in</span> typedic.items():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;&#123;&#125;格式共有&#123;&#125;个: &#123;&#125;&quot;</span>.<span class="built_in">format</span>(key, <span class="built_in">len</span>(value), value))</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;&quot;</span>)</span><br></pre></td></tr></table></figure>
<pre><code>int64格式共有5个: [&#39;PassengerId&#39;, &#39;Survived&#39;, &#39;Pclass&#39;, &#39;SibSp&#39;, &#39;Parch&#39;]

object格式共有5个: [&#39;Name&#39;, &#39;Sex&#39;, &#39;Ticket&#39;, &#39;Cabin&#39;, &#39;Embarked&#39;]

float64格式共有2个: [&#39;Age&#39;, &#39;Fare&#39;]
</code></pre><p>至此可以看到数据不全的有：[‘Age’,’Cabin’]</p>
<p>需要调整类型或删除无用资讯的包含：[‘Name’, ‘Sex’, ‘Ticket’, ‘Cabin’, ‘Embarked’]</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">df.Survived.value_counts()</span><br></pre></td></tr></table></figure>
<pre><code>0    549
1    342
Name: Survived, dtype: int64
</code></pre><h2 id="数据探索"><a href="#数据探索" class="headerlink" title="数据探索"></a>数据探索</h2><h3 id="察看空值分布"><a href="#察看空值分布" class="headerlink" title="察看空值分布"></a>察看空值分布</h3><p>可以看到总共有三个特征有空值，分别是 Cabin 、 Age 与 Embarked</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">fig, ax = plt.subplots(figsize=(<span class="number">9</span>, <span class="number">5</span>))</span><br><span class="line">sns.heatmap(df.isnull(), cbar=<span class="literal">False</span>, cmap=<span class="string">&quot;YlGnBu_r&quot;</span>)</span><br><span class="line">plt.savefig(<span class="string">&quot;../img/2019-08-15_泰坦尼克之灾_1.png&quot;</span>)</span><br><span class="line">plt.close()</span><br></pre></td></tr></table></figure>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/img/2019-08-15_泰坦尼克之灾_1.png"
                      alt=""
                ></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">total = df.isnull().<span class="built_in">sum</span>().sort_values(ascending=<span class="literal">False</span>)</span><br><span class="line">percent = <span class="built_in">round</span>(df.isnull().<span class="built_in">sum</span>().sort_values(ascending=<span class="literal">False</span>) / <span class="built_in">len</span>(df) * <span class="number">100</span>,</span><br><span class="line">                <span class="number">2</span>)</span><br><span class="line">temp = pd.concat([total, percent], axis=<span class="number">1</span>, keys=[<span class="string">&#x27;Total&#x27;</span>, <span class="string">&#x27;Percent&#x27;</span>])</span><br><span class="line">temp</span><br></pre></td></tr></table></figure>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Total</th>
      <th>Percent</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Cabin</th>
      <td>687</td>
      <td>77.10</td>
    </tr>
    <tr>
      <th>Age</th>
      <td>177</td>
      <td>19.87</td>
    </tr>
    <tr>
      <th>Embarked</th>
      <td>2</td>
      <td>0.22</td>
    </tr>
    <tr>
      <th>Fare</th>
      <td>0</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>Ticket</th>
      <td>0</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>Parch</th>
      <td>0</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>SibSp</th>
      <td>0</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>Sex</th>
      <td>0</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>Name</th>
      <td>0</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>Pclass</th>
      <td>0</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>Survived</th>
      <td>0</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>PassengerId</th>
      <td>0</td>
      <td>0.00</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">ax = sns.barplot(data=df.isnull())</span><br><span class="line">plt.xticks(rotation=<span class="number">90</span>)</span><br><span class="line">plt.savefig(<span class="string">&quot;../img/2019-08-15_泰坦尼克之灾_2.png&quot;</span>)</span><br><span class="line">plt.close()</span><br></pre></td></tr></table></figure>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/img/2019-08-15_泰坦尼克之灾_2.png"
                      alt=""
                ></p>
<h3 id="Column-Survival"><a href="#Column-Survival" class="headerlink" title="Column : Survival"></a>Column : Survival</h3><p>存活的有 61.6%，占多数，样本比例为 1.6</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">f, ax = plt.subplots(<span class="number">1</span>, <span class="number">2</span>, figsize=(<span class="number">13</span>, <span class="number">5</span>))</span><br><span class="line">df[<span class="string">&#x27;Survived&#x27;</span>].value_counts().plot.pie(</span><br><span class="line">    explode=[<span class="number">0</span>, <span class="number">0.05</span>], autopct=<span class="string">&#x27;%1.1f%%&#x27;</span>, ax=ax[<span class="number">0</span>], shadow=<span class="literal">True</span>)</span><br><span class="line">ax[<span class="number">0</span>].set_title(<span class="string">&#x27;Survived&#x27;</span>)</span><br><span class="line">ax[<span class="number">0</span>].set_ylabel(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">sns.countplot(<span class="string">&#x27;Survived&#x27;</span>, data=df, ax=ax[<span class="number">1</span>])</span><br><span class="line">ax[<span class="number">1</span>].set_title(<span class="string">&#x27;Survived&#x27;</span>)</span><br><span class="line">plt.savefig(<span class="string">&quot;../img/2019-08-15_泰坦尼克之灾_3.png&quot;</span>)</span><br><span class="line">plt.close()</span><br></pre></td></tr></table></figure>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/img/2019-08-15_泰坦尼克之灾_3.png"
                      alt=""
                ></p>
<h3 id="Feature-Sex"><a href="#Feature-Sex" class="headerlink" title="Feature: Sex"></a>Feature: Sex</h3><p>女性存活率大于7成，男性约两成</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">f, ax = plt.subplots(<span class="number">1</span>, <span class="number">2</span>, figsize=(<span class="number">18</span>, <span class="number">5</span>))</span><br><span class="line">df[[<span class="string">&#x27;Sex&#x27;</span>, <span class="string">&#x27;Survived&#x27;</span>]].groupby([<span class="string">&#x27;Sex&#x27;</span>]).mean().plot.bar(ax=ax[<span class="number">0</span>])</span><br><span class="line">ax[<span class="number">0</span>].set_title(<span class="string">&#x27;Fraction of Survival with respect to Sex&#x27;</span>)</span><br><span class="line">sns.countplot(<span class="string">&#x27;Sex&#x27;</span>, hue=<span class="string">&#x27;Survived&#x27;</span>, data=df, ax=ax[<span class="number">1</span>])</span><br><span class="line">ax[<span class="number">1</span>].set_title(<span class="string">&#x27;Survived vs Dead counts with respect to Sex&#x27;</span>)</span><br><span class="line">plt.savefig(<span class="string">&quot;../img/2019-08-15_泰坦尼克之灾_4.png&quot;</span>)</span><br><span class="line">plt.close()</span><br></pre></td></tr></table></figure>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/img/2019-08-15_泰坦尼克之灾_4.png"
                      alt=""
                ></p>
<h3 id="Feature-Pclass"><a href="#Feature-Pclass" class="headerlink" title="Feature: Pclass"></a>Feature: Pclass</h3><p>大多数乘客在第三舱等，存活率依序从1舱等递减至3舱等</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">f, ax = plt.subplots(<span class="number">1</span>, <span class="number">3</span>, figsize=(<span class="number">18</span>, <span class="number">5</span>))</span><br><span class="line">df[<span class="string">&#x27;Pclass&#x27;</span>].value_counts().plot.bar(</span><br><span class="line">    color=[<span class="string">&#x27;#BC8F8F&#x27;</span>, <span class="string">&#x27;#F4A460&#x27;</span>, <span class="string">&#x27;#DAA520&#x27;</span>], ax=ax[<span class="number">0</span>])</span><br><span class="line">ax[<span class="number">0</span>].set_title(<span class="string">&#x27;Number Of Passengers with respect to Pclass&#x27;</span>)</span><br><span class="line">ax[<span class="number">0</span>].set_ylabel(<span class="string">&#x27;Count&#x27;</span>)</span><br><span class="line">sns.countplot(<span class="string">&#x27;Pclass&#x27;</span>, hue=<span class="string">&#x27;Survived&#x27;</span>, data=df, ax=ax[<span class="number">1</span>])</span><br><span class="line">ax[<span class="number">1</span>].set_title(<span class="string">&#x27;Survived vs Dead counts with respect to Pclass&#x27;</span>)</span><br><span class="line">sns.barplot(x=<span class="string">&quot;Pclass&quot;</span>, y=<span class="string">&quot;Survived&quot;</span>, data=df, ax=ax[<span class="number">2</span>])</span><br><span class="line">ax[<span class="number">2</span>].set_title(<span class="string">&#x27;Survival by Pclass&#x27;</span>)</span><br><span class="line">plt.savefig(<span class="string">&quot;../img/2019-08-15_泰坦尼克之灾_5.png&quot;</span>)</span><br><span class="line">plt.close()</span><br></pre></td></tr></table></figure>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/img/2019-08-15_泰坦尼克之灾_5.png"
                      alt=""
                ></p>
<h3 id="Feature-Age"><a href="#Feature-Age" class="headerlink" title="Feature: Age"></a>Feature: Age</h3><p>年龄分布上以年轻人、小孩居多，最高有80岁老人</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">f, ax = plt.subplots(<span class="number">1</span>, <span class="number">1</span>, figsize=(<span class="number">25</span>, <span class="number">6</span>))</span><br><span class="line">sns.barplot(df[<span class="string">&#x27;Age&#x27;</span>], df[<span class="string">&#x27;Survived&#x27;</span>], ci=<span class="literal">None</span>, ax=ax)</span><br><span class="line">ax.set_title(<span class="string">&#x27;Survived vs Dead counts with respect to Pclass&#x27;</span>)</span><br><span class="line">plt.xticks(rotation=<span class="number">90</span>)</span><br><span class="line">plt.savefig(<span class="string">&quot;../img/2019-08-15_泰坦尼克之灾_6.png&quot;</span>)</span><br><span class="line">plt.close()</span><br></pre></td></tr></table></figure>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/img/2019-08-15_泰坦尼克之灾_6.png"
                      alt=""
                ></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">f, ax = plt.subplots(<span class="number">1</span>, <span class="number">2</span>, figsize=(<span class="number">18</span>, <span class="number">6</span>))</span><br><span class="line"></span><br><span class="line">ax[<span class="number">0</span>].set_title(<span class="string">&#x27;Age Box Plot&#x27;</span>)</span><br><span class="line">ax[<span class="number">0</span>].set_ylabel(<span class="string">&#x27;Age Years&#x27;</span>)</span><br><span class="line"></span><br><span class="line">sns.boxplot(y=<span class="string">&#x27;Age&#x27;</span>, data=df, ax=ax[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line">sns.boxplot(x=<span class="string">&#x27;Survived&#x27;</span>, y=<span class="string">&#x27;Age&#x27;</span>, data=df, ax=ax[<span class="number">1</span>])</span><br><span class="line">ax[<span class="number">1</span>].set_title(<span class="string">&#x27;Age Box Plot&#x27;</span>)</span><br><span class="line">ax[<span class="number">1</span>].set_ylabel(<span class="string">&#x27;Age Years&#x27;</span>)</span><br><span class="line"></span><br><span class="line">plt.savefig(<span class="string">&quot;../img/2019-08-15_泰坦尼克之灾_7.png&quot;</span>)</span><br><span class="line">plt.close()</span><br></pre></td></tr></table></figure>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/img/2019-08-15_泰坦尼克之灾_7.png"
                      alt=""
                ></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">f, ax = plt.subplots(<span class="number">1</span>, <span class="number">2</span>, figsize=(<span class="number">18</span>, <span class="number">8</span>))</span><br><span class="line">sns.violinplot(</span><br><span class="line">    <span class="string">&quot;Pclass&quot;</span>, <span class="string">&quot;Age&quot;</span>, hue=<span class="string">&quot;Survived&quot;</span>, data=df, split=<span class="literal">True</span>, ax=ax[<span class="number">0</span>])</span><br><span class="line">ax[<span class="number">0</span>].set_title(<span class="string">&#x27;Pclass and Age vs Survived&#x27;</span>)</span><br><span class="line">ax[<span class="number">0</span>].set_yticks(<span class="built_in">range</span>(<span class="number">0</span>, <span class="number">110</span>, <span class="number">10</span>))</span><br><span class="line">sns.violinplot(</span><br><span class="line">    <span class="string">&quot;Sex&quot;</span>, <span class="string">&quot;Age&quot;</span>, hue=<span class="string">&quot;Survived&quot;</span>, data=df, split=<span class="literal">True</span>, ax=ax[<span class="number">1</span>])</span><br><span class="line">ax[<span class="number">1</span>].set_title(<span class="string">&#x27;Sex and Age vs Survived&#x27;</span>)</span><br><span class="line">ax[<span class="number">1</span>].set_yticks(<span class="built_in">range</span>(<span class="number">0</span>, <span class="number">110</span>, <span class="number">10</span>))</span><br><span class="line"></span><br><span class="line">plt.savefig(<span class="string">&quot;../img/2019-08-15_泰坦尼克之灾_8.png&quot;</span>)</span><br><span class="line">plt.close()</span><br></pre></td></tr></table></figure>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/img/2019-08-15_泰坦尼克之灾_8.png"
                      alt=""
                ></p>
<h3 id="Feature-Embarked"><a href="#Feature-Embarked" class="headerlink" title="Feature: Embarked"></a>Feature: Embarked</h3><p>大多数乘客是从S登船口，存活率以c最高</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">f, ax = plt.subplots(<span class="number">1</span>, <span class="number">3</span>, figsize=(<span class="number">12</span>, <span class="number">5</span>))</span><br><span class="line">sns.countplot(<span class="string">&#x27;Embarked&#x27;</span>, data=df, ax=ax[<span class="number">0</span>])</span><br><span class="line">ax[<span class="number">0</span>].set_title(<span class="string">&#x27;No. Of Passengers Boarded&#x27;</span>)</span><br><span class="line">sns.countplot(<span class="string">&#x27;Embarked&#x27;</span>, hue=<span class="string">&#x27;Survived&#x27;</span>, data=df, ax=ax[<span class="number">1</span>])</span><br><span class="line">ax[<span class="number">1</span>].set_title(<span class="string">&#x27;Embarked vs Survived&#x27;</span>)</span><br><span class="line">sns.barplot(<span class="string">&#x27;Embarked&#x27;</span>, <span class="string">&#x27;Survived&#x27;</span>, data=df, ax=ax[<span class="number">2</span>])</span><br><span class="line">ax[<span class="number">2</span>].set_title(<span class="string">&#x27;Embarked vs Survived&#x27;</span>)</span><br><span class="line"></span><br><span class="line">plt.savefig(<span class="string">&quot;../img/2019-08-15_泰坦尼克之灾_9.png&quot;</span>)</span><br><span class="line">plt.close()</span><br></pre></td></tr></table></figure>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/img/2019-08-15_泰坦尼克之灾_9.png"
                      alt=""
                ></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">f, ax = plt.subplots(<span class="number">1</span>, <span class="number">2</span>, figsize=(<span class="number">12</span>, <span class="number">5</span>))</span><br><span class="line">sns.countplot(<span class="string">&#x27;Embarked&#x27;</span>, hue=<span class="string">&#x27;Sex&#x27;</span>, data=df, ax=ax[<span class="number">0</span>])</span><br><span class="line">ax[<span class="number">0</span>].set_title(<span class="string">&#x27;Male-Female Split for Embarked&#x27;</span>)</span><br><span class="line">sns.countplot(<span class="string">&#x27;Embarked&#x27;</span>, hue=<span class="string">&#x27;Pclass&#x27;</span>, data=df, ax=ax[<span class="number">1</span>])</span><br><span class="line">ax[<span class="number">1</span>].set_title(<span class="string">&#x27;Embarked vs Pclass&#x27;</span>)</span><br><span class="line">plt.subplots_adjust(wspace=<span class="number">0.2</span>, hspace=<span class="number">0.5</span>)</span><br><span class="line"></span><br><span class="line">plt.savefig(<span class="string">&quot;../img/2019-08-15_泰坦尼克之灾_10.png&quot;</span>)</span><br><span class="line">plt.close()</span><br></pre></td></tr></table></figure>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/img/2019-08-15_泰坦尼克之灾_10.png"
                      alt=""
                ></p>
<h3 id="Features-SibSip-amp-Parch"><a href="#Features-SibSip-amp-Parch" class="headerlink" title="Features: SibSip &amp; Parch"></a>Features: SibSip &amp; Parch</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">f, ax = plt.subplots(<span class="number">2</span>, <span class="number">2</span>, figsize=(<span class="number">15</span>, <span class="number">10</span>))</span><br><span class="line">sns.countplot(<span class="string">&#x27;SibSp&#x27;</span>, hue=<span class="string">&#x27;Survived&#x27;</span>, data=df, ax=ax[<span class="number">0</span>, <span class="number">0</span>])</span><br><span class="line">ax[<span class="number">0</span>, <span class="number">0</span>].set_title(<span class="string">&#x27;SibSp vs Survived&#x27;</span>)</span><br><span class="line">sns.barplot(<span class="string">&#x27;SibSp&#x27;</span>, <span class="string">&#x27;Survived&#x27;</span>, data=df, ax=ax[<span class="number">0</span>, <span class="number">1</span>])</span><br><span class="line">ax[<span class="number">0</span>, <span class="number">1</span>].set_title(<span class="string">&#x27;SibSp vs Survived&#x27;</span>)</span><br><span class="line"></span><br><span class="line">sns.countplot(<span class="string">&#x27;Parch&#x27;</span>, hue=<span class="string">&#x27;Survived&#x27;</span>, data=df, ax=ax[<span class="number">1</span>, <span class="number">0</span>])</span><br><span class="line">ax[<span class="number">1</span>, <span class="number">0</span>].set_title(<span class="string">&#x27;Parch vs Survived&#x27;</span>)</span><br><span class="line">sns.barplot(<span class="string">&#x27;Parch&#x27;</span>, <span class="string">&#x27;Survived&#x27;</span>, data=df, ax=ax[<span class="number">1</span>, <span class="number">1</span>])</span><br><span class="line">ax[<span class="number">1</span>, <span class="number">1</span>].set_title(<span class="string">&#x27;Parch vs Survived&#x27;</span>)</span><br><span class="line"></span><br><span class="line">plt.subplots_adjust(wspace=<span class="number">0.2</span>, hspace=<span class="number">0.5</span>)</span><br><span class="line"></span><br><span class="line">plt.savefig(<span class="string">&quot;../img/2019-08-15_泰坦尼克之灾_11.png&quot;</span>)</span><br><span class="line">plt.close()</span><br></pre></td></tr></table></figure>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/img/2019-08-15_泰坦尼克之灾_11.png"
                      alt=""
                ></p>
<h3 id="Feature-Fare"><a href="#Feature-Fare" class="headerlink" title="Feature: Fare"></a>Feature: Fare</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">f, ax = plt.subplots(<span class="number">1</span>, <span class="number">1</span>, figsize=(<span class="number">20</span>, <span class="number">5</span>))</span><br><span class="line">sns.distplot(df.Fare, ax=ax)</span><br><span class="line">ax.set_title(<span class="string">&#x27;Distribution of Fares&#x27;</span>)</span><br><span class="line"></span><br><span class="line">plt.savefig(<span class="string">&quot;../img/2019-08-15_泰坦尼克之灾_12.png&quot;</span>)</span><br><span class="line">plt.close()</span><br></pre></td></tr></table></figure>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/img/2019-08-15_泰坦尼克之灾_12.png"
                      alt=""
                ></p>
<h2 id="特征预处理"><a href="#特征预处理" class="headerlink" title="特征预处理"></a>特征预处理</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">df_tuned = df.copy(deep=<span class="literal">True</span>)</span><br><span class="line">df_tuned.sample(<span class="number">5</span>)</span><br></pre></td></tr></table></figure>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>PassengerId</th>
      <th>Survived</th>
      <th>Pclass</th>
      <th>Name</th>
      <th>Sex</th>
      <th>Age</th>
      <th>SibSp</th>
      <th>Parch</th>
      <th>Ticket</th>
      <th>Fare</th>
      <th>Cabin</th>
      <th>Embarked</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>390</th>
      <td>391</td>
      <td>1</td>
      <td>1</td>
      <td>Carter, Mr. William Ernest</td>
      <td>male</td>
      <td>36.0</td>
      <td>1</td>
      <td>2</td>
      <td>113760</td>
      <td>120.0000</td>
      <td>B96 B98</td>
      <td>S</td>
    </tr>
    <tr>
      <th>281</th>
      <td>282</td>
      <td>0</td>
      <td>3</td>
      <td>Olsson, Mr. Nils Johan Goransson</td>
      <td>male</td>
      <td>28.0</td>
      <td>0</td>
      <td>0</td>
      <td>347464</td>
      <td>7.8542</td>
      <td>NaN</td>
      <td>S</td>
    </tr>
    <tr>
      <th>691</th>
      <td>692</td>
      <td>1</td>
      <td>3</td>
      <td>Karun, Miss. Manca</td>
      <td>female</td>
      <td>4.0</td>
      <td>0</td>
      <td>1</td>
      <td>349256</td>
      <td>13.4167</td>
      <td>NaN</td>
      <td>C</td>
    </tr>
    <tr>
      <th>866</th>
      <td>867</td>
      <td>1</td>
      <td>2</td>
      <td>Duran y More, Miss. Asuncion</td>
      <td>female</td>
      <td>27.0</td>
      <td>1</td>
      <td>0</td>
      <td>SC/PARIS 2149</td>
      <td>13.8583</td>
      <td>NaN</td>
      <td>C</td>
    </tr>
    <tr>
      <th>726</th>
      <td>727</td>
      <td>1</td>
      <td>2</td>
      <td>Renouf, Mrs. Peter Henry (Lillian Jefferys)</td>
      <td>female</td>
      <td>30.0</td>
      <td>3</td>
      <td>0</td>
      <td>31027</td>
      <td>21.0000</td>
      <td>NaN</td>
      <td>S</td>
    </tr>
  </tbody>
</table>
</div>



<h3 id="删除无用特征"><a href="#删除无用特征" class="headerlink" title="删除无用特征"></a>删除无用特征</h3><h4 id="PassengerId"><a href="#PassengerId" class="headerlink" title="PassengerId"></a>PassengerId</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">df_tuned = df_tuned.drop([<span class="string">&#x27;PassengerId&#x27;</span>], axis=<span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<h3 id="填充空值"><a href="#填充空值" class="headerlink" title="填充空值"></a>填充空值</h3><h4 id="Age"><a href="#Age" class="headerlink" title="Age"></a>Age</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;原缺失值：&#123;a&#125;&quot;</span>.<span class="built_in">format</span>(a=df_tuned[<span class="string">&#x27;Age&#x27;</span>].isnull().<span class="built_in">sum</span>()))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 采用众数填充</span></span><br><span class="line">df_tuned[<span class="string">&#x27;Age&#x27;</span>].fillna(df_tuned[<span class="string">&#x27;Age&#x27;</span>].mode()[<span class="number">0</span>], inplace=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;后缺失值：&#123;a&#125;&quot;</span>.<span class="built_in">format</span>(a=df_tuned[<span class="string">&#x27;Age&#x27;</span>].isnull().<span class="built_in">sum</span>()))</span><br></pre></td></tr></table></figure>
<pre><code>原缺失值：177
后缺失值：0
</code></pre><h4 id="Cabin"><a href="#Cabin" class="headerlink" title="Cabin"></a>Cabin</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;原缺失值：&#123;a&#125;&quot;</span>.<span class="built_in">format</span>(a=df_tuned[<span class="string">&#x27;Cabin&#x27;</span>].isnull().<span class="built_in">sum</span>()))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 采用是否有值填充</span></span><br><span class="line">df_tuned[<span class="string">&#x27;Cabin&#x27;</span>][df_tuned[<span class="string">&#x27;Cabin&#x27;</span>].isnull()] = <span class="number">0</span></span><br><span class="line">df_tuned[<span class="string">&#x27;Cabin&#x27;</span>][df_tuned[<span class="string">&#x27;Cabin&#x27;</span>].notnull()] = <span class="number">1</span></span><br><span class="line">df_tuned[<span class="string">&#x27;Cabin&#x27;</span>] = df_tuned[<span class="string">&#x27;Cabin&#x27;</span>].astype(<span class="built_in">int</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;后缺失值：&#123;a&#125;&quot;</span>.<span class="built_in">format</span>(a=df_tuned[<span class="string">&#x27;Cabin&#x27;</span>].isnull().<span class="built_in">sum</span>()))</span><br></pre></td></tr></table></figure>
<pre><code>原缺失值：687
后缺失值：0
</code></pre><h4 id="Embarked"><a href="#Embarked" class="headerlink" title="Embarked"></a>Embarked</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;原缺失值：&#123;a&#125;&quot;</span>.<span class="built_in">format</span>(a=df_tuned[<span class="string">&#x27;Embarked&#x27;</span>].isnull().<span class="built_in">sum</span>()))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 采用众数填充</span></span><br><span class="line">df_tuned[<span class="string">&#x27;Embarked&#x27;</span>].fillna(df_tuned[<span class="string">&#x27;Embarked&#x27;</span>].mode()[<span class="number">0</span>], inplace=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;后缺失值：&#123;a&#125;&quot;</span>.<span class="built_in">format</span>(a=df_tuned[<span class="string">&#x27;Embarked&#x27;</span>].isnull().<span class="built_in">sum</span>()))</span><br></pre></td></tr></table></figure>
<pre><code>原缺失值：2
后缺失值：0
</code></pre><h3 id="特征分箱"><a href="#特征分箱" class="headerlink" title="特征分箱"></a>特征分箱</h3><h4 id="Name：取出称号"><a href="#Name：取出称号" class="headerlink" title="Name：取出称号"></a>Name：取出称号</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">df_tuned[<span class="string">&#x27;Title&#x27;</span>] = df_tuned[<span class="string">&#x27;Name&#x27;</span>].<span class="built_in">str</span>.extract(<span class="string">&#x27;,\s(.*?)\.&#x27;</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">title_Dict = &#123;&#125;</span><br><span class="line">title_Dict.update(<span class="built_in">dict</span>.fromkeys([<span class="string">&#x27;Capt&#x27;</span>, <span class="string">&#x27;Col&#x27;</span>, <span class="string">&#x27;Major&#x27;</span>, <span class="string">&#x27;Dr&#x27;</span>, <span class="string">&#x27;Rev&#x27;</span>], <span class="string">&#x27;Officer&#x27;</span>))</span><br><span class="line">title_Dict.update(<span class="built_in">dict</span>.fromkeys([<span class="string">&#x27;Jonkheer&#x27;</span>, <span class="string">&#x27;Don&#x27;</span>, <span class="string">&#x27;Sir&#x27;</span>, <span class="string">&#x27;the Countess&#x27;</span>, <span class="string">&#x27;Dona&#x27;</span>, <span class="string">&#x27;Lady&#x27;</span>], <span class="string">&#x27;Royalty&#x27;</span>))</span><br><span class="line">title_Dict.update(<span class="built_in">dict</span>.fromkeys([<span class="string">&#x27;Mme&#x27;</span>, <span class="string">&#x27;Ms&#x27;</span>, <span class="string">&#x27;Mrs&#x27;</span>], <span class="string">&#x27;Mrs&#x27;</span>))</span><br><span class="line">title_Dict.update(<span class="built_in">dict</span>.fromkeys([<span class="string">&#x27;Mlle&#x27;</span>, <span class="string">&#x27;Miss&#x27;</span>], <span class="string">&#x27;Miss&#x27;</span>))</span><br><span class="line">title_Dict.update(<span class="built_in">dict</span>.fromkeys([<span class="string">&#x27;Mr&#x27;</span>], <span class="string">&#x27;Mr&#x27;</span>))</span><br><span class="line">title_Dict.update(<span class="built_in">dict</span>.fromkeys([<span class="string">&#x27;Master&#x27;</span>], <span class="string">&#x27;Master&#x27;</span>))</span><br><span class="line"></span><br><span class="line">title_Dict</span><br></pre></td></tr></table></figure>
<pre><code>&#123;&#39;Capt&#39;: &#39;Officer&#39;,
 &#39;Col&#39;: &#39;Officer&#39;,
 &#39;Major&#39;: &#39;Officer&#39;,
 &#39;Dr&#39;: &#39;Officer&#39;,
 &#39;Rev&#39;: &#39;Officer&#39;,
 &#39;Jonkheer&#39;: &#39;Royalty&#39;,
 &#39;Don&#39;: &#39;Royalty&#39;,
 &#39;Sir&#39;: &#39;Royalty&#39;,
 &#39;the Countess&#39;: &#39;Royalty&#39;,
 &#39;Dona&#39;: &#39;Royalty&#39;,
 &#39;Lady&#39;: &#39;Royalty&#39;,
 &#39;Mme&#39;: &#39;Mrs&#39;,
 &#39;Ms&#39;: &#39;Mrs&#39;,
 &#39;Mrs&#39;: &#39;Mrs&#39;,
 &#39;Mlle&#39;: &#39;Miss&#39;,
 &#39;Miss&#39;: &#39;Miss&#39;,
 &#39;Mr&#39;: &#39;Mr&#39;,
 &#39;Master&#39;: &#39;Master&#39;&#125;
</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">df_tuned[<span class="string">&#x27;Title&#x27;</span>] = df_tuned[<span class="string">&#x27;Title&#x27;</span>].<span class="built_in">map</span>(title_Dict)</span><br><span class="line">df_tuned = df_tuned.drop([<span class="string">&#x27;Name&#x27;</span>], axis=<span class="number">1</span>)</span><br><span class="line">df_tuned.head()</span><br></pre></td></tr></table></figure>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Survived</th>
      <th>Pclass</th>
      <th>Sex</th>
      <th>Age</th>
      <th>SibSp</th>
      <th>Parch</th>
      <th>Ticket</th>
      <th>Fare</th>
      <th>Cabin</th>
      <th>Embarked</th>
      <th>Title</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>3</td>
      <td>male</td>
      <td>22.0</td>
      <td>1</td>
      <td>0</td>
      <td>A/5 21171</td>
      <td>7.2500</td>
      <td>1</td>
      <td>S</td>
      <td>Mr</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>1</td>
      <td>female</td>
      <td>38.0</td>
      <td>1</td>
      <td>0</td>
      <td>PC 17599</td>
      <td>71.2833</td>
      <td>1</td>
      <td>C</td>
      <td>Mrs</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1</td>
      <td>3</td>
      <td>female</td>
      <td>26.0</td>
      <td>0</td>
      <td>0</td>
      <td>STON/O2. 3101282</td>
      <td>7.9250</td>
      <td>1</td>
      <td>S</td>
      <td>Miss</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1</td>
      <td>1</td>
      <td>female</td>
      <td>35.0</td>
      <td>1</td>
      <td>0</td>
      <td>113803</td>
      <td>53.1000</td>
      <td>1</td>
      <td>S</td>
      <td>Mrs</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0</td>
      <td>3</td>
      <td>male</td>
      <td>35.0</td>
      <td>0</td>
      <td>0</td>
      <td>373450</td>
      <td>8.0500</td>
      <td>1</td>
      <td>S</td>
      <td>Mr</td>
    </tr>
  </tbody>
</table>
</div>



<h4 id="Fare"><a href="#Fare" class="headerlink" title="Fare"></a>Fare</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fare_category</span>(<span class="params">fare</span>):</span></span><br><span class="line">    <span class="keyword">if</span> fare &lt;= <span class="number">4</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">elif</span> fare &lt;= <span class="number">10</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">elif</span> fare &lt;= <span class="number">30</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">2</span></span><br><span class="line">    <span class="keyword">elif</span> fare &lt;= <span class="number">45</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">3</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">4</span></span><br><span class="line"></span><br><span class="line">df_tuned[<span class="string">&#x27;Fare&#x27;</span>] = df_tuned[<span class="string">&#x27;Fare&#x27;</span>].<span class="built_in">map</span>(fare_category)</span><br></pre></td></tr></table></figure>
<h4 id="Family-size"><a href="#Family-size" class="headerlink" title="Family_size"></a>Family_size</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">df_tuned[<span class="string">&#x27;Family_Size&#x27;</span>] = df_tuned[<span class="string">&#x27;Parch&#x27;</span>] + df_tuned[<span class="string">&#x27;SibSp&#x27;</span>] + <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">family_size_category</span>(<span class="params">ppl</span>):</span></span><br><span class="line">    <span class="keyword">if</span> ppl &lt;= <span class="number">2</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">elif</span> ppl &lt;= <span class="number">4</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">elif</span> ppl &lt;= <span class="number">6</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">2</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">3</span></span><br><span class="line"></span><br><span class="line">df_tuned[<span class="string">&#x27;Family_Size&#x27;</span>] = df_tuned[<span class="string">&#x27;Family_Size&#x27;</span>].<span class="built_in">map</span>(family_size_category)</span><br></pre></td></tr></table></figure>
<h4 id="Ticket"><a href="#Ticket" class="headerlink" title="Ticket"></a>Ticket</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">df_tuned[<span class="string">&#x27;Ticket&#x27;</span>] = df_tuned[<span class="string">&#x27;Ticket&#x27;</span>].<span class="built_in">str</span>.extract(<span class="string">&#x27;(^\d+|\s\d+)&#x27;</span>)</span><br><span class="line">df_tuned[<span class="string">&#x27;Ticket&#x27;</span>].fillna(<span class="number">0</span>,inplace=<span class="literal">True</span>)</span><br><span class="line">df_tuned[<span class="string">&#x27;Ticket&#x27;</span>] = df_tuned[<span class="string">&#x27;Ticket&#x27;</span>].astype(<span class="built_in">float</span>)</span><br></pre></td></tr></table></figure>
<h3 id="处理分类特征"><a href="#处理分类特征" class="headerlink" title="处理分类特征"></a>处理分类特征</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">df_tuned</span><br></pre></td></tr></table></figure>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Survived</th>
      <th>Pclass</th>
      <th>Sex</th>
      <th>Age</th>
      <th>SibSp</th>
      <th>Parch</th>
      <th>Ticket</th>
      <th>Fare</th>
      <th>Cabin</th>
      <th>Embarked</th>
      <th>Title</th>
      <th>Family_Size</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>3</td>
      <td>male</td>
      <td>22.0</td>
      <td>1</td>
      <td>0</td>
      <td>21171.0</td>
      <td>1</td>
      <td>1</td>
      <td>S</td>
      <td>Mr</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>1</td>
      <td>female</td>
      <td>38.0</td>
      <td>1</td>
      <td>0</td>
      <td>17599.0</td>
      <td>4</td>
      <td>1</td>
      <td>C</td>
      <td>Mrs</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1</td>
      <td>3</td>
      <td>female</td>
      <td>26.0</td>
      <td>0</td>
      <td>0</td>
      <td>3101282.0</td>
      <td>1</td>
      <td>1</td>
      <td>S</td>
      <td>Miss</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1</td>
      <td>1</td>
      <td>female</td>
      <td>35.0</td>
      <td>1</td>
      <td>0</td>
      <td>113803.0</td>
      <td>4</td>
      <td>1</td>
      <td>S</td>
      <td>Mrs</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0</td>
      <td>3</td>
      <td>male</td>
      <td>35.0</td>
      <td>0</td>
      <td>0</td>
      <td>373450.0</td>
      <td>1</td>
      <td>1</td>
      <td>S</td>
      <td>Mr</td>
      <td>0</td>
    </tr>
    <tr>
      <th>5</th>
      <td>0</td>
      <td>3</td>
      <td>male</td>
      <td>24.0</td>
      <td>0</td>
      <td>0</td>
      <td>330877.0</td>
      <td>1</td>
      <td>1</td>
      <td>Q</td>
      <td>Mr</td>
      <td>0</td>
    </tr>
    <tr>
      <th>6</th>
      <td>0</td>
      <td>1</td>
      <td>male</td>
      <td>54.0</td>
      <td>0</td>
      <td>0</td>
      <td>17463.0</td>
      <td>4</td>
      <td>1</td>
      <td>S</td>
      <td>Mr</td>
      <td>0</td>
    </tr>
    <tr>
      <th>7</th>
      <td>0</td>
      <td>3</td>
      <td>male</td>
      <td>2.0</td>
      <td>3</td>
      <td>1</td>
      <td>349909.0</td>
      <td>2</td>
      <td>1</td>
      <td>S</td>
      <td>Master</td>
      <td>2</td>
    </tr>
    <tr>
      <th>8</th>
      <td>1</td>
      <td>3</td>
      <td>female</td>
      <td>27.0</td>
      <td>0</td>
      <td>2</td>
      <td>347742.0</td>
      <td>2</td>
      <td>1</td>
      <td>S</td>
      <td>Mrs</td>
      <td>1</td>
    </tr>
    <tr>
      <th>9</th>
      <td>1</td>
      <td>2</td>
      <td>female</td>
      <td>14.0</td>
      <td>1</td>
      <td>0</td>
      <td>237736.0</td>
      <td>3</td>
      <td>1</td>
      <td>C</td>
      <td>Mrs</td>
      <td>0</td>
    </tr>
    <tr>
      <th>10</th>
      <td>1</td>
      <td>3</td>
      <td>female</td>
      <td>4.0</td>
      <td>1</td>
      <td>1</td>
      <td>9549.0</td>
      <td>2</td>
      <td>1</td>
      <td>S</td>
      <td>Miss</td>
      <td>1</td>
    </tr>
    <tr>
      <th>11</th>
      <td>1</td>
      <td>1</td>
      <td>female</td>
      <td>58.0</td>
      <td>0</td>
      <td>0</td>
      <td>113783.0</td>
      <td>2</td>
      <td>1</td>
      <td>S</td>
      <td>Miss</td>
      <td>0</td>
    </tr>
    <tr>
      <th>12</th>
      <td>0</td>
      <td>3</td>
      <td>male</td>
      <td>20.0</td>
      <td>0</td>
      <td>0</td>
      <td>2151.0</td>
      <td>1</td>
      <td>1</td>
      <td>S</td>
      <td>Mr</td>
      <td>0</td>
    </tr>
    <tr>
      <th>13</th>
      <td>0</td>
      <td>3</td>
      <td>male</td>
      <td>39.0</td>
      <td>1</td>
      <td>5</td>
      <td>347082.0</td>
      <td>3</td>
      <td>1</td>
      <td>S</td>
      <td>Mr</td>
      <td>3</td>
    </tr>
    <tr>
      <th>14</th>
      <td>0</td>
      <td>3</td>
      <td>female</td>
      <td>14.0</td>
      <td>0</td>
      <td>0</td>
      <td>350406.0</td>
      <td>1</td>
      <td>1</td>
      <td>S</td>
      <td>Miss</td>
      <td>0</td>
    </tr>
    <tr>
      <th>15</th>
      <td>1</td>
      <td>2</td>
      <td>female</td>
      <td>55.0</td>
      <td>0</td>
      <td>0</td>
      <td>248706.0</td>
      <td>2</td>
      <td>1</td>
      <td>S</td>
      <td>Mrs</td>
      <td>0</td>
    </tr>
    <tr>
      <th>16</th>
      <td>0</td>
      <td>3</td>
      <td>male</td>
      <td>2.0</td>
      <td>4</td>
      <td>1</td>
      <td>382652.0</td>
      <td>2</td>
      <td>1</td>
      <td>Q</td>
      <td>Master</td>
      <td>2</td>
    </tr>
    <tr>
      <th>17</th>
      <td>1</td>
      <td>2</td>
      <td>male</td>
      <td>24.0</td>
      <td>0</td>
      <td>0</td>
      <td>244373.0</td>
      <td>2</td>
      <td>1</td>
      <td>S</td>
      <td>Mr</td>
      <td>0</td>
    </tr>
    <tr>
      <th>18</th>
      <td>0</td>
      <td>3</td>
      <td>female</td>
      <td>31.0</td>
      <td>1</td>
      <td>0</td>
      <td>345763.0</td>
      <td>2</td>
      <td>1</td>
      <td>S</td>
      <td>Mrs</td>
      <td>0</td>
    </tr>
    <tr>
      <th>19</th>
      <td>1</td>
      <td>3</td>
      <td>female</td>
      <td>24.0</td>
      <td>0</td>
      <td>0</td>
      <td>2649.0</td>
      <td>1</td>
      <td>1</td>
      <td>C</td>
      <td>Mrs</td>
      <td>0</td>
    </tr>
    <tr>
      <th>20</th>
      <td>0</td>
      <td>2</td>
      <td>male</td>
      <td>35.0</td>
      <td>0</td>
      <td>0</td>
      <td>239865.0</td>
      <td>2</td>
      <td>1</td>
      <td>S</td>
      <td>Mr</td>
      <td>0</td>
    </tr>
    <tr>
      <th>21</th>
      <td>1</td>
      <td>2</td>
      <td>male</td>
      <td>34.0</td>
      <td>0</td>
      <td>0</td>
      <td>248698.0</td>
      <td>2</td>
      <td>1</td>
      <td>S</td>
      <td>Mr</td>
      <td>0</td>
    </tr>
    <tr>
      <th>22</th>
      <td>1</td>
      <td>3</td>
      <td>female</td>
      <td>15.0</td>
      <td>0</td>
      <td>0</td>
      <td>330923.0</td>
      <td>1</td>
      <td>1</td>
      <td>Q</td>
      <td>Miss</td>
      <td>0</td>
    </tr>
    <tr>
      <th>23</th>
      <td>1</td>
      <td>1</td>
      <td>male</td>
      <td>28.0</td>
      <td>0</td>
      <td>0</td>
      <td>113788.0</td>
      <td>3</td>
      <td>1</td>
      <td>S</td>
      <td>Mr</td>
      <td>0</td>
    </tr>
    <tr>
      <th>24</th>
      <td>0</td>
      <td>3</td>
      <td>female</td>
      <td>8.0</td>
      <td>3</td>
      <td>1</td>
      <td>349909.0</td>
      <td>2</td>
      <td>1</td>
      <td>S</td>
      <td>Miss</td>
      <td>2</td>
    </tr>
    <tr>
      <th>25</th>
      <td>1</td>
      <td>3</td>
      <td>female</td>
      <td>38.0</td>
      <td>1</td>
      <td>5</td>
      <td>347077.0</td>
      <td>3</td>
      <td>1</td>
      <td>S</td>
      <td>Mrs</td>
      <td>3</td>
    </tr>
    <tr>
      <th>26</th>
      <td>0</td>
      <td>3</td>
      <td>male</td>
      <td>24.0</td>
      <td>0</td>
      <td>0</td>
      <td>2631.0</td>
      <td>1</td>
      <td>1</td>
      <td>C</td>
      <td>Mr</td>
      <td>0</td>
    </tr>
    <tr>
      <th>27</th>
      <td>0</td>
      <td>1</td>
      <td>male</td>
      <td>19.0</td>
      <td>3</td>
      <td>2</td>
      <td>19950.0</td>
      <td>4</td>
      <td>1</td>
      <td>S</td>
      <td>Mr</td>
      <td>2</td>
    </tr>
    <tr>
      <th>28</th>
      <td>1</td>
      <td>3</td>
      <td>female</td>
      <td>24.0</td>
      <td>0</td>
      <td>0</td>
      <td>330959.0</td>
      <td>1</td>
      <td>1</td>
      <td>Q</td>
      <td>Miss</td>
      <td>0</td>
    </tr>
    <tr>
      <th>29</th>
      <td>0</td>
      <td>3</td>
      <td>male</td>
      <td>24.0</td>
      <td>0</td>
      <td>0</td>
      <td>349216.0</td>
      <td>1</td>
      <td>1</td>
      <td>S</td>
      <td>Mr</td>
      <td>0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>861</th>
      <td>0</td>
      <td>2</td>
      <td>male</td>
      <td>21.0</td>
      <td>1</td>
      <td>0</td>
      <td>28134.0</td>
      <td>2</td>
      <td>1</td>
      <td>S</td>
      <td>Mr</td>
      <td>0</td>
    </tr>
    <tr>
      <th>862</th>
      <td>1</td>
      <td>1</td>
      <td>female</td>
      <td>48.0</td>
      <td>0</td>
      <td>0</td>
      <td>17466.0</td>
      <td>2</td>
      <td>1</td>
      <td>S</td>
      <td>Mrs</td>
      <td>0</td>
    </tr>
    <tr>
      <th>863</th>
      <td>0</td>
      <td>3</td>
      <td>female</td>
      <td>24.0</td>
      <td>8</td>
      <td>2</td>
      <td>2343.0</td>
      <td>4</td>
      <td>1</td>
      <td>S</td>
      <td>Miss</td>
      <td>3</td>
    </tr>
    <tr>
      <th>864</th>
      <td>0</td>
      <td>2</td>
      <td>male</td>
      <td>24.0</td>
      <td>0</td>
      <td>0</td>
      <td>233866.0</td>
      <td>2</td>
      <td>1</td>
      <td>S</td>
      <td>Mr</td>
      <td>0</td>
    </tr>
    <tr>
      <th>865</th>
      <td>1</td>
      <td>2</td>
      <td>female</td>
      <td>42.0</td>
      <td>0</td>
      <td>0</td>
      <td>236852.0</td>
      <td>2</td>
      <td>1</td>
      <td>S</td>
      <td>Mrs</td>
      <td>0</td>
    </tr>
    <tr>
      <th>866</th>
      <td>1</td>
      <td>2</td>
      <td>female</td>
      <td>27.0</td>
      <td>1</td>
      <td>0</td>
      <td>2149.0</td>
      <td>2</td>
      <td>1</td>
      <td>C</td>
      <td>Miss</td>
      <td>0</td>
    </tr>
    <tr>
      <th>867</th>
      <td>0</td>
      <td>1</td>
      <td>male</td>
      <td>31.0</td>
      <td>0</td>
      <td>0</td>
      <td>17590.0</td>
      <td>4</td>
      <td>1</td>
      <td>S</td>
      <td>Mr</td>
      <td>0</td>
    </tr>
    <tr>
      <th>868</th>
      <td>0</td>
      <td>3</td>
      <td>male</td>
      <td>24.0</td>
      <td>0</td>
      <td>0</td>
      <td>345777.0</td>
      <td>1</td>
      <td>1</td>
      <td>S</td>
      <td>Mr</td>
      <td>0</td>
    </tr>
    <tr>
      <th>869</th>
      <td>1</td>
      <td>3</td>
      <td>male</td>
      <td>4.0</td>
      <td>1</td>
      <td>1</td>
      <td>347742.0</td>
      <td>2</td>
      <td>1</td>
      <td>S</td>
      <td>Master</td>
      <td>1</td>
    </tr>
    <tr>
      <th>870</th>
      <td>0</td>
      <td>3</td>
      <td>male</td>
      <td>26.0</td>
      <td>0</td>
      <td>0</td>
      <td>349248.0</td>
      <td>1</td>
      <td>1</td>
      <td>S</td>
      <td>Mr</td>
      <td>0</td>
    </tr>
    <tr>
      <th>871</th>
      <td>1</td>
      <td>1</td>
      <td>female</td>
      <td>47.0</td>
      <td>1</td>
      <td>1</td>
      <td>11751.0</td>
      <td>4</td>
      <td>1</td>
      <td>S</td>
      <td>Mrs</td>
      <td>1</td>
    </tr>
    <tr>
      <th>872</th>
      <td>0</td>
      <td>1</td>
      <td>male</td>
      <td>33.0</td>
      <td>0</td>
      <td>0</td>
      <td>695.0</td>
      <td>1</td>
      <td>1</td>
      <td>S</td>
      <td>Mr</td>
      <td>0</td>
    </tr>
    <tr>
      <th>873</th>
      <td>0</td>
      <td>3</td>
      <td>male</td>
      <td>47.0</td>
      <td>0</td>
      <td>0</td>
      <td>345765.0</td>
      <td>1</td>
      <td>1</td>
      <td>S</td>
      <td>Mr</td>
      <td>0</td>
    </tr>
    <tr>
      <th>874</th>
      <td>1</td>
      <td>2</td>
      <td>female</td>
      <td>28.0</td>
      <td>1</td>
      <td>0</td>
      <td>3381.0</td>
      <td>2</td>
      <td>1</td>
      <td>C</td>
      <td>Mrs</td>
      <td>0</td>
    </tr>
    <tr>
      <th>875</th>
      <td>1</td>
      <td>3</td>
      <td>female</td>
      <td>15.0</td>
      <td>0</td>
      <td>0</td>
      <td>2667.0</td>
      <td>1</td>
      <td>1</td>
      <td>C</td>
      <td>Miss</td>
      <td>0</td>
    </tr>
    <tr>
      <th>876</th>
      <td>0</td>
      <td>3</td>
      <td>male</td>
      <td>20.0</td>
      <td>0</td>
      <td>0</td>
      <td>7534.0</td>
      <td>1</td>
      <td>1</td>
      <td>S</td>
      <td>Mr</td>
      <td>0</td>
    </tr>
    <tr>
      <th>877</th>
      <td>0</td>
      <td>3</td>
      <td>male</td>
      <td>19.0</td>
      <td>0</td>
      <td>0</td>
      <td>349212.0</td>
      <td>1</td>
      <td>1</td>
      <td>S</td>
      <td>Mr</td>
      <td>0</td>
    </tr>
    <tr>
      <th>878</th>
      <td>0</td>
      <td>3</td>
      <td>male</td>
      <td>24.0</td>
      <td>0</td>
      <td>0</td>
      <td>349217.0</td>
      <td>1</td>
      <td>1</td>
      <td>S</td>
      <td>Mr</td>
      <td>0</td>
    </tr>
    <tr>
      <th>879</th>
      <td>1</td>
      <td>1</td>
      <td>female</td>
      <td>56.0</td>
      <td>0</td>
      <td>1</td>
      <td>11767.0</td>
      <td>4</td>
      <td>1</td>
      <td>C</td>
      <td>Mrs</td>
      <td>0</td>
    </tr>
    <tr>
      <th>880</th>
      <td>1</td>
      <td>2</td>
      <td>female</td>
      <td>25.0</td>
      <td>0</td>
      <td>1</td>
      <td>230433.0</td>
      <td>2</td>
      <td>1</td>
      <td>S</td>
      <td>Mrs</td>
      <td>0</td>
    </tr>
    <tr>
      <th>881</th>
      <td>0</td>
      <td>3</td>
      <td>male</td>
      <td>33.0</td>
      <td>0</td>
      <td>0</td>
      <td>349257.0</td>
      <td>1</td>
      <td>1</td>
      <td>S</td>
      <td>Mr</td>
      <td>0</td>
    </tr>
    <tr>
      <th>882</th>
      <td>0</td>
      <td>3</td>
      <td>female</td>
      <td>22.0</td>
      <td>0</td>
      <td>0</td>
      <td>7552.0</td>
      <td>2</td>
      <td>1</td>
      <td>S</td>
      <td>Miss</td>
      <td>0</td>
    </tr>
    <tr>
      <th>883</th>
      <td>0</td>
      <td>2</td>
      <td>male</td>
      <td>28.0</td>
      <td>0</td>
      <td>0</td>
      <td>34068.0</td>
      <td>2</td>
      <td>1</td>
      <td>S</td>
      <td>Mr</td>
      <td>0</td>
    </tr>
    <tr>
      <th>884</th>
      <td>0</td>
      <td>3</td>
      <td>male</td>
      <td>25.0</td>
      <td>0</td>
      <td>0</td>
      <td>392076.0</td>
      <td>1</td>
      <td>1</td>
      <td>S</td>
      <td>Mr</td>
      <td>0</td>
    </tr>
    <tr>
      <th>885</th>
      <td>0</td>
      <td>3</td>
      <td>female</td>
      <td>39.0</td>
      <td>0</td>
      <td>5</td>
      <td>382652.0</td>
      <td>2</td>
      <td>1</td>
      <td>Q</td>
      <td>Mrs</td>
      <td>2</td>
    </tr>
    <tr>
      <th>886</th>
      <td>0</td>
      <td>2</td>
      <td>male</td>
      <td>27.0</td>
      <td>0</td>
      <td>0</td>
      <td>211536.0</td>
      <td>2</td>
      <td>1</td>
      <td>S</td>
      <td>Officer</td>
      <td>0</td>
    </tr>
    <tr>
      <th>887</th>
      <td>1</td>
      <td>1</td>
      <td>female</td>
      <td>19.0</td>
      <td>0</td>
      <td>0</td>
      <td>112053.0</td>
      <td>2</td>
      <td>1</td>
      <td>S</td>
      <td>Miss</td>
      <td>0</td>
    </tr>
    <tr>
      <th>888</th>
      <td>0</td>
      <td>3</td>
      <td>female</td>
      <td>24.0</td>
      <td>1</td>
      <td>2</td>
      <td>6607.0</td>
      <td>2</td>
      <td>1</td>
      <td>S</td>
      <td>Miss</td>
      <td>1</td>
    </tr>
    <tr>
      <th>889</th>
      <td>1</td>
      <td>1</td>
      <td>male</td>
      <td>26.0</td>
      <td>0</td>
      <td>0</td>
      <td>111369.0</td>
      <td>2</td>
      <td>1</td>
      <td>C</td>
      <td>Mr</td>
      <td>0</td>
    </tr>
    <tr>
      <th>890</th>
      <td>0</td>
      <td>3</td>
      <td>male</td>
      <td>32.0</td>
      <td>0</td>
      <td>0</td>
      <td>370376.0</td>
      <td>1</td>
      <td>1</td>
      <td>Q</td>
      <td>Mr</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
<p>891 rows × 12 columns</p>
</div>



<h4 id="Embarked-Sex-Pclass-Title-Fare-Category-Family-Size"><a href="#Embarked-Sex-Pclass-Title-Fare-Category-Family-Size" class="headerlink" title="Embarked, Sex, Pclass, Title, Fare_Category, Family_Size,"></a>Embarked, Sex, Pclass, Title, Fare_Category, Family_Size,</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">dummies_Pclass = pd.get_dummies(df_tuned[<span class="string">&#x27;Pclass&#x27;</span>], prefix=<span class="string">&#x27;Pclass&#x27;</span>)</span><br><span class="line">dummies_Sex = pd.get_dummies(df_tuned[<span class="string">&#x27;Sex&#x27;</span>], prefix=<span class="string">&#x27;Sex&#x27;</span>)</span><br><span class="line">dummies_Fare = pd.get_dummies(df_tuned[<span class="string">&#x27;Fare&#x27;</span>], prefix=<span class="string">&#x27;Pclass&#x27;</span>)</span><br><span class="line">dummies_Embarked = pd.get_dummies(df_tuned[<span class="string">&#x27;Embarked&#x27;</span>], prefix=<span class="string">&#x27;Embarked&#x27;</span>)</span><br><span class="line">dummies_Title = pd.get_dummies(df_tuned[<span class="string">&#x27;Title&#x27;</span>], prefix=<span class="string">&#x27;Pclass&#x27;</span>)</span><br><span class="line">dummies_Family_Size = pd.get_dummies(df_tuned[<span class="string">&#x27;Family_Size&#x27;</span>], prefix=<span class="string">&#x27;Pclass&#x27;</span>)</span><br><span class="line"></span><br><span class="line">df_tuned = pd.concat(</span><br><span class="line">    [df_tuned, dummies_Embarked, dummies_Sex, dummies_Pclass, dummies_Title, dummies_Fare, dummies_Family_Size],</span><br><span class="line">    axis=<span class="number">1</span>)</span><br><span class="line">df_tuned.drop([<span class="string">&#x27;Pclass&#x27;</span>, <span class="string">&#x27;Sex&#x27;</span>, <span class="string">&#x27;Fare&#x27;</span>, <span class="string">&#x27;Embarked&#x27;</span>, <span class="string">&#x27;Title&#x27;</span>, <span class="string">&#x27;Family_Size&#x27;</span>],</span><br><span class="line">              axis=<span class="number">1</span>,</span><br><span class="line">              inplace=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 最后检查</span></span><br><span class="line">df_tuned.info()</span><br></pre></td></tr></table></figure>
<pre><code>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 891 entries, 0 to 890
Data columns (total 29 columns):
Survived          891 non-null int64
Age               891 non-null float64
SibSp             891 non-null int64
Parch             891 non-null int64
Ticket            891 non-null float64
Cabin             891 non-null int64
Embarked_C        891 non-null uint8
Embarked_Q        891 non-null uint8
Embarked_S        891 non-null uint8
Sex_female        891 non-null uint8
Sex_male          891 non-null uint8
Pclass_1          891 non-null uint8
Pclass_2          891 non-null uint8
Pclass_3          891 non-null uint8
Pclass_Master     891 non-null uint8
Pclass_Miss       891 non-null uint8
Pclass_Mr         891 non-null uint8
Pclass_Mrs        891 non-null uint8
Pclass_Officer    891 non-null uint8
Pclass_Royalty    891 non-null uint8
Pclass_0          891 non-null uint8
Pclass_1          891 non-null uint8
Pclass_2          891 non-null uint8
Pclass_3          891 non-null uint8
Pclass_4          891 non-null uint8
Pclass_0          891 non-null uint8
Pclass_1          891 non-null uint8
Pclass_2          891 non-null uint8
Pclass_3          891 non-null uint8
dtypes: float64(2), int64(4), uint8(23)
memory usage: 61.9 KB
</code></pre><h3 id="数据标准化"><a href="#数据标准化" class="headerlink" title="数据标准化"></a>数据标准化</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> StandardScaler</span><br><span class="line">ss = StandardScaler()</span><br><span class="line">data = ss.fit_transform(df_tuned[<span class="string">&#x27;Ticket&#x27;</span>].values.reshape(-<span class="number">1</span>, <span class="number">1</span>))</span><br><span class="line">df_tuned[<span class="string">&#x27;Ticket&#x27;</span>] = pd.DataFrame(data)</span><br></pre></td></tr></table></figure>
<h3 id="数据划分"><a href="#数据划分" class="headerlink" title="数据划分"></a>数据划分</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line"></span><br><span class="line">X = df_tuned[:].drop(<span class="string">&quot;Survived&quot;</span>, axis=<span class="number">1</span>)</span><br><span class="line">y = df_tuned[<span class="string">&quot;Survived&quot;</span>]</span><br><span class="line"></span><br><span class="line">X_train, X_test, y_train, y_test = train_test_split(</span><br><span class="line">    X, y, test_size=<span class="number">0.2</span>, shuffle=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure>
<h2 id="数据建模"><a href="#数据建模" class="headerlink" title="数据建模"></a>数据建模</h2><h3 id="六大模型"><a href="#六大模型" class="headerlink" title="六大模型"></a>六大模型</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> ensemble</span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> LogisticRegression</span><br><span class="line"><span class="keyword">from</span> sklearn.svm <span class="keyword">import</span> SVC</span><br><span class="line"><span class="keyword">from</span> sklearn.tree <span class="keyword">import</span> DecisionTreeClassifier</span><br><span class="line"><span class="keyword">from</span> sklearn.ensemble <span class="keyword">import</span> RandomForestClassifier, GradientBoostingClassifier</span><br><span class="line"><span class="keyword">from</span> sklearn.neighbors <span class="keyword">import</span> KNeighborsClassifier</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> cross_val_score</span><br><span class="line"></span><br><span class="line">names = [<span class="string">&quot;LR&quot;</span>, <span class="string">&quot;SVC&quot;</span>, <span class="string">&#x27;DT&#x27;</span>, <span class="string">&quot;RF&quot;</span>, <span class="string">&quot;KNN&quot;</span>, <span class="string">&quot;GBDT&quot;</span>, <span class="string">&quot;Voting&quot;</span>]</span><br><span class="line">models = [LR, svc, DT, RF, KNN, GBDT, voting]</span><br><span class="line">evaluates = [<span class="string">&#x27;accuracy&#x27;</span>, <span class="string">&#x27;precision&#x27;</span>, <span class="string">&#x27;recall&#x27;</span>, <span class="string">&#x27;f1&#x27;</span>, <span class="string">&#x27;roc_auc&#x27;</span>]</span><br><span class="line"></span><br><span class="line">LR = LogisticRegression(C=<span class="number">1.0</span>, penalty=<span class="string">&#x27;l1&#x27;</span>, tol=<span class="number">1e-6</span>)</span><br><span class="line">LR = LR.fit(X_train, y_train)</span><br><span class="line"></span><br><span class="line">svc = SVC(kernel=<span class="string">&#x27;linear&#x27;</span>, probability=<span class="literal">True</span>)</span><br><span class="line">svc = svc.fit(X_train, y_train)</span><br><span class="line"></span><br><span class="line">DT = DecisionTreeClassifier(</span><br><span class="line">    max_features=<span class="string">&#x27;sqrt&#x27;</span>, max_depth=<span class="number">35</span>, criterion=<span class="string">&#x27;entropy&#x27;</span>, random_state=<span class="number">42</span>)</span><br><span class="line">DT = DT.fit(X_train, y_train)</span><br><span class="line"></span><br><span class="line">RF = RandomForestClassifier(</span><br><span class="line">    n_estimators=<span class="number">750</span>,</span><br><span class="line">    criterion=<span class="string">&#x27;gini&#x27;</span>,</span><br><span class="line">    max_features=<span class="string">&#x27;sqrt&#x27;</span>,</span><br><span class="line">    max_depth=<span class="number">3</span>,</span><br><span class="line">    min_samples_split=<span class="number">4</span>,</span><br><span class="line">    min_samples_leaf=<span class="number">2</span>,</span><br><span class="line">    n_jobs=<span class="number">50</span>,</span><br><span class="line">    random_state=<span class="number">42</span>,</span><br><span class="line">    verbose=<span class="number">1</span>)</span><br><span class="line">RF = RF.fit(X_train, y_train)</span><br><span class="line"></span><br><span class="line">KNN = KNeighborsClassifier()</span><br><span class="line">KNN = KNN.fit(X_train, y_train)</span><br><span class="line"></span><br><span class="line">GBDT = GradientBoostingClassifier(</span><br><span class="line">    n_estimators=<span class="number">900</span>,</span><br><span class="line">    learning_rate=<span class="number">0.0008</span>,</span><br><span class="line">    loss=<span class="string">&#x27;exponential&#x27;</span>,</span><br><span class="line">    min_samples_split=<span class="number">3</span>,</span><br><span class="line">    min_samples_leaf=<span class="number">2</span>,</span><br><span class="line">    max_features=<span class="string">&#x27;sqrt&#x27;</span>,</span><br><span class="line">    max_depth=<span class="number">3</span>,</span><br><span class="line">    random_state=<span class="number">42</span>,</span><br><span class="line">    verbose=<span class="number">1</span>)</span><br><span class="line">GBDT = GBDT.fit(X_train, y_train)</span><br><span class="line"></span><br><span class="line">voting = ensemble.VotingClassifier(</span><br><span class="line">    estimators=[(<span class="string">&#x27;LR&#x27;</span>, LR), (<span class="string">&#x27;SVC&#x27;</span>, svc), (<span class="string">&#x27;DT&#x27;</span>, DT), (<span class="string">&#x27;RF&#x27;</span>, RF), (<span class="string">&#x27;KNN&#x27;</span>, KNN),</span><br><span class="line">                (<span class="string">&#x27;GBDT&#x27;</span>, GBDT)],</span><br><span class="line">    voting=<span class="string">&#x27;soft&#x27;</span>,</span><br><span class="line">    weights=[i.score(X_test, y_test) <span class="keyword">for</span> i <span class="keyword">in</span> models[<span class="number">0</span>:<span class="number">6</span>]],</span><br><span class="line">    n_jobs=<span class="number">50</span>)</span><br><span class="line">voting = voting.fit(X_train, y_train)</span><br></pre></td></tr></table></figure>
<pre><code>[Parallel(n_jobs=50)]: Using backend ThreadingBackend with 50 concurrent workers.
[Parallel(n_jobs=50)]: Done 100 tasks      | elapsed:    0.1s
[Parallel(n_jobs=50)]: Done 350 tasks      | elapsed:    0.3s
[Parallel(n_jobs=50)]: Done 750 out of 750 | elapsed:    0.5s finished


      Iter       Train Loss   Remaining Time 
         1           0.9754            1.41s
         2           0.9751            1.32s
         3           0.9748            1.24s
         4           0.9745            1.20s
         5           0.9742            1.18s
         6           0.9739            1.13s
         7           0.9738            1.08s
         8           0.9735            1.05s
         9           0.9733            1.02s
        10           0.9730            1.00s
        20           0.9703            0.77s
        30           0.9680            0.68s
        40           0.9655            0.63s
        50           0.9628            0.62s
        60           0.9602            0.59s
        70           0.9576            0.57s
        80           0.9549            0.55s
        90           0.9522            0.53s
       100           0.9498            0.52s
       200           0.9259            0.43s
       300           0.9040            0.37s
       400           0.8842            0.31s
       500           0.8660            0.26s
       600           0.8493            0.20s
       700           0.8340            0.13s
       800           0.8204            0.06s
       900           0.8078            0.00s


[Parallel(n_jobs=50)]: Using backend ThreadingBackend with 50 concurrent workers.
[Parallel(n_jobs=50)]: Done 100 tasks      | elapsed:    0.0s
[Parallel(n_jobs=50)]: Done 350 tasks      | elapsed:    0.0s
[Parallel(n_jobs=50)]: Done 750 out of 750 | elapsed:    0.1s finished
</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">df_list = []</span><br><span class="line"><span class="keyword">for</span> name,model <span class="keyword">in</span> <span class="built_in">zip</span>(names,models):</span><br><span class="line">    y_train_pred = model.predict(X_train)</span><br><span class="line">    y_test_pred = model.predict(X_test)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">#accuracy</span></span><br><span class="line">    train_accuracy = model.score(X_train,y_train)</span><br><span class="line">    test_accuracy = model.score(X_test,y_test)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">#precision   </span></span><br><span class="line">    train_precision = precision_score(y_train,y_train_pred)</span><br><span class="line">    test_precision = precision_score(y_test,y_test_pred)   </span><br><span class="line">    </span><br><span class="line">    <span class="comment">#recall</span></span><br><span class="line">    train_recall = recall_score(y_train,y_train_pred)</span><br><span class="line">    test_recall = recall_score(y_test,y_test_pred)   </span><br><span class="line">    </span><br><span class="line">    <span class="comment">#f1</span></span><br><span class="line">    train_f1 = f1_score(y_train,y_train_pred)</span><br><span class="line">    test_f1 = f1_score(y_test,y_test_pred)   </span><br><span class="line">    </span><br><span class="line">    <span class="comment">#auc</span></span><br><span class="line">    y_train_pred = model.predict_proba(X_train)[:,<span class="number">1</span>]</span><br><span class="line">    y_test_pred = model.predict_proba(X_test)[:,<span class="number">1</span>]</span><br><span class="line">    </span><br><span class="line">    train_auc = roc_auc_score(y_train,y_train_pred)</span><br><span class="line">    test_auc = roc_auc_score(y_test,y_test_pred)</span><br><span class="line">    </span><br><span class="line">    df = pd.DataFrame(np.array([train_accuracy,train_precision,train_recall,train_f1,train_auc,test_accuracy,test_precision,test_recall,test_f1,test_auc]).reshape(<span class="number">2</span>,-<span class="number">1</span>),</span><br><span class="line">                  index = [<span class="string">&#x27;train&#x27;</span>,<span class="string">&#x27;test&#x27;</span>],</span><br><span class="line">                  columns = [<span class="string">&#x27;Accuracy&#x27;</span>,<span class="string">&#x27;Precision&#x27;</span>,<span class="string">&#x27;Recall&#x27;</span>,<span class="string">&#x27;F1-Score&#x27;</span>,<span class="string">&#x27;AUC-Score&#x27;</span>])</span><br><span class="line">    df_list.append(df)</span><br><span class="line"></span><br><span class="line">pd.concat(df_list,axis=<span class="number">0</span>,keys=names)</span><br></pre></td></tr></table></figure>
<pre><code>[Parallel(n_jobs=50)]: Using backend ThreadingBackend with 50 concurrent workers.
[Parallel(n_jobs=50)]: Done 100 tasks      | elapsed:    0.0s
[Parallel(n_jobs=50)]: Done 350 tasks      | elapsed:    0.1s
[Parallel(n_jobs=50)]: Done 750 out of 750 | elapsed:    0.2s finished
[Parallel(n_jobs=50)]: Using backend ThreadingBackend with 50 concurrent workers.
[Parallel(n_jobs=50)]: Done 100 tasks      | elapsed:    0.0s
[Parallel(n_jobs=50)]: Done 350 tasks      | elapsed:    0.1s
[Parallel(n_jobs=50)]: Done 750 out of 750 | elapsed:    0.1s finished
[Parallel(n_jobs=50)]: Using backend ThreadingBackend with 50 concurrent workers.
[Parallel(n_jobs=50)]: Done 100 tasks      | elapsed:    0.0s
[Parallel(n_jobs=50)]: Done 350 tasks      | elapsed:    0.1s
[Parallel(n_jobs=50)]: Done 750 out of 750 | elapsed:    0.2s finished
[Parallel(n_jobs=50)]: Using backend ThreadingBackend with 50 concurrent workers.
[Parallel(n_jobs=50)]: Done 100 tasks      | elapsed:    0.0s
[Parallel(n_jobs=50)]: Done 350 tasks      | elapsed:    0.1s
[Parallel(n_jobs=50)]: Done 750 out of 750 | elapsed:    0.1s finished
[Parallel(n_jobs=50)]: Using backend ThreadingBackend with 50 concurrent workers.
[Parallel(n_jobs=50)]: Done 100 tasks      | elapsed:    0.0s
[Parallel(n_jobs=50)]: Done 350 tasks      | elapsed:    0.1s
[Parallel(n_jobs=50)]: Done 750 out of 750 | elapsed:    0.2s finished
[Parallel(n_jobs=50)]: Using backend ThreadingBackend with 50 concurrent workers.
[Parallel(n_jobs=50)]: Done 100 tasks      | elapsed:    0.0s
[Parallel(n_jobs=50)]: Done 350 tasks      | elapsed:    0.1s
[Parallel(n_jobs=50)]: Done 750 out of 750 | elapsed:    0.1s finished
[Parallel(n_jobs=50)]: Using backend ThreadingBackend with 50 concurrent workers.
[Parallel(n_jobs=50)]: Done 100 tasks      | elapsed:    0.0s
[Parallel(n_jobs=50)]: Done 350 tasks      | elapsed:    0.1s
[Parallel(n_jobs=50)]: Done 750 out of 750 | elapsed:    0.2s finished
[Parallel(n_jobs=50)]: Using backend ThreadingBackend with 50 concurrent workers.
[Parallel(n_jobs=50)]: Done 100 tasks      | elapsed:    0.0s
[Parallel(n_jobs=50)]: Done 350 tasks      | elapsed:    0.1s
[Parallel(n_jobs=50)]: Done 750 out of 750 | elapsed:    0.1s finished
[Parallel(n_jobs=50)]: Using backend ThreadingBackend with 50 concurrent workers.
[Parallel(n_jobs=50)]: Done 100 tasks      | elapsed:    0.0s
[Parallel(n_jobs=50)]: Done 350 tasks      | elapsed:    0.1s
[Parallel(n_jobs=50)]: Done 750 out of 750 | elapsed:    0.2s finished
[Parallel(n_jobs=50)]: Using backend ThreadingBackend with 50 concurrent workers.
[Parallel(n_jobs=50)]: Done 100 tasks      | elapsed:    0.0s
[Parallel(n_jobs=50)]: Done 350 tasks      | elapsed:    0.0s
[Parallel(n_jobs=50)]: Done 750 out of 750 | elapsed:    0.1s finished
[Parallel(n_jobs=50)]: Using backend ThreadingBackend with 50 concurrent workers.
[Parallel(n_jobs=50)]: Done 100 tasks      | elapsed:    0.0s
[Parallel(n_jobs=50)]: Done 350 tasks      | elapsed:    0.1s
[Parallel(n_jobs=50)]: Done 750 out of 750 | elapsed:    0.1s finished
[Parallel(n_jobs=50)]: Using backend ThreadingBackend with 50 concurrent workers.
[Parallel(n_jobs=50)]: Done 100 tasks      | elapsed:    0.0s
[Parallel(n_jobs=50)]: Done 350 tasks      | elapsed:    0.0s
[Parallel(n_jobs=50)]: Done 750 out of 750 | elapsed:    0.1s finished
</code></pre><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th></th>
      <th>Accuracy</th>
      <th>Precision</th>
      <th>Recall</th>
      <th>F1-Score</th>
      <th>AUC-Score</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th rowspan="2" valign="top">LR</th>
      <th>train</th>
      <td>0.817416</td>
      <td>0.791339</td>
      <td>0.723022</td>
      <td>0.755639</td>
      <td>0.873811</td>
    </tr>
    <tr>
      <th>test</th>
      <td>0.860335</td>
      <td>0.819672</td>
      <td>0.781250</td>
      <td>0.800000</td>
      <td>0.912772</td>
    </tr>
    <tr>
      <th rowspan="2" valign="top">SVC</th>
      <th>train</th>
      <td>0.820225</td>
      <td>0.804878</td>
      <td>0.712230</td>
      <td>0.755725</td>
      <td>0.860508</td>
    </tr>
    <tr>
      <th>test</th>
      <td>0.854749</td>
      <td>0.816667</td>
      <td>0.765625</td>
      <td>0.790323</td>
      <td>0.899321</td>
    </tr>
    <tr>
      <th rowspan="2" valign="top">DT</th>
      <th>train</th>
      <td>0.998596</td>
      <td>1.000000</td>
      <td>0.996403</td>
      <td>0.998198</td>
      <td>0.999992</td>
    </tr>
    <tr>
      <th>test</th>
      <td>0.754190</td>
      <td>0.642857</td>
      <td>0.703125</td>
      <td>0.671642</td>
      <td>0.748981</td>
    </tr>
    <tr>
      <th rowspan="2" valign="top">RF</th>
      <th>train</th>
      <td>0.817416</td>
      <td>0.803279</td>
      <td>0.705036</td>
      <td>0.750958</td>
      <td>0.872949</td>
    </tr>
    <tr>
      <th>test</th>
      <td>0.843575</td>
      <td>0.810345</td>
      <td>0.734375</td>
      <td>0.770492</td>
      <td>0.895856</td>
    </tr>
    <tr>
      <th rowspan="2" valign="top">KNN</th>
      <th>train</th>
      <td>0.841292</td>
      <td>0.839506</td>
      <td>0.733813</td>
      <td>0.783109</td>
      <td>0.918315</td>
    </tr>
    <tr>
      <th>test</th>
      <td>0.821229</td>
      <td>0.758065</td>
      <td>0.734375</td>
      <td>0.746032</td>
      <td>0.852921</td>
    </tr>
    <tr>
      <th rowspan="2" valign="top">GBDT</th>
      <th>train</th>
      <td>0.818820</td>
      <td>0.898396</td>
      <td>0.604317</td>
      <td>0.722581</td>
      <td>0.881597</td>
    </tr>
    <tr>
      <th>test</th>
      <td>0.843575</td>
      <td>0.909091</td>
      <td>0.625000</td>
      <td>0.740741</td>
      <td>0.904823</td>
    </tr>
    <tr>
      <th rowspan="2" valign="top">Voting</th>
      <th>train</th>
      <td>0.856742</td>
      <td>0.872881</td>
      <td>0.741007</td>
      <td>0.801556</td>
      <td>0.971074</td>
    </tr>
    <tr>
      <th>test</th>
      <td>0.860335</td>
      <td>0.830508</td>
      <td>0.765625</td>
      <td>0.796748</td>
      <td>0.898505</td>
    </tr>
  </tbody>
</table>
</div>



<h3 id="数据预测"><a href="#数据预测" class="headerlink" title="数据预测"></a>数据预测</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">df_test = pd.read_csv(<span class="string">&quot;2019-08-15_泰坦尼克之灾_test.csv&quot;</span>)</span><br><span class="line">df_tuned_test = df_test.copy(deep=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">df_tuned_test = df_tuned_test.drop([<span class="string">&#x27;PassengerId&#x27;</span>], axis=<span class="number">1</span>)</span><br><span class="line">df_tuned_test[<span class="string">&#x27;Age&#x27;</span>].fillna(df_tuned_test[<span class="string">&#x27;Age&#x27;</span>].mode()[<span class="number">0</span>], inplace=<span class="literal">True</span>)</span><br><span class="line">df_tuned_test[<span class="string">&#x27;Cabin&#x27;</span>][df_tuned_test[<span class="string">&#x27;Cabin&#x27;</span>].isnull()] = <span class="number">0</span></span><br><span class="line">df_tuned_test[<span class="string">&#x27;Cabin&#x27;</span>][df_tuned_test[<span class="string">&#x27;Cabin&#x27;</span>].notnull()] = <span class="number">1</span></span><br><span class="line">df_tuned_test[<span class="string">&#x27;Cabin&#x27;</span>] = df_tuned_test[<span class="string">&#x27;Cabin&#x27;</span>].astype(<span class="built_in">int</span>)</span><br><span class="line">df_tuned_test[<span class="string">&#x27;Embarked&#x27;</span>].fillna(</span><br><span class="line">    df_tuned_test[<span class="string">&#x27;Embarked&#x27;</span>].mode()[<span class="number">0</span>], inplace=<span class="literal">True</span>)</span><br><span class="line">df_tuned_test[<span class="string">&#x27;Title&#x27;</span>] = df_tuned_test[<span class="string">&#x27;Name&#x27;</span>].<span class="built_in">str</span>.extract(<span class="string">&#x27;,\s(.*?)\.&#x27;</span>)</span><br><span class="line">df_tuned_test[<span class="string">&#x27;Title&#x27;</span>] = df_tuned_test[<span class="string">&#x27;Title&#x27;</span>].<span class="built_in">map</span>(title_Dict)</span><br><span class="line">df_tuned_test = df_tuned_test.drop([<span class="string">&#x27;Name&#x27;</span>], axis=<span class="number">1</span>)</span><br><span class="line">df_tuned_test[<span class="string">&#x27;Fare&#x27;</span>] = df_tuned_test[<span class="string">&#x27;Fare&#x27;</span>].<span class="built_in">map</span>(fare_category)</span><br><span class="line">df_tuned_test[</span><br><span class="line">    <span class="string">&#x27;Family_Size&#x27;</span>] = df_tuned_test[<span class="string">&#x27;Parch&#x27;</span>] + df_tuned_test[<span class="string">&#x27;SibSp&#x27;</span>] + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">df_tuned_test[<span class="string">&#x27;Family_Size&#x27;</span>] = df_tuned_test[<span class="string">&#x27;Family_Size&#x27;</span>].<span class="built_in">map</span>(</span><br><span class="line">    family_size_category)</span><br><span class="line"></span><br><span class="line">df_tuned_test[<span class="string">&#x27;Ticket&#x27;</span>] = df_tuned_test[<span class="string">&#x27;Ticket&#x27;</span>].<span class="built_in">str</span>.extract(<span class="string">&#x27;(^\d+|\s\d+)&#x27;</span>)</span><br><span class="line">df_tuned_test[<span class="string">&#x27;Ticket&#x27;</span>].fillna(<span class="number">0</span>, inplace=<span class="literal">True</span>)</span><br><span class="line">df_tuned_test[<span class="string">&#x27;Ticket&#x27;</span>] = df_tuned_test[<span class="string">&#x27;Ticket&#x27;</span>].astype(<span class="built_in">float</span>)</span><br><span class="line"></span><br><span class="line">dummies_Pclass = pd.get_dummies(df_tuned_test[<span class="string">&#x27;Pclass&#x27;</span>], prefix=<span class="string">&#x27;Pclass&#x27;</span>)</span><br><span class="line">dummies_Sex = pd.get_dummies(df_tuned_test[<span class="string">&#x27;Sex&#x27;</span>], prefix=<span class="string">&#x27;Sex&#x27;</span>)</span><br><span class="line">dummies_Fare = pd.get_dummies(df_tuned_test[<span class="string">&#x27;Fare&#x27;</span>], prefix=<span class="string">&#x27;Pclass&#x27;</span>)</span><br><span class="line">dummies_Embarked = pd.get_dummies(df_tuned_test[<span class="string">&#x27;Embarked&#x27;</span>], prefix=<span class="string">&#x27;Embarked&#x27;</span>)</span><br><span class="line">dummies_Title = pd.get_dummies(df_tuned_test[<span class="string">&#x27;Title&#x27;</span>], prefix=<span class="string">&#x27;Pclass&#x27;</span>)</span><br><span class="line">dummies_Family_Size = pd.get_dummies(</span><br><span class="line">    df_tuned_test[<span class="string">&#x27;Family_Size&#x27;</span>], prefix=<span class="string">&#x27;Pclass&#x27;</span>)</span><br><span class="line"></span><br><span class="line">df_tuned_test = pd.concat([</span><br><span class="line">    df_tuned_test, dummies_Embarked, dummies_Sex, dummies_Pclass,</span><br><span class="line">    dummies_Title, dummies_Fare, dummies_Family_Size</span><br><span class="line">],</span><br><span class="line">                          axis=<span class="number">1</span>)</span><br><span class="line">df_tuned_test.drop(</span><br><span class="line">    [<span class="string">&#x27;Pclass&#x27;</span>, <span class="string">&#x27;Sex&#x27;</span>, <span class="string">&#x27;Fare&#x27;</span>, <span class="string">&#x27;Embarked&#x27;</span>, <span class="string">&#x27;Title&#x27;</span>, <span class="string">&#x27;Family_Size&#x27;</span>],</span><br><span class="line">    axis=<span class="number">1</span>,</span><br><span class="line">    inplace=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">data = ss.fit_transform(df_tuned_test[<span class="string">&#x27;Ticket&#x27;</span>].values.reshape(-<span class="number">1</span>, <span class="number">1</span>))</span><br><span class="line">df_tuned_test[<span class="string">&#x27;Ticket&#x27;</span>] = pd.DataFrame(data)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">predictions = voting.predict(df_tuned_test)</span><br><span class="line">result = pd.DataFrame(&#123;</span><br><span class="line">    <span class="string">&#x27;PassengerId&#x27;</span>: df_test[<span class="string">&#x27;PassengerId&#x27;</span>].as_matrix(),</span><br><span class="line">    <span class="string">&#x27;Survived&#x27;</span>: predictions.astype(np.int32)</span><br><span class="line">&#125;)</span><br><span class="line">result.to_csv(<span class="string">&quot;2019-08-15_泰坦尼克之灾_predictions.csv&quot;</span>, index=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure>
<pre><code>[Parallel(n_jobs=50)]: Using backend ThreadingBackend with 50 concurrent workers.
[Parallel(n_jobs=50)]: Done 100 tasks      | elapsed:    0.1s
[Parallel(n_jobs=50)]: Done 350 tasks      | elapsed:    0.1s
[Parallel(n_jobs=50)]: Done 750 out of 750 | elapsed:    0.2s finished
</code></pre><blockquote>
<p>参考：</p>
</blockquote>
<ol>
<li><a class="link"   href="https://blog.csdn.net/m0_37725003/article/details/81095555" >集成学习voting Classifier在sklearn中的实现<i class="fas fa-external-link-alt"></i></a></li>
<li><a class="link"   href="https://zhuanlan.zhihu.com/p/30538352" >Kaggle泰坦尼克号生存模型——250个特征量的融合模型，排名8%<i class="fas fa-external-link-alt"></i></a></li>
<li><a class="link"   href="https://kaggle.com/vikumsw/basic-feature-visualizations" >Basic Feature Visualizations<i class="fas fa-external-link-alt"></i></a></li>
</ol>
]]></content>
      <categories>
        <category>项目</category>
        <category>数据科学</category>
      </categories>
  </entry>
  <entry>
    <title>数据理解与清洗</title>
    <url>/%E7%BB%9F%E8%AE%A1%E4%B8%8E%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E5%85%B6%E4%BB%96/17314/</url>
    <content><![CDATA[<h2 id="数据集载入"><a href="#数据集载入" class="headerlink" title="数据集载入"></a>数据集载入</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sns</span><br><span class="line"><span class="keyword">import</span> warnings</span><br><span class="line">warnings.filterwarnings(<span class="string">&#x27;ignore&#x27;</span>)</span><br><span class="line"></span><br><span class="line">df = pd.read_csv(<span class="string">u&quot;2019-08-01_金融数据描述_data1.csv&quot;</span>,encoding = <span class="string">&#x27;gbk&#x27;</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">df.head()</span><br></pre></td></tr></table></figure>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Unnamed: 0</th>
      <th>custid</th>
      <th>trade_no</th>
      <th>bank_card_no</th>
      <th>low_volume_percent</th>
      <th>middle_volume_percent</th>
      <th>take_amount_in_later_12_month_highest</th>
      <th>trans_amount_increase_rate_lately</th>
      <th>trans_activity_month</th>
      <th>trans_activity_day</th>
      <th>...</th>
      <th>loans_max_limit</th>
      <th>loans_avg_limit</th>
      <th>consfin_credit_limit</th>
      <th>consfin_credibility</th>
      <th>consfin_org_count_current</th>
      <th>consfin_product_count</th>
      <th>consfin_max_limit</th>
      <th>consfin_avg_limit</th>
      <th>latest_query_day</th>
      <th>loans_latest_day</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>5</td>
      <td>2791858</td>
      <td>20180507115231274000000023057383</td>
      <td>卡号1</td>
      <td>0.01</td>
      <td>0.99</td>
      <td>0</td>
      <td>0.90</td>
      <td>0.55</td>
      <td>0.313</td>
      <td>...</td>
      <td>2900.0</td>
      <td>1688.0</td>
      <td>1200.0</td>
      <td>75.0</td>
      <td>1.0</td>
      <td>2.0</td>
      <td>1200.0</td>
      <td>1200.0</td>
      <td>12.0</td>
      <td>18.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>10</td>
      <td>534047</td>
      <td>20180507121002192000000023073000</td>
      <td>卡号1</td>
      <td>0.02</td>
      <td>0.94</td>
      <td>2000</td>
      <td>1.28</td>
      <td>1.00</td>
      <td>0.458</td>
      <td>...</td>
      <td>3500.0</td>
      <td>1758.0</td>
      <td>15100.0</td>
      <td>80.0</td>
      <td>5.0</td>
      <td>6.0</td>
      <td>22800.0</td>
      <td>9360.0</td>
      <td>4.0</td>
      <td>2.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>12</td>
      <td>2849787</td>
      <td>20180507125159718000000023114911</td>
      <td>卡号1</td>
      <td>0.04</td>
      <td>0.96</td>
      <td>0</td>
      <td>1.00</td>
      <td>1.00</td>
      <td>0.114</td>
      <td>...</td>
      <td>1600.0</td>
      <td>1250.0</td>
      <td>4200.0</td>
      <td>87.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>4200.0</td>
      <td>4200.0</td>
      <td>2.0</td>
      <td>6.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>13</td>
      <td>1809708</td>
      <td>20180507121358683000000388283484</td>
      <td>卡号1</td>
      <td>0.00</td>
      <td>0.96</td>
      <td>2000</td>
      <td>0.13</td>
      <td>0.57</td>
      <td>0.777</td>
      <td>...</td>
      <td>3200.0</td>
      <td>1541.0</td>
      <td>16300.0</td>
      <td>80.0</td>
      <td>5.0</td>
      <td>5.0</td>
      <td>30000.0</td>
      <td>12180.0</td>
      <td>2.0</td>
      <td>4.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>14</td>
      <td>2499829</td>
      <td>20180507115448545000000388205844</td>
      <td>卡号1</td>
      <td>0.01</td>
      <td>0.99</td>
      <td>0</td>
      <td>0.46</td>
      <td>1.00</td>
      <td>0.175</td>
      <td>...</td>
      <td>2300.0</td>
      <td>1630.0</td>
      <td>8300.0</td>
      <td>79.0</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>8400.0</td>
      <td>8250.0</td>
      <td>22.0</td>
      <td>120.0</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 90 columns</p>
</div>




<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">df.info()</span><br></pre></td></tr></table></figure>
<pre><code>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 4754 entries, 0 to 4753
Data columns (total 90 columns):
Unnamed: 0                                    4754 non-null int64
custid                                        4754 non-null int64
trade_no                                      4754 non-null object
bank_card_no                                  4754 non-null object
low_volume_percent                            4752 non-null float64
middle_volume_percent                         4752 non-null float64
take_amount_in_later_12_month_highest         4754 non-null int64
trans_amount_increase_rate_lately             4751 non-null float64
trans_activity_month                          4752 non-null float64
trans_activity_day                            4752 non-null float64
transd_mcc                                    4752 non-null float64
trans_days_interval_filter                    4746 non-null float64
trans_days_interval                           4752 non-null float64
regional_mobility                             4752 non-null float64
student_feature                               1756 non-null float64
repayment_capability                          4754 non-null int64
is_high_user                                  4754 non-null int64
number_of_trans_from_2011                     4752 non-null float64
first_transaction_time                        4752 non-null float64
historical_trans_amount                       4754 non-null int64
historical_trans_day                          4752 non-null float64
rank_trad_1_month                             4752 non-null float64
trans_amount_3_month                          4754 non-null int64
avg_consume_less_12_valid_month               4752 non-null float64
abs                                           4754 non-null int64
top_trans_count_last_1_month                  4752 non-null float64
avg_price_last_12_month                       4754 non-null int64
avg_price_top_last_12_valid_month             4650 non-null float64
reg_preference_for_trad                       4752 non-null object
trans_top_time_last_1_month                   4746 non-null float64
trans_top_time_last_6_month                   4746 non-null float64
consume_top_time_last_1_month                 4746 non-null float64
consume_top_time_last_6_month                 4746 non-null float64
cross_consume_count_last_1_month              4328 non-null float64
trans_fail_top_count_enum_last_1_month        4738 non-null float64
trans_fail_top_count_enum_last_6_month        4738 non-null float64
trans_fail_top_count_enum_last_12_month       4738 non-null float64
consume_mini_time_last_1_month                4728 non-null float64
max_cumulative_consume_later_1_month          4754 non-null int64
max_consume_count_later_6_month               4746 non-null float64
railway_consume_count_last_12_month           4742 non-null float64
pawns_auctions_trusts_consume_last_1_month    4754 non-null int64
pawns_auctions_trusts_consume_last_6_month    4754 non-null int64
jewelry_consume_count_last_6_month            4742 non-null float64
status                                        4754 non-null int64
source                                        4754 non-null object
first_transaction_day                         4752 non-null float64
trans_day_last_12_month                       4752 non-null float64
id_name                                       4478 non-null object
apply_score                                   4450 non-null float64
apply_credibility                             4450 non-null float64
query_org_count                               4450 non-null float64
query_finance_count                           4450 non-null float64
query_cash_count                              4450 non-null float64
query_sum_count                               4450 non-null float64
latest_query_time                             4450 non-null object
latest_one_month_apply                        4450 non-null float64
latest_three_month_apply                      4450 non-null float64
latest_six_month_apply                        4450 non-null float64
loans_score                                   4457 non-null float64
loans_credibility_behavior                    4457 non-null float64
loans_count                                   4457 non-null float64
loans_settle_count                            4457 non-null float64
loans_overdue_count                           4457 non-null float64
loans_org_count_behavior                      4457 non-null float64
consfin_org_count_behavior                    4457 non-null float64
loans_cash_count                              4457 non-null float64
latest_one_month_loan                         4457 non-null float64
latest_three_month_loan                       4457 non-null float64
latest_six_month_loan                         4457 non-null float64
history_suc_fee                               4457 non-null float64
history_fail_fee                              4457 non-null float64
latest_one_month_suc                          4457 non-null float64
latest_one_month_fail                         4457 non-null float64
loans_long_time                               4457 non-null float64
loans_latest_time                             4457 non-null object
loans_credit_limit                            4457 non-null float64
loans_credibility_limit                       4457 non-null float64
loans_org_count_current                       4457 non-null float64
loans_product_count                           4457 non-null float64
loans_max_limit                               4457 non-null float64
loans_avg_limit                               4457 non-null float64
consfin_credit_limit                          4457 non-null float64
consfin_credibility                           4457 non-null float64
consfin_org_count_current                     4457 non-null float64
consfin_product_count                         4457 non-null float64
consfin_max_limit                             4457 non-null float64
consfin_avg_limit                             4457 non-null float64
latest_query_day                              4450 non-null float64
loans_latest_day                              4457 non-null float64
dtypes: float64(70), int64(13), object(7)
memory usage: 3.3+ MB
</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">typedic = &#123;&#125; <span class="comment"># 类型字典</span></span><br><span class="line"><span class="keyword">for</span> name <span class="keyword">in</span> df.columns:</span><br><span class="line">    typedic[<span class="built_in">str</span>(df[name].dtype)] = typedic.get(<span class="built_in">str</span>(df[name].dtype),[])+[name]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> key,value <span class="keyword">in</span> typedic.items():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;&#123;&#125;格式共有&#123;&#125;个: &#123;&#125;&quot;</span>.<span class="built_in">format</span>(key,<span class="built_in">len</span>(value),value))</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;&quot;</span>)</span><br></pre></td></tr></table></figure>
<pre><code>int64格式共有13个: [&#39;Unnamed: 0&#39;, &#39;custid&#39;, &#39;take_amount_in_later_12_month_highest&#39;, &#39;repayment_capability&#39;, &#39;is_high_user&#39;, &#39;historical_trans_amount&#39;, &#39;trans_amount_3_month&#39;, &#39;abs&#39;, &#39;avg_price_last_12_month&#39;, &#39;max_cumulative_consume_later_1_month&#39;, &#39;pawns_auctions_trusts_consume_last_1_month&#39;, &#39;pawns_auctions_trusts_consume_last_6_month&#39;, &#39;status&#39;]

object格式共有7个: [&#39;trade_no&#39;, &#39;bank_card_no&#39;, &#39;reg_preference_for_trad&#39;, &#39;source&#39;, &#39;id_name&#39;, &#39;latest_query_time&#39;, &#39;loans_latest_time&#39;]

float64格式共有70个: [&#39;low_volume_percent&#39;, &#39;middle_volume_percent&#39;, &#39;trans_amount_increase_rate_lately&#39;, &#39;trans_activity_month&#39;, &#39;trans_activity_day&#39;, &#39;transd_mcc&#39;, &#39;trans_days_interval_filter&#39;, &#39;trans_days_interval&#39;, &#39;regional_mobility&#39;, &#39;student_feature&#39;, &#39;number_of_trans_from_2011&#39;, &#39;first_transaction_time&#39;, &#39;historical_trans_day&#39;, &#39;rank_trad_1_month&#39;, &#39;avg_consume_less_12_valid_month&#39;, &#39;top_trans_count_last_1_month&#39;, &#39;avg_price_top_last_12_valid_month&#39;, &#39;trans_top_time_last_1_month&#39;, &#39;trans_top_time_last_6_month&#39;, &#39;consume_top_time_last_1_month&#39;, &#39;consume_top_time_last_6_month&#39;, &#39;cross_consume_count_last_1_month&#39;, &#39;trans_fail_top_count_enum_last_1_month&#39;, &#39;trans_fail_top_count_enum_last_6_month&#39;, &#39;trans_fail_top_count_enum_last_12_month&#39;, &#39;consume_mini_time_last_1_month&#39;, &#39;max_consume_count_later_6_month&#39;, &#39;railway_consume_count_last_12_month&#39;, &#39;jewelry_consume_count_last_6_month&#39;, &#39;first_transaction_day&#39;, &#39;trans_day_last_12_month&#39;, &#39;apply_score&#39;, &#39;apply_credibility&#39;, &#39;query_org_count&#39;, &#39;query_finance_count&#39;, &#39;query_cash_count&#39;, &#39;query_sum_count&#39;, &#39;latest_one_month_apply&#39;, &#39;latest_three_month_apply&#39;, &#39;latest_six_month_apply&#39;, &#39;loans_score&#39;, &#39;loans_credibility_behavior&#39;, &#39;loans_count&#39;, &#39;loans_settle_count&#39;, &#39;loans_overdue_count&#39;, &#39;loans_org_count_behavior&#39;, &#39;consfin_org_count_behavior&#39;, &#39;loans_cash_count&#39;, &#39;latest_one_month_loan&#39;, &#39;latest_three_month_loan&#39;, &#39;latest_six_month_loan&#39;, &#39;history_suc_fee&#39;, &#39;history_fail_fee&#39;, &#39;latest_one_month_suc&#39;, &#39;latest_one_month_fail&#39;, &#39;loans_long_time&#39;, &#39;loans_credit_limit&#39;, &#39;loans_credibility_limit&#39;, &#39;loans_org_count_current&#39;, &#39;loans_product_count&#39;, &#39;loans_max_limit&#39;, &#39;loans_avg_limit&#39;, &#39;consfin_credit_limit&#39;, &#39;consfin_credibility&#39;, &#39;consfin_org_count_current&#39;, &#39;consfin_product_count&#39;, &#39;consfin_max_limit&#39;, &#39;consfin_avg_limit&#39;, &#39;latest_query_day&#39;, &#39;loans_latest_day&#39;]
</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">df.columns</span><br></pre></td></tr></table></figure>
<pre><code>Index([&#39;Unnamed: 0&#39;, &#39;custid&#39;, &#39;trade_no&#39;, &#39;bank_card_no&#39;,
       &#39;low_volume_percent&#39;, &#39;middle_volume_percent&#39;,
       &#39;take_amount_in_later_12_month_highest&#39;,
       &#39;trans_amount_increase_rate_lately&#39;, &#39;trans_activity_month&#39;,
       &#39;trans_activity_day&#39;, &#39;transd_mcc&#39;, &#39;trans_days_interval_filter&#39;,
       &#39;trans_days_interval&#39;, &#39;regional_mobility&#39;, &#39;student_feature&#39;,
       &#39;repayment_capability&#39;, &#39;is_high_user&#39;, &#39;number_of_trans_from_2011&#39;,
       &#39;first_transaction_time&#39;, &#39;historical_trans_amount&#39;,
       &#39;historical_trans_day&#39;, &#39;rank_trad_1_month&#39;, &#39;trans_amount_3_month&#39;,
       &#39;avg_consume_less_12_valid_month&#39;, &#39;abs&#39;,
       &#39;top_trans_count_last_1_month&#39;, &#39;avg_price_last_12_month&#39;,
       &#39;avg_price_top_last_12_valid_month&#39;, &#39;reg_preference_for_trad&#39;,
       &#39;trans_top_time_last_1_month&#39;, &#39;trans_top_time_last_6_month&#39;,
       &#39;consume_top_time_last_1_month&#39;, &#39;consume_top_time_last_6_month&#39;,
       &#39;cross_consume_count_last_1_month&#39;,
       &#39;trans_fail_top_count_enum_last_1_month&#39;,
       &#39;trans_fail_top_count_enum_last_6_month&#39;,
       &#39;trans_fail_top_count_enum_last_12_month&#39;,
       &#39;consume_mini_time_last_1_month&#39;,
       &#39;max_cumulative_consume_later_1_month&#39;,
       &#39;max_consume_count_later_6_month&#39;,
       &#39;railway_consume_count_last_12_month&#39;,
       &#39;pawns_auctions_trusts_consume_last_1_month&#39;,
       &#39;pawns_auctions_trusts_consume_last_6_month&#39;,
       &#39;jewelry_consume_count_last_6_month&#39;, &#39;status&#39;, &#39;source&#39;,
       &#39;first_transaction_day&#39;, &#39;trans_day_last_12_month&#39;, &#39;id_name&#39;,
       &#39;apply_score&#39;, &#39;apply_credibility&#39;, &#39;query_org_count&#39;,
       &#39;query_finance_count&#39;, &#39;query_cash_count&#39;, &#39;query_sum_count&#39;,
       &#39;latest_query_time&#39;, &#39;latest_one_month_apply&#39;,
       &#39;latest_three_month_apply&#39;, &#39;latest_six_month_apply&#39;, &#39;loans_score&#39;,
       &#39;loans_credibility_behavior&#39;, &#39;loans_count&#39;, &#39;loans_settle_count&#39;,
       &#39;loans_overdue_count&#39;, &#39;loans_org_count_behavior&#39;,
       &#39;consfin_org_count_behavior&#39;, &#39;loans_cash_count&#39;,
       &#39;latest_one_month_loan&#39;, &#39;latest_three_month_loan&#39;,
       &#39;latest_six_month_loan&#39;, &#39;history_suc_fee&#39;, &#39;history_fail_fee&#39;,
       &#39;latest_one_month_suc&#39;, &#39;latest_one_month_fail&#39;, &#39;loans_long_time&#39;,
       &#39;loans_latest_time&#39;, &#39;loans_credit_limit&#39;, &#39;loans_credibility_limit&#39;,
       &#39;loans_org_count_current&#39;, &#39;loans_product_count&#39;, &#39;loans_max_limit&#39;,
       &#39;loans_avg_limit&#39;, &#39;consfin_credit_limit&#39;, &#39;consfin_credibility&#39;,
       &#39;consfin_org_count_current&#39;, &#39;consfin_product_count&#39;,
       &#39;consfin_max_limit&#39;, &#39;consfin_avg_limit&#39;, &#39;latest_query_day&#39;,
       &#39;loans_latest_day&#39;],
      dtype=&#39;object&#39;)
</code></pre><h2 id="可视化各特征"><a href="#可视化各特征" class="headerlink" title="可视化各特征"></a>可视化各特征</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">name_list_1 = [</span><br><span class="line">       <span class="string">&#x27;low_volume_percent&#x27;</span>, <span class="string">&#x27;middle_volume_percent&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;take_amount_in_later_12_month_highest&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;trans_amount_increase_rate_lately&#x27;</span>, <span class="string">&#x27;trans_activity_month&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;trans_activity_day&#x27;</span>, <span class="string">&#x27;transd_mcc&#x27;</span>, <span class="string">&#x27;trans_days_interval_filter&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;trans_days_interval&#x27;</span>, <span class="string">&#x27;regional_mobility&#x27;</span>, <span class="string">&#x27;student_feature&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;repayment_capability&#x27;</span>, <span class="string">&#x27;is_high_user&#x27;</span>, <span class="string">&#x27;number_of_trans_from_2011&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;first_transaction_time&#x27;</span></span><br><span class="line">       ]</span><br><span class="line">name_list_2 = [</span><br><span class="line">       <span class="string">&#x27;historical_trans_amount&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;historical_trans_day&#x27;</span>, <span class="string">&#x27;rank_trad_1_month&#x27;</span>, <span class="string">&#x27;trans_amount_3_month&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;avg_consume_less_12_valid_month&#x27;</span>, <span class="string">&#x27;abs&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;top_trans_count_last_1_month&#x27;</span>, <span class="string">&#x27;avg_price_last_12_month&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;avg_price_top_last_12_valid_month&#x27;</span>, <span class="string">&#x27;reg_preference_for_trad&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;trans_top_time_last_1_month&#x27;</span>, <span class="string">&#x27;trans_top_time_last_6_month&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;consume_top_time_last_1_month&#x27;</span>, <span class="string">&#x27;consume_top_time_last_6_month&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;cross_consume_count_last_1_month&#x27;</span>,</span><br><span class="line">       ]</span><br><span class="line">name_list_3 = [</span><br><span class="line">       <span class="string">&#x27;trans_fail_top_count_enum_last_1_month&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;trans_fail_top_count_enum_last_6_month&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;trans_fail_top_count_enum_last_12_month&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;consume_mini_time_last_1_month&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;max_cumulative_consume_later_1_month&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;max_consume_count_later_6_month&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;railway_consume_count_last_12_month&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;pawns_auctions_trusts_consume_last_1_month&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;pawns_auctions_trusts_consume_last_6_month&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;jewelry_consume_count_last_6_month&#x27;</span>, </span><br><span class="line">       <span class="string">&#x27;first_transaction_day&#x27;</span>, <span class="string">&#x27;trans_day_last_12_month&#x27;</span>, <span class="string">&#x27;apply_score&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;apply_credibility&#x27;</span>, <span class="string">&#x27;query_org_count&#x27;</span>,</span><br><span class="line">       ]</span><br><span class="line">name_list_4 = [</span><br><span class="line">      <span class="string">&#x27;query_finance_count&#x27;</span>, <span class="string">&#x27;query_cash_count&#x27;</span>, <span class="string">&#x27;query_sum_count&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;latest_query_time&#x27;</span>, <span class="string">&#x27;latest_one_month_apply&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;latest_three_month_apply&#x27;</span>, <span class="string">&#x27;latest_six_month_apply&#x27;</span>, <span class="string">&#x27;loans_score&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;loans_credibility_behavior&#x27;</span>, <span class="string">&#x27;loans_count&#x27;</span>, <span class="string">&#x27;loans_settle_count&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;loans_overdue_count&#x27;</span>, <span class="string">&#x27;loans_org_count_behavior&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;consfin_org_count_behavior&#x27;</span>, <span class="string">&#x27;loans_cash_count&#x27;</span>,</span><br><span class="line">       ]</span><br><span class="line">name_list_5 = [</span><br><span class="line">      <span class="string">&#x27;latest_one_month_loan&#x27;</span>, <span class="string">&#x27;latest_three_month_loan&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;latest_six_month_loan&#x27;</span>, <span class="string">&#x27;history_suc_fee&#x27;</span>, <span class="string">&#x27;history_fail_fee&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;latest_one_month_suc&#x27;</span>, <span class="string">&#x27;latest_one_month_fail&#x27;</span>, <span class="string">&#x27;loans_long_time&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;loans_latest_time&#x27;</span>, <span class="string">&#x27;loans_credit_limit&#x27;</span>, <span class="string">&#x27;loans_credibility_limit&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;loans_org_count_current&#x27;</span>, <span class="string">&#x27;loans_product_count&#x27;</span>, <span class="string">&#x27;loans_max_limit&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;loans_avg_limit&#x27;</span>,</span><br><span class="line">       ]</span><br><span class="line">name_list_6 = [</span><br><span class="line">      <span class="string">&#x27;consfin_credit_limit&#x27;</span>, <span class="string">&#x27;consfin_credibility&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;consfin_org_count_current&#x27;</span>, <span class="string">&#x27;consfin_product_count&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;consfin_max_limit&#x27;</span>, <span class="string">&#x27;consfin_avg_limit&#x27;</span>, <span class="string">&#x27;latest_query_day&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;loans_latest_day&#x27;</span></span><br><span class="line">       ]</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">f, ax = plt.subplots(<span class="number">5</span>, <span class="number">3</span>, figsize=(<span class="number">20</span>, <span class="number">20</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i,name <span class="keyword">in</span> <span class="built_in">enumerate</span>(name_list_1):     </span><br><span class="line">    sns.countplot(data=df, x=name, hue=<span class="string">&#x27;status&#x27;</span>,  ax=ax[i // <span class="number">3</span>][i % <span class="number">3</span>])</span><br><span class="line">    </span><br><span class="line">plt.savefig(<span class="string">&quot;../img/2019-08-01_金融数据描述_1.png&quot;</span>)</span><br><span class="line">plt.close()</span><br></pre></td></tr></table></figure>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/img/2019-08-01_金融数据描述_1.png"
                      alt=""
                ></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">f, ax = plt.subplots(<span class="number">5</span>, <span class="number">3</span>, figsize=(<span class="number">20</span>, <span class="number">20</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i,name <span class="keyword">in</span> <span class="built_in">enumerate</span>(name_list_2):     </span><br><span class="line">    sns.countplot(data=df, x=name, hue=<span class="string">&#x27;status&#x27;</span>,  ax=ax[i // <span class="number">3</span>][i % <span class="number">3</span>])</span><br><span class="line">    </span><br><span class="line">plt.savefig(<span class="string">&quot;../img/2019-08-01_金融数据描述_2.png&quot;</span>)</span><br><span class="line">plt.close()</span><br></pre></td></tr></table></figure>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/img/2019-08-01_金融数据描述_2.png"
                      alt=""
                ></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">f, ax = plt.subplots(<span class="number">5</span>, <span class="number">3</span>, figsize=(<span class="number">20</span>, <span class="number">20</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i,name <span class="keyword">in</span> <span class="built_in">enumerate</span>(name_list_3):     </span><br><span class="line">    sns.countplot(data=df, x=name, hue=<span class="string">&#x27;status&#x27;</span>,  ax=ax[i // <span class="number">3</span>][i % <span class="number">3</span>])</span><br><span class="line">    </span><br><span class="line">plt.savefig(<span class="string">&quot;../img/2019-08-01_金融数据描述_3.png&quot;</span>)</span><br><span class="line">plt.close()</span><br></pre></td></tr></table></figure>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/img/2019-08-01_金融数据描述_3.png"
                      alt=""
                ></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">f, ax = plt.subplots(<span class="number">5</span>, <span class="number">3</span>, figsize=(<span class="number">20</span>, <span class="number">20</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i,name <span class="keyword">in</span> <span class="built_in">enumerate</span>(name_list_4):     </span><br><span class="line">    sns.countplot(data=df, x=name, hue=<span class="string">&#x27;status&#x27;</span>,  ax=ax[i // <span class="number">3</span>][i % <span class="number">3</span>])</span><br><span class="line"></span><br><span class="line">plt.savefig(<span class="string">&quot;../img/2019-08-01_金融数据描述_4.png&quot;</span>)</span><br><span class="line">plt.close()</span><br></pre></td></tr></table></figure>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/img/2019-08-01_金融数据描述_4.png"
                      alt=""
                ></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">f, ax = plt.subplots(<span class="number">5</span>, <span class="number">3</span>, figsize=(<span class="number">20</span>, <span class="number">20</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i,name <span class="keyword">in</span> <span class="built_in">enumerate</span>(name_list_5):     </span><br><span class="line">    sns.countplot(data=df, x=name, hue=<span class="string">&#x27;status&#x27;</span>,  ax=ax[i // <span class="number">3</span>][i % <span class="number">3</span>])</span><br><span class="line"></span><br><span class="line">plt.savefig(<span class="string">&quot;../img/2019-08-01_金融数据描述_5.png&quot;</span>)</span><br><span class="line">plt.close()</span><br></pre></td></tr></table></figure>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/img/2019-08-01_金融数据描述_5.png"
                      alt=""
                ></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">f, ax = plt.subplots(<span class="number">3</span>, <span class="number">3</span>, figsize=(<span class="number">20</span>, <span class="number">20</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i,name <span class="keyword">in</span> <span class="built_in">enumerate</span>(name_list_6):     </span><br><span class="line">    sns.countplot(data=df, x=name, hue=<span class="string">&#x27;status&#x27;</span>,  ax=ax[i // <span class="number">3</span>][i % <span class="number">3</span>])</span><br><span class="line"></span><br><span class="line">plt.savefig(<span class="string">&quot;../img/2019-08-01_金融数据描述_6.png&quot;</span>)</span><br><span class="line">plt.close()</span><br></pre></td></tr></table></figure>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/img/2019-08-01_金融数据描述_6.png"
                      alt=""
                ></p>
<p>从以上分布图可以看出，连续型数据的特征基本上符合正态分布，指数分布或者泊松分布等，但在[‘rank_trad_1_month’,’trans_top_time_last_1_month’,’trans_top_time_last_6_month’,’consume_top_time_last_1_month’,’consume_top_time_last_6_month’,’loans_credit_limit’,’loans_credibility_limit’,’loans_max_limit’,’consfin_credibility’]这几个特征上出现数据于最左最右位置会出现骤升。从业务层面考虑，暂时未得出满意结论，待确认特征取数逻辑后再分析。<br>  还有，’avg_price_last_12_month’,’consfin_credit_limit’这两个特征虽然是连续型特征，但由图上看，出现标签分段，考虑继续探索，查看是否存在分段。</p>
<p>  另外几个离散型特征，如’reg_preference_for_trad’,’regional_mobility’等，在标签status上区别明显，感觉是对模型有用的特征。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">sns.boxplot(y = <span class="string">&#x27;consfin_credit_limit&#x27;</span>,x = <span class="string">&#x27;status&#x27;</span>,data = df)</span><br><span class="line"></span><br><span class="line">plt.savefig(<span class="string">&quot;../img/2019-08-01_金融数据描述_7.png&quot;</span>)</span><br><span class="line">plt.close()</span><br></pre></td></tr></table></figure>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/img/2019-08-01_金融数据描述_7.png"
                      alt=""
                ></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">sns.boxplot(y = <span class="string">&#x27;avg_price_last_12_month&#x27;</span>,x = <span class="string">&#x27;status&#x27;</span>,data = df)</span><br><span class="line"></span><br><span class="line">plt.savefig(<span class="string">&quot;../img/2019-08-01_金融数据描述_8.png&quot;</span>)</span><br><span class="line">plt.close()</span><br></pre></td></tr></table></figure>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/img/2019-08-01_金融数据描述_8.png"
                      alt=""
                ></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">sns.boxplot(y = <span class="string">&#x27;rank_trad_1_month&#x27;</span>,x = <span class="string">&#x27;status&#x27;</span>,data = df)</span><br><span class="line"></span><br><span class="line">plt.savefig(<span class="string">&quot;../img/2019-08-01_金融数据描述_9.png&quot;</span>)</span><br><span class="line">plt.close()</span><br></pre></td></tr></table></figure>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/img/2019-08-01_金融数据描述_9.png"
                      alt=""
                ></p>
<h2 id="数据预处理"><a href="#数据预处理" class="headerlink" title="数据预处理"></a>数据预处理</h2><h3 id="为什么需要处理缺失值？"><a href="#为什么需要处理缺失值？" class="headerlink" title="为什么需要处理缺失值？"></a>为什么需要处理缺失值？</h3><p>不同缺失值的处理方式在一定程度上影响了特征提取、建模和模型训练缺失值太多，可以尝试着直接删除，如果不删除，处理不好，可能会引来噪声缺失值较少，少于某一缺失率时，直接删除又会带来信息的损失，此时可以采取适当的填充方式。</p>
<h3 id="缺失率大于多少时应当抛弃该特征？"><a href="#缺失率大于多少时应当抛弃该特征？" class="headerlink" title="缺失率大于多少时应当抛弃该特征？"></a>缺失率大于多少时应当抛弃该特征？</h3><p>一般为70%,但是还要分析该特征与训练目标的重要程度</p>
<h3 id="缺失值填充有哪些方法？"><a href="#缺失值填充有哪些方法？" class="headerlink" title="缺失值填充有哪些方法？"></a>缺失值填充有哪些方法？</h3><h4 id="插值填充"><a href="#插值填充" class="headerlink" title="插值填充"></a>插值填充</h4><ul>
<li>特殊值</li>
<li>均值、加权均值（缺点：降低数据的方差，即随机性）</li>
<li>中位数</li>
<li>众数（多用在类别变数）</li>
<li>…</li>
</ul>
<h4 id="插补法"><a href="#插补法" class="headerlink" title="插补法"></a>插补法</h4><ul>
<li>随机插补法：从总体中随机抽取某个样本代替缺失样本</li>
<li>多重插补法：通过变量之间的关系对缺失数据进行预测，利用蒙特卡洛方法生成多个完整的数据集，在对这些数据集进行分析，最后对分析结果进行汇总处理</li>
<li>热平台插补：指在非缺失数据集中找到一个与缺失值所在样本相似的样本（匹配样本），利用其中的观测值对缺失值进行插补</li>
<li>拉格朗日差值法</li>
<li>牛顿插值法</li>
</ul>
<blockquote>
<p>列的维度上，如果是连续性，就使用平均值插补，如果是离散性，就使用众数来插补; 行的维度上，引入预测模型，可考虑辅助回归，通过变量间的关系来预测缺失数据    </p>
</blockquote>
<h4 id="丢弃"><a href="#丢弃" class="headerlink" title="丢弃"></a>丢弃</h4><p>如果行和列的缺失达到一定的比例，建议放弃整行或整列数据</p>
<h4 id="模型法"><a href="#模型法" class="headerlink" title="模型法"></a>模型法</h4><p>更多时候我们会基于已有的其他字段，将缺失字段作为目标变量进行预测，从而得到最为可能的补全值。如果带有缺失值的列是数值变量，采用回归模型补全；如果是分类变量，则采用分类模型补全</p>
<h4 id="专家补全"><a href="#专家补全" class="headerlink" title="专家补全"></a>专家补全</h4><p>对于少量且具有重要意义的数据记录，专家补足也是非常重要的一种途径</p>
<h4 id="不处理"><a href="#不处理" class="headerlink" title="不处理"></a>不处理</h4><ul>
<li>当缺失值对模型的影响不大时，直接在包含空值的数据上进行数据挖掘</li>
<li>很多模型对于缺失值有容忍度或灵活的处理方法，因此在预处理阶段可以不做处理</li>
<li>树模型对于缺失值的敏感度较低，大部分时候可以在数据有缺失时使用</li>
<li>涉及到距离度量(distance measurement)时，如计算两个点之间的距离，缺失数据就变得比较重要。因为涉及到“距离”这个概念，那么缺失值处理不当就会导致效果很差，如K近邻算法(KNN)和支持向量机(SVM)</li>
<li>线性模型的代价函数(loss function)往往涉及到距离(distance)的计算，计算预测值和真实值之间的差别，这容易导致对缺失值敏感</li>
<li>神经网络的鲁棒性强，对于缺失数据不是非常敏感，但一般没有那么多数据可供使用。</li>
<li>贝叶斯模型对于缺失数据也比较稳定，数据量很小的时候首推贝叶斯模型。</li>
</ul>
<h3 id="时间序列"><a href="#时间序列" class="headerlink" title="时间序列"></a>时间序列</h3><p>依情况处理，主要看单独时间字段或时间字段与某些字段的组合属性对目标分析的作用程度，再采取相应方式来进行特征提取比如：可以将时间字段与其他字段属性进行组合，分析每天、每周、每月或特点星期几等情况下特征数据频率信息，总的来说还是得看分析得目标</p>
<p>通常看到的情况是，除了考虑时间序列这个单独的特征外，往往是将时间序列和具有时间属性的特征联合起来分析，查看组合特征的对所需要分析的内容的影响</p>
<h3 id="异常值和离群值"><a href="#异常值和离群值" class="headerlink" title="异常值和离群值"></a>异常值和离群值</h3><p>大多数的参数统计数值如均值、标准差、相关系数等，以及基于这些参数的统计分析均对离群值高度敏感。因此离群值的存在会对数据分析造成极大影响</p>
<h4 id="判断"><a href="#判断" class="headerlink" title="判断"></a>判断</h4><ul>
<li>用分位数搞定，看跟平均值的偏差超过几倍标准差</li>
<li>LOF算法</li>
<li>describe的时候加一个箱型图</li>
</ul>
<h4 id="处理"><a href="#处理" class="headerlink" title="处理"></a>处理</h4><ul>
<li>对数转换</li>
<li>缩尾</li>
<li>截尾</li>
<li>插值</li>
</ul>
<h3 id="无用特征删除"><a href="#无用特征删除" class="headerlink" title="无用特征删除"></a>无用特征删除</h3><p>将所有object格式的改为数值格式，其中有部分无用特征则可直接删除</p>
<p>由上可看出需处理包含：[‘trade_no’, ‘bank_card_no’, ‘reg_preference_for_trad’, ‘source’, ‘id_name’, ‘latest_query_time’, ‘loans_latest_time’]</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">df[<span class="string">&#x27;source&#x27;</span>].value_counts(dropna = <span class="literal">False</span>)</span><br></pre></td></tr></table></figure>
<pre><code>xs    4754
Name: source, dtype: int64
</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">to_drop = [<span class="string">&#x27;trade_no&#x27;</span>, <span class="string">&#x27;bank_card_no&#x27;</span>, <span class="string">&#x27;student_feature&#x27;</span>,<span class="string">&#x27;cross_consume_count_last_1_month&#x27;</span>, <span class="string">&#x27;id_name&#x27;</span>, <span class="string">&#x27;source&#x27;</span>]</span><br><span class="line">df = df.drop(to_drop, axis=<span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<h3 id="缺失填充"><a href="#缺失填充" class="headerlink" title="缺失填充"></a>缺失填充</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">df[<span class="string">&#x27;reg_preference_for_trad&#x27;</span>].value_counts(dropna = <span class="literal">False</span>)</span><br></pre></td></tr></table></figure>
<pre><code>一线城市    3403
三线城市    1064
境外       150
二线城市     131
其他城市       4
NaN        2
Name: reg_preference_for_trad, dtype: int64
</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">df[<span class="string">&#x27;reg_preference_for_trad&#x27;</span>].fillna(<span class="string">&#x27;其他城市&#x27;</span>,inplace = <span class="literal">True</span>)</span><br><span class="line">df[<span class="string">&#x27;reg_preference_for_trad&#x27;</span>].value_counts(dropna = <span class="literal">False</span>)</span><br></pre></td></tr></table></figure>
<pre><code>一线城市    3403
三线城市    1064
境外       150
二线城市     131
其他城市       6
Name: reg_preference_for_trad, dtype: int64
</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">df.isnull().<span class="built_in">sum</span>().sort_values(ascending = <span class="literal">False</span>)</span><br></pre></td></tr></table></figure>
<pre><code>latest_three_month_apply                      304
query_finance_count                           304
latest_six_month_apply                        304
latest_query_time                             304
query_sum_count                               304
query_cash_count                              304
latest_one_month_apply                        304
query_org_count                               304
apply_credibility                             304
apply_score                                   304
latest_query_day                              304
latest_three_month_loan                       297
loans_score                                   297
loans_credibility_behavior                    297
loans_count                                   297
loans_settle_count                            297
loans_overdue_count                           297
loans_org_count_behavior                      297
consfin_org_count_behavior                    297
loans_cash_count                              297
latest_one_month_loan                         297
loans_latest_day                              297
latest_six_month_loan                         297
loans_product_count                           297
history_suc_fee                               297
consfin_avg_limit                             297
consfin_product_count                         297
consfin_org_count_current                     297
consfin_credibility                           297
consfin_credit_limit                          297
                                             ... 
trans_amount_increase_rate_lately               3
trans_days_interval                             2
regional_mobility                               2
number_of_trans_from_2011                       2
middle_volume_percent                           2
transd_mcc                                      2
trans_activity_day                              2
trans_activity_month                            2
low_volume_percent                              2
historical_trans_day                            2
first_transaction_time                          2
first_transaction_day                           2
rank_trad_1_month                               2
avg_consume_less_12_valid_month                 2
trans_day_last_12_month                         2
top_trans_count_last_1_month                    2
max_cumulative_consume_later_1_month            0
custid                                          0
status                                          0
take_amount_in_later_12_month_highest           0
pawns_auctions_trusts_consume_last_6_month      0
pawns_auctions_trusts_consume_last_1_month      0
reg_preference_for_trad                         0
historical_trans_amount                         0
avg_price_last_12_month                         0
abs                                             0
repayment_capability                            0
is_high_user                                    0
trans_amount_3_month                            0
Unnamed: 0                                      0
Length: 84, dtype: int64
</code></pre><h2 id="特征间探索"><a href="#特征间探索" class="headerlink" title="特征间探索"></a>特征间探索</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">corr = df[:].corr()</span><br><span class="line">plt.figure(figsize=(<span class="number">15</span>, <span class="number">10</span>))</span><br><span class="line">sb.heatmap(corr)</span><br><span class="line">plt.savefig(<span class="string">&quot;../img/2019-08-01_金融数据描述_10.png&quot;</span>)</span><br><span class="line">plt.close()</span><br></pre></td></tr></table></figure>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/img/2019-08-01_金融数据描述_10.png"
                      alt=""
                ></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">corr</span><br></pre></td></tr></table></figure>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Unnamed: 0</th>
      <th>custid</th>
      <th>low_volume_percent</th>
      <th>middle_volume_percent</th>
      <th>take_amount_in_later_12_month_highest</th>
      <th>trans_amount_increase_rate_lately</th>
      <th>trans_activity_month</th>
      <th>trans_activity_day</th>
      <th>transd_mcc</th>
      <th>trans_days_interval_filter</th>
      <th>...</th>
      <th>loans_max_limit</th>
      <th>loans_avg_limit</th>
      <th>consfin_credit_limit</th>
      <th>consfin_credibility</th>
      <th>consfin_org_count_current</th>
      <th>consfin_product_count</th>
      <th>consfin_max_limit</th>
      <th>consfin_avg_limit</th>
      <th>latest_query_day</th>
      <th>loans_latest_day</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Unnamed: 0</th>
      <td>1.000000</td>
      <td>-0.007628</td>
      <td>0.002861</td>
      <td>-0.022844</td>
      <td>-0.019728</td>
      <td>0.014076</td>
      <td>-0.021715</td>
      <td>-0.001027</td>
      <td>-0.006975</td>
      <td>-0.021338</td>
      <td>...</td>
      <td>0.012189</td>
      <td>-0.004457</td>
      <td>0.005967</td>
      <td>0.007746</td>
      <td>0.012062</td>
      <td>0.009583</td>
      <td>0.004020</td>
      <td>0.008860</td>
      <td>0.020774</td>
      <td>0.026387</td>
    </tr>
    <tr>
      <th>custid</th>
      <td>-0.007628</td>
      <td>1.000000</td>
      <td>0.031430</td>
      <td>0.090599</td>
      <td>-0.030282</td>
      <td>-0.001299</td>
      <td>-0.118811</td>
      <td>-0.216062</td>
      <td>-0.147485</td>
      <td>0.144513</td>
      <td>...</td>
      <td>-0.236185</td>
      <td>-0.152017</td>
      <td>-0.093180</td>
      <td>-0.041979</td>
      <td>-0.129297</td>
      <td>-0.139197</td>
      <td>-0.115324</td>
      <td>-0.076767</td>
      <td>0.099208</td>
      <td>0.098628</td>
    </tr>
    <tr>
      <th>low_volume_percent</th>
      <td>0.002861</td>
      <td>0.031430</td>
      <td>1.000000</td>
      <td>-0.151504</td>
      <td>-0.066047</td>
      <td>0.005331</td>
      <td>0.023895</td>
      <td>-0.093754</td>
      <td>-0.095780</td>
      <td>0.054680</td>
      <td>...</td>
      <td>-0.140173</td>
      <td>-0.128145</td>
      <td>-0.083987</td>
      <td>-0.032534</td>
      <td>-0.074851</td>
      <td>-0.067226</td>
      <td>-0.096647</td>
      <td>-0.094627</td>
      <td>0.069301</td>
      <td>0.047500</td>
    </tr>
    <tr>
      <th>middle_volume_percent</th>
      <td>-0.022844</td>
      <td>0.090599</td>
      <td>-0.151504</td>
      <td>1.000000</td>
      <td>-0.135050</td>
      <td>0.001608</td>
      <td>-0.031743</td>
      <td>-0.055491</td>
      <td>-0.094736</td>
      <td>0.010146</td>
      <td>...</td>
      <td>-0.145599</td>
      <td>-0.110230</td>
      <td>-0.153241</td>
      <td>0.003266</td>
      <td>-0.007761</td>
      <td>-0.014847</td>
      <td>-0.169575</td>
      <td>-0.174126</td>
      <td>-0.001628</td>
      <td>-0.003253</td>
    </tr>
    <tr>
      <th>take_amount_in_later_12_month_highest</th>
      <td>-0.019728</td>
      <td>-0.030282</td>
      <td>-0.066047</td>
      <td>-0.135050</td>
      <td>1.000000</td>
      <td>-0.006699</td>
      <td>0.060997</td>
      <td>0.112582</td>
      <td>0.181435</td>
      <td>-0.055318</td>
      <td>...</td>
      <td>0.071798</td>
      <td>0.038880</td>
      <td>0.039328</td>
      <td>0.015841</td>
      <td>0.021387</td>
      <td>0.021337</td>
      <td>0.054433</td>
      <td>0.040634</td>
      <td>-0.000570</td>
      <td>-0.010231</td>
    </tr>
    <tr>
      <th>trans_amount_increase_rate_lately</th>
      <td>0.014076</td>
      <td>-0.001299</td>
      <td>0.005331</td>
      <td>0.001608</td>
      <td>-0.006699</td>
      <td>1.000000</td>
      <td>0.015389</td>
      <td>-0.003061</td>
      <td>-0.011644</td>
      <td>0.013220</td>
      <td>...</td>
      <td>0.007119</td>
      <td>0.000119</td>
      <td>0.028868</td>
      <td>0.006174</td>
      <td>-0.019901</td>
      <td>-0.019603</td>
      <td>0.007123</td>
      <td>0.040865</td>
      <td>-0.001457</td>
      <td>0.027221</td>
    </tr>
    <tr>
      <th>trans_activity_month</th>
      <td>-0.021715</td>
      <td>-0.118811</td>
      <td>0.023895</td>
      <td>-0.031743</td>
      <td>0.060997</td>
      <td>0.015389</td>
      <td>1.000000</td>
      <td>0.063373</td>
      <td>0.069272</td>
      <td>-0.091630</td>
      <td>...</td>
      <td>0.061847</td>
      <td>0.037275</td>
      <td>-0.036822</td>
      <td>-0.000400</td>
      <td>0.003332</td>
      <td>0.005534</td>
      <td>-0.022388</td>
      <td>-0.043764</td>
      <td>-0.024161</td>
      <td>-0.014880</td>
    </tr>
    <tr>
      <th>trans_activity_day</th>
      <td>-0.001027</td>
      <td>-0.216062</td>
      <td>-0.093754</td>
      <td>-0.055491</td>
      <td>0.112582</td>
      <td>-0.003061</td>
      <td>0.063373</td>
      <td>1.000000</td>
      <td>0.674547</td>
      <td>-0.491304</td>
      <td>...</td>
      <td>0.445155</td>
      <td>0.202242</td>
      <td>0.096622</td>
      <td>0.181157</td>
      <td>0.553486</td>
      <td>0.551140</td>
      <td>0.224509</td>
      <td>0.085255</td>
      <td>-0.188965</td>
      <td>-0.299110</td>
    </tr>
    <tr>
      <th>transd_mcc</th>
      <td>-0.006975</td>
      <td>-0.147485</td>
      <td>-0.095780</td>
      <td>-0.094736</td>
      <td>0.181435</td>
      <td>-0.011644</td>
      <td>0.069272</td>
      <td>0.674547</td>
      <td>1.000000</td>
      <td>-0.407126</td>
      <td>...</td>
      <td>0.313715</td>
      <td>0.165959</td>
      <td>0.066250</td>
      <td>0.131905</td>
      <td>0.371197</td>
      <td>0.374660</td>
      <td>0.156951</td>
      <td>0.057663</td>
      <td>-0.120330</td>
      <td>-0.211593</td>
    </tr>
    <tr>
      <th>trans_days_interval_filter</th>
      <td>-0.021338</td>
      <td>0.144513</td>
      <td>0.054680</td>
      <td>0.010146</td>
      <td>-0.055318</td>
      <td>0.013220</td>
      <td>-0.091630</td>
      <td>-0.491304</td>
      <td>-0.407126</td>
      <td>1.000000</td>
      <td>...</td>
      <td>-0.222970</td>
      <td>-0.118522</td>
      <td>-0.055205</td>
      <td>-0.142221</td>
      <td>-0.287044</td>
      <td>-0.286212</td>
      <td>-0.111345</td>
      <td>-0.045801</td>
      <td>0.069560</td>
      <td>0.163433</td>
    </tr>
    <tr>
      <th>trans_days_interval</th>
      <td>-0.006297</td>
      <td>0.200145</td>
      <td>0.062421</td>
      <td>-0.000383</td>
      <td>-0.053329</td>
      <td>0.000521</td>
      <td>-0.151579</td>
      <td>-0.542118</td>
      <td>-0.447308</td>
      <td>0.690819</td>
      <td>...</td>
      <td>-0.271875</td>
      <td>-0.163049</td>
      <td>-0.034716</td>
      <td>-0.102588</td>
      <td>-0.285654</td>
      <td>-0.286510</td>
      <td>-0.105000</td>
      <td>-0.024740</td>
      <td>0.102343</td>
      <td>0.178628</td>
    </tr>
    <tr>
      <th>regional_mobility</th>
      <td>0.011694</td>
      <td>-0.134926</td>
      <td>-0.042939</td>
      <td>0.009671</td>
      <td>0.024089</td>
      <td>-0.026960</td>
      <td>-0.219911</td>
      <td>0.143697</td>
      <td>0.114936</td>
      <td>-0.124350</td>
      <td>...</td>
      <td>0.099696</td>
      <td>0.062712</td>
      <td>0.092796</td>
      <td>0.054084</td>
      <td>0.147120</td>
      <td>0.145322</td>
      <td>0.091150</td>
      <td>0.079245</td>
      <td>-0.051839</td>
      <td>-0.107139</td>
    </tr>
    <tr>
      <th>student_feature</th>
      <td>0.014227</td>
      <td>0.026639</td>
      <td>-0.007327</td>
      <td>0.018852</td>
      <td>-0.013524</td>
      <td>-0.002682</td>
      <td>0.004966</td>
      <td>0.011653</td>
      <td>0.005921</td>
      <td>-0.005412</td>
      <td>...</td>
      <td>0.021982</td>
      <td>0.007634</td>
      <td>0.001860</td>
      <td>0.009800</td>
      <td>0.020368</td>
      <td>0.017777</td>
      <td>0.000096</td>
      <td>0.004799</td>
      <td>-0.020274</td>
      <td>-0.031571</td>
    </tr>
    <tr>
      <th>repayment_capability</th>
      <td>-0.006726</td>
      <td>-0.026254</td>
      <td>-0.041522</td>
      <td>-0.178436</td>
      <td>0.055174</td>
      <td>-0.000572</td>
      <td>0.024737</td>
      <td>0.189494</td>
      <td>0.115434</td>
      <td>-0.048998</td>
      <td>...</td>
      <td>0.128100</td>
      <td>0.066266</td>
      <td>0.052900</td>
      <td>0.007068</td>
      <td>0.046341</td>
      <td>0.046471</td>
      <td>0.063720</td>
      <td>0.052120</td>
      <td>-0.020964</td>
      <td>-0.049951</td>
    </tr>
    <tr>
      <th>is_high_user</th>
      <td>-0.002995</td>
      <td>-0.004640</td>
      <td>0.018546</td>
      <td>-0.029172</td>
      <td>0.068763</td>
      <td>-0.002017</td>
      <td>0.044231</td>
      <td>-0.034766</td>
      <td>-0.080892</td>
      <td>0.146678</td>
      <td>...</td>
      <td>-0.006073</td>
      <td>0.014809</td>
      <td>0.001286</td>
      <td>-0.000752</td>
      <td>-0.020497</td>
      <td>-0.017732</td>
      <td>0.007764</td>
      <td>0.013155</td>
      <td>-0.011908</td>
      <td>-0.015299</td>
    </tr>
    <tr>
      <th>number_of_trans_from_2011</th>
      <td>0.016355</td>
      <td>-0.276856</td>
      <td>-0.031668</td>
      <td>-0.084995</td>
      <td>0.056183</td>
      <td>-0.013609</td>
      <td>-0.198322</td>
      <td>0.286353</td>
      <td>0.262917</td>
      <td>-0.181413</td>
      <td>...</td>
      <td>0.195444</td>
      <td>0.142227</td>
      <td>0.105527</td>
      <td>0.066191</td>
      <td>0.212621</td>
      <td>0.215217</td>
      <td>0.138342</td>
      <td>0.088776</td>
      <td>-0.087938</td>
      <td>-0.140635</td>
    </tr>
    <tr>
      <th>historical_trans_amount</th>
      <td>0.002346</td>
      <td>-0.179652</td>
      <td>-0.117333</td>
      <td>-0.255846</td>
      <td>0.102959</td>
      <td>-0.002527</td>
      <td>0.016522</td>
      <td>0.526801</td>
      <td>0.392433</td>
      <td>-0.254563</td>
      <td>...</td>
      <td>0.324514</td>
      <td>0.165218</td>
      <td>0.137554</td>
      <td>0.073505</td>
      <td>0.288324</td>
      <td>0.288420</td>
      <td>0.201670</td>
      <td>0.138920</td>
      <td>-0.087267</td>
      <td>-0.156048</td>
    </tr>
    <tr>
      <th>historical_trans_day</th>
      <td>0.004245</td>
      <td>-0.345875</td>
      <td>-0.068345</td>
      <td>-0.116128</td>
      <td>0.112908</td>
      <td>-0.006987</td>
      <td>0.052108</td>
      <td>0.855832</td>
      <td>0.603820</td>
      <td>-0.424616</td>
      <td>...</td>
      <td>0.430792</td>
      <td>0.223623</td>
      <td>0.111262</td>
      <td>0.142560</td>
      <td>0.472101</td>
      <td>0.473890</td>
      <td>0.219427</td>
      <td>0.097498</td>
      <td>-0.171007</td>
      <td>-0.267034</td>
    </tr>
    <tr>
      <th>rank_trad_1_month</th>
      <td>0.011515</td>
      <td>0.116798</td>
      <td>0.102996</td>
      <td>0.139914</td>
      <td>-0.089095</td>
      <td>0.028153</td>
      <td>-0.017110</td>
      <td>-0.517923</td>
      <td>-0.481565</td>
      <td>0.345540</td>
      <td>...</td>
      <td>-0.235028</td>
      <td>-0.121879</td>
      <td>-0.120020</td>
      <td>-0.133787</td>
      <td>-0.328297</td>
      <td>-0.327323</td>
      <td>-0.180749</td>
      <td>-0.115613</td>
      <td>0.139572</td>
      <td>0.243659</td>
    </tr>
    <tr>
      <th>trans_amount_3_month</th>
      <td>-0.003329</td>
      <td>-0.069252</td>
      <td>-0.063526</td>
      <td>-0.189438</td>
      <td>0.074279</td>
      <td>-0.003598</td>
      <td>0.010864</td>
      <td>0.293735</td>
      <td>0.250140</td>
      <td>-0.139654</td>
      <td>...</td>
      <td>0.186909</td>
      <td>0.084463</td>
      <td>0.065007</td>
      <td>0.033856</td>
      <td>0.151395</td>
      <td>0.153457</td>
      <td>0.094556</td>
      <td>0.063275</td>
      <td>-0.044342</td>
      <td>-0.099134</td>
    </tr>
    <tr>
      <th>avg_consume_less_12_valid_month</th>
      <td>-0.001742</td>
      <td>-0.087905</td>
      <td>-0.042251</td>
      <td>-0.154257</td>
      <td>0.031360</td>
      <td>0.006201</td>
      <td>0.014532</td>
      <td>0.081550</td>
      <td>0.194729</td>
      <td>-0.017535</td>
      <td>...</td>
      <td>0.054239</td>
      <td>0.010832</td>
      <td>0.024610</td>
      <td>0.026514</td>
      <td>0.103333</td>
      <td>0.101638</td>
      <td>0.044864</td>
      <td>0.011955</td>
      <td>-0.069481</td>
      <td>-0.090181</td>
    </tr>
    <tr>
      <th>abs</th>
      <td>-0.004830</td>
      <td>-0.059940</td>
      <td>-0.059972</td>
      <td>-0.247023</td>
      <td>0.081978</td>
      <td>-0.003474</td>
      <td>0.038276</td>
      <td>0.306292</td>
      <td>0.160103</td>
      <td>-0.054408</td>
      <td>...</td>
      <td>0.152274</td>
      <td>0.105389</td>
      <td>0.072716</td>
      <td>0.009934</td>
      <td>0.071542</td>
      <td>0.074592</td>
      <td>0.102727</td>
      <td>0.090651</td>
      <td>-0.042772</td>
      <td>-0.065586</td>
    </tr>
    <tr>
      <th>top_trans_count_last_1_month</th>
      <td>0.021195</td>
      <td>0.101220</td>
      <td>0.037765</td>
      <td>0.059410</td>
      <td>-0.063713</td>
      <td>0.029701</td>
      <td>-0.026923</td>
      <td>-0.503568</td>
      <td>-0.475823</td>
      <td>0.381422</td>
      <td>...</td>
      <td>-0.199205</td>
      <td>-0.082819</td>
      <td>-0.071977</td>
      <td>-0.138804</td>
      <td>-0.323863</td>
      <td>-0.324179</td>
      <td>-0.128756</td>
      <td>-0.058697</td>
      <td>0.140451</td>
      <td>0.247943</td>
    </tr>
    <tr>
      <th>avg_price_last_12_month</th>
      <td>0.011454</td>
      <td>-0.090752</td>
      <td>-0.286213</td>
      <td>-0.556220</td>
      <td>0.129908</td>
      <td>-0.004808</td>
      <td>-0.006858</td>
      <td>0.068127</td>
      <td>0.067431</td>
      <td>-0.003254</td>
      <td>...</td>
      <td>0.204154</td>
      <td>0.186553</td>
      <td>0.183277</td>
      <td>-0.017057</td>
      <td>0.019580</td>
      <td>0.017570</td>
      <td>0.179284</td>
      <td>0.205885</td>
      <td>-0.033386</td>
      <td>-0.020140</td>
    </tr>
    <tr>
      <th>avg_price_top_last_12_valid_month</th>
      <td>-0.018637</td>
      <td>0.124158</td>
      <td>0.509637</td>
      <td>0.369498</td>
      <td>-0.123202</td>
      <td>-0.030556</td>
      <td>0.011839</td>
      <td>-0.138470</td>
      <td>-0.145411</td>
      <td>0.064464</td>
      <td>...</td>
      <td>-0.316923</td>
      <td>-0.285338</td>
      <td>-0.172475</td>
      <td>-0.002851</td>
      <td>-0.087684</td>
      <td>-0.080339</td>
      <td>-0.197348</td>
      <td>-0.195194</td>
      <td>0.079399</td>
      <td>0.062422</td>
    </tr>
    <tr>
      <th>trans_top_time_last_1_month</th>
      <td>-0.007772</td>
      <td>-0.003624</td>
      <td>-0.023020</td>
      <td>-0.015316</td>
      <td>0.028547</td>
      <td>-0.021723</td>
      <td>0.018931</td>
      <td>0.092705</td>
      <td>0.143620</td>
      <td>-0.127328</td>
      <td>...</td>
      <td>0.039372</td>
      <td>0.019334</td>
      <td>0.005990</td>
      <td>0.060674</td>
      <td>0.059770</td>
      <td>0.056594</td>
      <td>0.021747</td>
      <td>0.000811</td>
      <td>-0.030739</td>
      <td>-0.069952</td>
    </tr>
    <tr>
      <th>trans_top_time_last_6_month</th>
      <td>0.012229</td>
      <td>0.063470</td>
      <td>0.064055</td>
      <td>0.025356</td>
      <td>-0.079647</td>
      <td>0.032999</td>
      <td>-0.016856</td>
      <td>-0.519642</td>
      <td>-0.400228</td>
      <td>0.541678</td>
      <td>...</td>
      <td>-0.227717</td>
      <td>-0.111353</td>
      <td>-0.055343</td>
      <td>-0.151634</td>
      <td>-0.336984</td>
      <td>-0.334724</td>
      <td>-0.106172</td>
      <td>-0.042912</td>
      <td>0.088539</td>
      <td>0.199473</td>
    </tr>
    <tr>
      <th>consume_top_time_last_1_month</th>
      <td>-0.012425</td>
      <td>-0.013828</td>
      <td>-0.030325</td>
      <td>-0.024816</td>
      <td>0.022475</td>
      <td>-0.020937</td>
      <td>0.021517</td>
      <td>0.126348</td>
      <td>0.162267</td>
      <td>-0.155562</td>
      <td>...</td>
      <td>0.053634</td>
      <td>0.023311</td>
      <td>0.018442</td>
      <td>0.073859</td>
      <td>0.083782</td>
      <td>0.080835</td>
      <td>0.038965</td>
      <td>0.012452</td>
      <td>-0.044495</td>
      <td>-0.078152</td>
    </tr>
    <tr>
      <th>consume_top_time_last_6_month</th>
      <td>0.010297</td>
      <td>0.071615</td>
      <td>0.026853</td>
      <td>0.033989</td>
      <td>-0.062038</td>
      <td>0.032106</td>
      <td>-0.009154</td>
      <td>-0.506739</td>
      <td>-0.371122</td>
      <td>0.489491</td>
      <td>...</td>
      <td>-0.228478</td>
      <td>-0.109085</td>
      <td>-0.055605</td>
      <td>-0.128403</td>
      <td>-0.331808</td>
      <td>-0.329305</td>
      <td>-0.105383</td>
      <td>-0.042412</td>
      <td>0.083349</td>
      <td>0.194636</td>
    </tr>
    <tr>
      <th>cross_consume_count_last_1_month</th>
      <td>-0.019612</td>
      <td>-0.015749</td>
      <td>0.056716</td>
      <td>-0.076003</td>
      <td>0.042310</td>
      <td>-0.004524</td>
      <td>-0.001588</td>
      <td>0.217779</td>
      <td>0.236684</td>
      <td>-0.098826</td>
      <td>...</td>
      <td>0.101269</td>
      <td>0.038369</td>
      <td>0.032169</td>
      <td>0.024935</td>
      <td>0.129515</td>
      <td>0.131031</td>
      <td>0.041163</td>
      <td>0.025667</td>
      <td>-0.026850</td>
      <td>-0.081532</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>loans_score</th>
      <td>-0.014716</td>
      <td>-0.006276</td>
      <td>-0.007019</td>
      <td>-0.039519</td>
      <td>-0.003928</td>
      <td>0.010481</td>
      <td>-0.020418</td>
      <td>-0.211471</td>
      <td>-0.141698</td>
      <td>0.105373</td>
      <td>...</td>
      <td>-0.145502</td>
      <td>-0.071344</td>
      <td>0.076157</td>
      <td>-0.043698</td>
      <td>-0.242594</td>
      <td>-0.249384</td>
      <td>-0.004854</td>
      <td>0.085289</td>
      <td>0.035587</td>
      <td>-0.019444</td>
    </tr>
    <tr>
      <th>loans_credibility_behavior</th>
      <td>-0.000191</td>
      <td>-0.023587</td>
      <td>0.037414</td>
      <td>-0.031636</td>
      <td>-0.017790</td>
      <td>-0.003788</td>
      <td>0.002694</td>
      <td>-0.059242</td>
      <td>-0.028579</td>
      <td>0.016791</td>
      <td>...</td>
      <td>-0.109592</td>
      <td>-0.059538</td>
      <td>0.113228</td>
      <td>0.202241</td>
      <td>0.132995</td>
      <td>0.141105</td>
      <td>0.112848</td>
      <td>0.110999</td>
      <td>0.014235</td>
      <td>-0.034587</td>
    </tr>
    <tr>
      <th>loans_count</th>
      <td>0.008971</td>
      <td>-0.104423</td>
      <td>-0.103643</td>
      <td>0.093372</td>
      <td>0.034853</td>
      <td>-0.011057</td>
      <td>0.010844</td>
      <td>0.713700</td>
      <td>0.433028</td>
      <td>-0.340780</td>
      <td>...</td>
      <td>0.454809</td>
      <td>0.167113</td>
      <td>0.097746</td>
      <td>0.189068</td>
      <td>0.669975</td>
      <td>0.658099</td>
      <td>0.240708</td>
      <td>0.067635</td>
      <td>-0.194495</td>
      <td>-0.388366</td>
    </tr>
    <tr>
      <th>loans_settle_count</th>
      <td>0.008509</td>
      <td>-0.106395</td>
      <td>-0.115451</td>
      <td>0.084747</td>
      <td>0.044691</td>
      <td>-0.011398</td>
      <td>0.006203</td>
      <td>0.723008</td>
      <td>0.440667</td>
      <td>-0.346732</td>
      <td>...</td>
      <td>0.466131</td>
      <td>0.175771</td>
      <td>0.109141</td>
      <td>0.183622</td>
      <td>0.633814</td>
      <td>0.618343</td>
      <td>0.239062</td>
      <td>0.079620</td>
      <td>-0.198341</td>
      <td>-0.374859</td>
    </tr>
    <tr>
      <th>loans_overdue_count</th>
      <td>-0.002123</td>
      <td>-0.047870</td>
      <td>0.003258</td>
      <td>0.055341</td>
      <td>-0.018406</td>
      <td>-0.009483</td>
      <td>0.026175</td>
      <td>0.319103</td>
      <td>0.193574</td>
      <td>-0.145065</td>
      <td>...</td>
      <td>0.189896</td>
      <td>0.071337</td>
      <td>0.001805</td>
      <td>0.089767</td>
      <td>0.389047</td>
      <td>0.396295</td>
      <td>0.109103</td>
      <td>-0.020359</td>
      <td>-0.069116</td>
      <td>-0.166293</td>
    </tr>
    <tr>
      <th>loans_org_count_behavior</th>
      <td>0.002662</td>
      <td>-0.107997</td>
      <td>-0.113256</td>
      <td>0.086219</td>
      <td>0.020780</td>
      <td>-0.012629</td>
      <td>0.014655</td>
      <td>0.698811</td>
      <td>0.451913</td>
      <td>-0.330187</td>
      <td>...</td>
      <td>0.462677</td>
      <td>0.133557</td>
      <td>0.065915</td>
      <td>0.231726</td>
      <td>0.799828</td>
      <td>0.784147</td>
      <td>0.257087</td>
      <td>0.038651</td>
      <td>-0.216354</td>
      <td>-0.402870</td>
    </tr>
    <tr>
      <th>consfin_org_count_behavior</th>
      <td>0.012062</td>
      <td>-0.129297</td>
      <td>-0.074851</td>
      <td>-0.007761</td>
      <td>0.021387</td>
      <td>-0.019901</td>
      <td>0.003332</td>
      <td>0.553486</td>
      <td>0.371197</td>
      <td>-0.287044</td>
      <td>...</td>
      <td>0.357549</td>
      <td>0.137506</td>
      <td>0.102057</td>
      <td>0.297390</td>
      <td>1.000000</td>
      <td>0.988027</td>
      <td>0.345697</td>
      <td>0.074170</td>
      <td>-0.185038</td>
      <td>-0.399885</td>
    </tr>
    <tr>
      <th>loans_cash_count</th>
      <td>-0.002987</td>
      <td>-0.078110</td>
      <td>-0.115566</td>
      <td>0.123857</td>
      <td>0.016962</td>
      <td>-0.006482</td>
      <td>0.018475</td>
      <td>0.662281</td>
      <td>0.420938</td>
      <td>-0.298750</td>
      <td>...</td>
      <td>0.443326</td>
      <td>0.108990</td>
      <td>0.034866</td>
      <td>0.156549</td>
      <td>0.555002</td>
      <td>0.539896</td>
      <td>0.164961</td>
      <td>0.012515</td>
      <td>-0.197164</td>
      <td>-0.337008</td>
    </tr>
    <tr>
      <th>latest_one_month_loan</th>
      <td>-0.001009</td>
      <td>-0.082016</td>
      <td>-0.034938</td>
      <td>-0.017258</td>
      <td>0.008845</td>
      <td>-0.010482</td>
      <td>0.010030</td>
      <td>0.251331</td>
      <td>0.152255</td>
      <td>-0.109048</td>
      <td>...</td>
      <td>0.216387</td>
      <td>0.078718</td>
      <td>0.057899</td>
      <td>0.087776</td>
      <td>0.328566</td>
      <td>0.334659</td>
      <td>0.136317</td>
      <td>0.039233</td>
      <td>-0.167327</td>
      <td>-0.564125</td>
    </tr>
    <tr>
      <th>latest_three_month_loan</th>
      <td>0.009841</td>
      <td>-0.102432</td>
      <td>-0.041141</td>
      <td>-0.007416</td>
      <td>0.009611</td>
      <td>-0.012746</td>
      <td>0.024060</td>
      <td>0.277217</td>
      <td>0.180567</td>
      <td>-0.132316</td>
      <td>...</td>
      <td>0.235019</td>
      <td>0.083134</td>
      <td>0.055062</td>
      <td>0.099953</td>
      <td>0.410173</td>
      <td>0.415173</td>
      <td>0.158521</td>
      <td>0.038337</td>
      <td>-0.172112</td>
      <td>-0.556912</td>
    </tr>
    <tr>
      <th>latest_six_month_loan</th>
      <td>0.013859</td>
      <td>-0.084090</td>
      <td>-0.080426</td>
      <td>0.080167</td>
      <td>0.034499</td>
      <td>-0.007440</td>
      <td>0.023376</td>
      <td>0.618386</td>
      <td>0.381795</td>
      <td>-0.294128</td>
      <td>...</td>
      <td>0.395462</td>
      <td>0.110447</td>
      <td>0.067585</td>
      <td>0.169560</td>
      <td>0.653119</td>
      <td>0.646769</td>
      <td>0.214958</td>
      <td>0.040151</td>
      <td>-0.201667</td>
      <td>-0.457269</td>
    </tr>
    <tr>
      <th>history_suc_fee</th>
      <td>0.005751</td>
      <td>-0.154554</td>
      <td>-0.068576</td>
      <td>0.038832</td>
      <td>0.036804</td>
      <td>-0.013452</td>
      <td>0.008331</td>
      <td>0.707752</td>
      <td>0.432147</td>
      <td>-0.361614</td>
      <td>...</td>
      <td>0.439947</td>
      <td>0.158091</td>
      <td>0.129951</td>
      <td>0.194162</td>
      <td>0.682134</td>
      <td>0.674063</td>
      <td>0.258122</td>
      <td>0.092018</td>
      <td>-0.197019</td>
      <td>-0.392292</td>
    </tr>
    <tr>
      <th>history_fail_fee</th>
      <td>0.005633</td>
      <td>-0.039117</td>
      <td>0.009093</td>
      <td>0.055486</td>
      <td>-0.019751</td>
      <td>-0.006480</td>
      <td>0.033715</td>
      <td>0.269878</td>
      <td>0.148111</td>
      <td>-0.115664</td>
      <td>...</td>
      <td>0.164983</td>
      <td>0.047106</td>
      <td>0.008807</td>
      <td>0.098387</td>
      <td>0.399674</td>
      <td>0.411005</td>
      <td>0.130966</td>
      <td>-0.011496</td>
      <td>-0.060527</td>
      <td>-0.199490</td>
    </tr>
    <tr>
      <th>latest_one_month_suc</th>
      <td>0.000168</td>
      <td>-0.078523</td>
      <td>-0.025131</td>
      <td>-0.022327</td>
      <td>0.022699</td>
      <td>-0.009579</td>
      <td>0.009873</td>
      <td>0.228821</td>
      <td>0.146654</td>
      <td>-0.111359</td>
      <td>...</td>
      <td>0.194397</td>
      <td>0.056937</td>
      <td>0.023565</td>
      <td>0.092642</td>
      <td>0.349219</td>
      <td>0.360903</td>
      <td>0.119473</td>
      <td>0.014118</td>
      <td>-0.167496</td>
      <td>-0.459412</td>
    </tr>
    <tr>
      <th>latest_one_month_fail</th>
      <td>0.013939</td>
      <td>-0.041356</td>
      <td>0.021126</td>
      <td>-0.018844</td>
      <td>-0.004671</td>
      <td>-0.005436</td>
      <td>0.017951</td>
      <td>0.133230</td>
      <td>0.080658</td>
      <td>-0.053043</td>
      <td>...</td>
      <td>0.104707</td>
      <td>0.041028</td>
      <td>-0.000725</td>
      <td>0.053177</td>
      <td>0.228943</td>
      <td>0.244784</td>
      <td>0.078403</td>
      <td>-0.011238</td>
      <td>-0.051815</td>
      <td>-0.232811</td>
    </tr>
    <tr>
      <th>loans_long_time</th>
      <td>0.000992</td>
      <td>-0.216323</td>
      <td>-0.074834</td>
      <td>0.040822</td>
      <td>0.012660</td>
      <td>-0.002678</td>
      <td>0.030914</td>
      <td>0.384281</td>
      <td>0.301560</td>
      <td>-0.317888</td>
      <td>...</td>
      <td>0.368329</td>
      <td>0.268476</td>
      <td>0.144168</td>
      <td>0.229963</td>
      <td>0.345921</td>
      <td>0.337877</td>
      <td>0.198060</td>
      <td>0.134422</td>
      <td>-0.134214</td>
      <td>-0.214274</td>
    </tr>
    <tr>
      <th>loans_credit_limit</th>
      <td>-0.006194</td>
      <td>-0.160582</td>
      <td>-0.138446</td>
      <td>-0.086706</td>
      <td>0.050185</td>
      <td>0.013118</td>
      <td>0.036172</td>
      <td>0.229054</td>
      <td>0.177929</td>
      <td>-0.146462</td>
      <td>...</td>
      <td>0.745694</td>
      <td>0.901755</td>
      <td>0.085200</td>
      <td>0.057358</td>
      <td>0.151520</td>
      <td>0.152471</td>
      <td>0.123290</td>
      <td>0.087213</td>
      <td>-0.111170</td>
      <td>-0.157736</td>
    </tr>
    <tr>
      <th>loans_credibility_limit</th>
      <td>-0.033850</td>
      <td>-0.000850</td>
      <td>-0.051545</td>
      <td>0.090824</td>
      <td>-0.025575</td>
      <td>0.003868</td>
      <td>-0.005513</td>
      <td>0.161363</td>
      <td>0.154721</td>
      <td>-0.083218</td>
      <td>...</td>
      <td>0.328845</td>
      <td>0.456704</td>
      <td>-0.022646</td>
      <td>-0.029875</td>
      <td>0.115503</td>
      <td>0.114720</td>
      <td>0.021164</td>
      <td>-0.036374</td>
      <td>-0.127687</td>
      <td>-0.138313</td>
    </tr>
    <tr>
      <th>loans_org_count_current</th>
      <td>-0.002987</td>
      <td>-0.078110</td>
      <td>-0.115566</td>
      <td>0.123857</td>
      <td>0.016962</td>
      <td>-0.006482</td>
      <td>0.018475</td>
      <td>0.662281</td>
      <td>0.420938</td>
      <td>-0.298750</td>
      <td>...</td>
      <td>0.443326</td>
      <td>0.108990</td>
      <td>0.034866</td>
      <td>0.156549</td>
      <td>0.555002</td>
      <td>0.539896</td>
      <td>0.164961</td>
      <td>0.012515</td>
      <td>-0.197164</td>
      <td>-0.337008</td>
    </tr>
    <tr>
      <th>loans_product_count</th>
      <td>-0.001941</td>
      <td>-0.072159</td>
      <td>-0.114296</td>
      <td>0.122741</td>
      <td>0.018572</td>
      <td>-0.007575</td>
      <td>0.019401</td>
      <td>0.656939</td>
      <td>0.416980</td>
      <td>-0.295409</td>
      <td>...</td>
      <td>0.441316</td>
      <td>0.108962</td>
      <td>0.031936</td>
      <td>0.155744</td>
      <td>0.553607</td>
      <td>0.539424</td>
      <td>0.163650</td>
      <td>0.009397</td>
      <td>-0.199549</td>
      <td>-0.348389</td>
    </tr>
    <tr>
      <th>loans_max_limit</th>
      <td>0.012189</td>
      <td>-0.236185</td>
      <td>-0.140173</td>
      <td>-0.145599</td>
      <td>0.071798</td>
      <td>0.007119</td>
      <td>0.061847</td>
      <td>0.445155</td>
      <td>0.313715</td>
      <td>-0.222970</td>
      <td>...</td>
      <td>1.000000</td>
      <td>0.716175</td>
      <td>0.108760</td>
      <td>0.101659</td>
      <td>0.357549</td>
      <td>0.354231</td>
      <td>0.208389</td>
      <td>0.109425</td>
      <td>-0.190074</td>
      <td>-0.282204</td>
    </tr>
    <tr>
      <th>loans_avg_limit</th>
      <td>-0.004457</td>
      <td>-0.152017</td>
      <td>-0.128145</td>
      <td>-0.110230</td>
      <td>0.038880</td>
      <td>0.000119</td>
      <td>0.037275</td>
      <td>0.202242</td>
      <td>0.165959</td>
      <td>-0.118522</td>
      <td>...</td>
      <td>0.716175</td>
      <td>1.000000</td>
      <td>0.091117</td>
      <td>0.031452</td>
      <td>0.137506</td>
      <td>0.137271</td>
      <td>0.130307</td>
      <td>0.098641</td>
      <td>-0.099086</td>
      <td>-0.144835</td>
    </tr>
    <tr>
      <th>consfin_credit_limit</th>
      <td>0.005967</td>
      <td>-0.093180</td>
      <td>-0.083987</td>
      <td>-0.153241</td>
      <td>0.039328</td>
      <td>0.028868</td>
      <td>-0.036822</td>
      <td>0.096622</td>
      <td>0.066250</td>
      <td>-0.055205</td>
      <td>...</td>
      <td>0.108760</td>
      <td>0.091117</td>
      <td>1.000000</td>
      <td>0.241837</td>
      <td>0.102057</td>
      <td>0.081338</td>
      <td>0.788637</td>
      <td>0.901470</td>
      <td>-0.047756</td>
      <td>-0.110230</td>
    </tr>
    <tr>
      <th>consfin_credibility</th>
      <td>0.007746</td>
      <td>-0.041979</td>
      <td>-0.032534</td>
      <td>0.003266</td>
      <td>0.015841</td>
      <td>0.006174</td>
      <td>-0.000400</td>
      <td>0.181157</td>
      <td>0.131905</td>
      <td>-0.142221</td>
      <td>...</td>
      <td>0.101659</td>
      <td>0.031452</td>
      <td>0.241837</td>
      <td>1.000000</td>
      <td>0.297390</td>
      <td>0.288275</td>
      <td>0.216232</td>
      <td>0.275861</td>
      <td>-0.085131</td>
      <td>-0.230984</td>
    </tr>
    <tr>
      <th>consfin_org_count_current</th>
      <td>0.012062</td>
      <td>-0.129297</td>
      <td>-0.074851</td>
      <td>-0.007761</td>
      <td>0.021387</td>
      <td>-0.019901</td>
      <td>0.003332</td>
      <td>0.553486</td>
      <td>0.371197</td>
      <td>-0.287044</td>
      <td>...</td>
      <td>0.357549</td>
      <td>0.137506</td>
      <td>0.102057</td>
      <td>0.297390</td>
      <td>1.000000</td>
      <td>0.988027</td>
      <td>0.345697</td>
      <td>0.074170</td>
      <td>-0.185038</td>
      <td>-0.399885</td>
    </tr>
    <tr>
      <th>consfin_product_count</th>
      <td>0.009583</td>
      <td>-0.139197</td>
      <td>-0.067226</td>
      <td>-0.014847</td>
      <td>0.021337</td>
      <td>-0.019603</td>
      <td>0.005534</td>
      <td>0.551140</td>
      <td>0.374660</td>
      <td>-0.286212</td>
      <td>...</td>
      <td>0.354231</td>
      <td>0.137271</td>
      <td>0.081338</td>
      <td>0.288275</td>
      <td>0.988027</td>
      <td>1.000000</td>
      <td>0.329687</td>
      <td>0.054292</td>
      <td>-0.183685</td>
      <td>-0.402011</td>
    </tr>
    <tr>
      <th>consfin_max_limit</th>
      <td>0.004020</td>
      <td>-0.115324</td>
      <td>-0.096647</td>
      <td>-0.169575</td>
      <td>0.054433</td>
      <td>0.007123</td>
      <td>-0.022388</td>
      <td>0.224509</td>
      <td>0.156951</td>
      <td>-0.111345</td>
      <td>...</td>
      <td>0.208389</td>
      <td>0.130307</td>
      <td>0.788637</td>
      <td>0.216232</td>
      <td>0.345697</td>
      <td>0.329687</td>
      <td>1.000000</td>
      <td>0.790580</td>
      <td>-0.096890</td>
      <td>-0.193945</td>
    </tr>
    <tr>
      <th>consfin_avg_limit</th>
      <td>0.008860</td>
      <td>-0.076767</td>
      <td>-0.094627</td>
      <td>-0.174126</td>
      <td>0.040634</td>
      <td>0.040865</td>
      <td>-0.043764</td>
      <td>0.085255</td>
      <td>0.057663</td>
      <td>-0.045801</td>
      <td>...</td>
      <td>0.109425</td>
      <td>0.098641</td>
      <td>0.901470</td>
      <td>0.275861</td>
      <td>0.074170</td>
      <td>0.054292</td>
      <td>0.790580</td>
      <td>1.000000</td>
      <td>-0.042131</td>
      <td>-0.088072</td>
    </tr>
    <tr>
      <th>latest_query_day</th>
      <td>0.020774</td>
      <td>0.099208</td>
      <td>0.069301</td>
      <td>-0.001628</td>
      <td>-0.000570</td>
      <td>-0.001457</td>
      <td>-0.024161</td>
      <td>-0.188965</td>
      <td>-0.120330</td>
      <td>0.069560</td>
      <td>...</td>
      <td>-0.190074</td>
      <td>-0.099086</td>
      <td>-0.047756</td>
      <td>-0.085131</td>
      <td>-0.185038</td>
      <td>-0.183685</td>
      <td>-0.096890</td>
      <td>-0.042131</td>
      <td>1.000000</td>
      <td>0.230078</td>
    </tr>
    <tr>
      <th>loans_latest_day</th>
      <td>0.026387</td>
      <td>0.098628</td>
      <td>0.047500</td>
      <td>-0.003253</td>
      <td>-0.010231</td>
      <td>0.027221</td>
      <td>-0.014880</td>
      <td>-0.299110</td>
      <td>-0.211593</td>
      <td>0.163433</td>
      <td>...</td>
      <td>-0.282204</td>
      <td>-0.144835</td>
      <td>-0.110230</td>
      <td>-0.230984</td>
      <td>-0.399885</td>
      <td>-0.402011</td>
      <td>-0.193945</td>
      <td>-0.088072</td>
      <td>0.230078</td>
      <td>1.000000</td>
    </tr>
  </tbody>
</table>
<p>82 rows × 82 columns</p>
</div>



<blockquote>
<p>参考：</p>
</blockquote>
<ol>
<li><a class="link"   href="https://github.com/datawhalechina/Datawhale_Learning/tree/master/doc/%E7%90%86%E8%AE%BA%E5%BA%94%E7%94%A8/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98" >DataWhale数据挖掘实战营<i class="fas fa-external-link-alt"></i></a></li>
<li><a class="link"   href="https://www.jianshu.com/p/29ece4592178" >利用Python进行数据分析·第2版<i class="fas fa-external-link-alt"></i></a></li>
<li><a class="link"   href="https://www.jianshu.com/p/0c967a1526ef" >Stata：离群值！离群值？离群值！<i class="fas fa-external-link-alt"></i></a></li>
<li><a class="link"   href="https://www.jiqizhixin.com/articles/021704" >机器学习中如何处理不平衡数据？<i class="fas fa-external-link-alt"></i></a></li>
</ol>
]]></content>
      <categories>
        <category>统计与机器学习</category>
        <category>其他</category>
      </categories>
  </entry>
  <entry>
    <title>BeautifulSoup</title>
    <url>/Python/51103/</url>
    <content><![CDATA[<h2 id="请求"><a href="#请求" class="headerlink" title="请求"></a>请求</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line">result = requests.get(<span class="string">&quot;https://news.163.com/&quot;</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 从返回result的状态码中，了解到是否请求成功</span></span><br><span class="line">result.status_code</span><br></pre></td></tr></table></figure>
<pre><code>200
</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">result.encoding</span><br></pre></td></tr></table></figure>
<pre><code>&#39;GBK&#39;
</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">content = result.content</span><br><span class="line"><span class="built_in">print</span> (content[:<span class="number">1000</span>]) <span class="comment">#前1000个字符</span></span><br></pre></td></tr></table></figure>
<pre><code>b&#39; &lt;!DOCTYPE HTML&gt;\n&lt;!--[if IE 6 ]&gt; &lt;html id=&quot;ne_wrap&quot; class=&quot;ne_ua_ie6 ne_ua_ielte8&quot;&gt; &lt;![endif]--&gt;\n&lt;!--[if IE 7 ]&gt; &lt;html id=&quot;ne_wrap&quot; class=&quot;ne_ua_ie7 ne_ua_ielte8&quot;&gt; &lt;![endif]--&gt;\n&lt;!--[if IE 8 ]&gt; &lt;html id=&quot;ne_wrap&quot; class=&quot;ne_ua_ie8 ne_ua_ielte8&quot;&gt; &lt;![endif]--&gt;\n&lt;!--[if IE 9 ]&gt; &lt;html id=&quot;ne_wrap&quot; class=&quot;ne_ua_ie9&quot;&gt; &lt;![endif]--&gt;\n&lt;!--[if (gte IE 10)|!(IE)]&gt;&lt;!--&gt; &lt;html id=&quot;ne_wrap&quot; phone=&quot;1&quot;&gt; &lt;!--&lt;![endif]--&gt;\n&lt;head&gt;\n&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot;&gt;\n&lt;meta name=&quot;model_url&quot; content=&quot;http://news.163.com/special/index2015/&quot; /&gt;\n&lt;title&gt;\xcd\xf8\xd2\xd7\xd0\xc2\xce\xc5&lt;/title&gt;\n&lt;base target=&quot;_blank&quot; /&gt;\n&lt;meta name=&quot;keywords&quot; content=&quot;\xd0\xc2\xce\xc5,\xd0\xc2\xce\xc5\xd6\xd0\xd0\xc4,\xd0\xc2\xce\xc5\xc6\xb5\xb5\xc0,\xca\xb1\xca\xc2\xb1\xa8\xb5\xc0&quot; /&gt;\n&lt;meta name=&quot;description&quot; content=&quot;\xd0\xc2\xce\xc5,\xd0\xc2\xce\xc5\xd6\xd0\xd0\xc4,\xb0\xfc\xba\xac\xd3\xd0\xca\xb1\xd5\xfe\xd0\xc2\xce\xc5,\xb9\xfa\xc4\xda\xd0\xc2\xce\xc5,\xb9\xfa\xbc\xca\xd0\xc2\xce\xc5,\xc9\xe7\xbb\xe1\xd0\xc2\xce\xc5,\xca\xb1\xca\xc2\xc6\xc0\xc2\xdb,\xd0\xc2\xce\xc5\xcd\xbc\xc6\xac,\xd0\xc2\xce\xc5\xd7\xa8\xcc\xe2,\xd0\xc2\xce\xc5\xc2\xdb\xcc\xb3,\xbe\xfc\xca\xc2,\xc0\xfa\xca\xb7,\xb5\xc4\xd7\xa8\xd2\xb5\xca\xb1\xca\xc2\xb1\xa8\xb5\xc0\xc3\xc5\xbb\xa7\xcd\xf8\xd5\xbe&quot; /&gt;\n  &lt;script type=&quot;text/javascript&quot; _keep=&quot;true&quot;&gt;\n    var matchStr =window.location.href;\n    var reURL = /^(https):\\/\\/.+$/;\n    if(!reURL.test(matchStr))&#123;\n        windo&#39;
</code></pre><h2 id="模拟登入"><a href="#模拟登入" class="headerlink" title="模拟登入"></a>模拟登入</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">s = requests.session()</span><br><span class="line">data = &#123;<span class="string">&#x27;user&#x27;</span>:<span class="string">&#x27;用户名&#x27;</span>,<span class="string">&#x27;passdw&#x27;</span>:<span class="string">&#x27;密码&#x27;</span>&#125;</span><br><span class="line"><span class="comment">#post 换成登录的地址，</span></span><br><span class="line">res=s.post(<span class="string">&#x27;http://www.xxx.net/index.php?action=login&#x27;</span>,data);</span><br><span class="line"><span class="comment">#换成抓取的地址</span></span><br><span class="line">s.get(<span class="string">&#x27;http://www.xxx.net/archives/155/&#x27;</span>);</span><br></pre></td></tr></table></figure>
<h2 id="BeautifulSoup"><a href="#BeautifulSoup" class="headerlink" title="BeautifulSoup"></a>BeautifulSoup</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> warnings</span><br><span class="line">warnings.filterwarnings(<span class="string">&quot;ignore&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line">soup = BeautifulSoup(content, fromEncoding=<span class="string">&quot;GB2312&quot;</span>) <span class="comment">#注意这个地方</span></span><br><span class="line"><span class="built_in">print</span>(soup)</span><br></pre></td></tr></table></figure>
<pre><code>&lt;!DOCTYPE HTML&gt;
&lt;!--[if IE 6 ]&gt; &lt;html id=&quot;ne_wrap&quot; class=&quot;ne_ua_ie6 ne_ua_ielte8&quot;&gt; &lt;![endif]--&gt;&lt;!--[if IE 7 ]&gt; &lt;html id=&quot;ne_wrap&quot; class=&quot;ne_ua_ie7 ne_ua_ielte8&quot;&gt; &lt;![endif]--&gt;&lt;!--[if IE 8 ]&gt; &lt;html id=&quot;ne_wrap&quot; class=&quot;ne_ua_ie8 ne_ua_ielte8&quot;&gt; &lt;![endif]--&gt;&lt;!--[if IE 9 ]&gt; &lt;html id=&quot;ne_wrap&quot; class=&quot;ne_ua_ie9&quot;&gt; &lt;![endif]--&gt;&lt;!--[if (gte IE 10)|!(IE)]&gt;&lt;!--&gt;&lt;html id=&quot;ne_wrap&quot; phone=&quot;1&quot;&gt; &lt;!--&lt;![endif]--&gt;
&lt;head&gt;
&lt;meta content=&quot;text/html; charset=utf-8&quot; http-equiv=&quot;Content-Type&quot;/&gt;
&lt;meta content=&quot;http://news.163.com/special/index2015/&quot; name=&quot;model_url&quot;/&gt;
&lt;title&gt;网易新闻&lt;/title&gt;
&lt;base target=&quot;_blank&quot;/&gt;
&lt;meta content=&quot;新闻,新闻中心,新闻频道,时事报道&quot; name=&quot;keywords&quot;/&gt;
&lt;meta content=&quot;新闻,新闻中心,包含有时政新闻,国内新闻,国际新闻,社会新闻,时事评论,新闻图片,新闻专题,新闻论坛,军事,历史,的专业时事报道门户网站&quot; name=&quot;description&quot;/&gt;
&lt;script _keep=&quot;true&quot; type=&quot;text/javascript&quot;&gt;
    var matchStr =window.location.href;
    var reURL = /^(https):\/\/.+$/;
    if(!reURL.test(matchStr))&#123;
        window.location.href = &quot;https://news.163.com/&quot;;
    &#125;
  &lt;/script&gt;
&lt;!-- 适配3g ie8bug--&gt;
&lt;!-- 广告样式 --&gt;
&lt;style&gt;
.channel_relative_2016&#123;
    position:relative;
    line-height: 0px;
&#125;
.channel_relative_2016_lh&#123;
    line-height: 0px;
&#125;
.channel_ad_2016&#123;
    height: 17px;
    display:none;
    background: rgba(0,0,0,0.6);
    background: #000\9;
    color: #fff;
    border-radius: 0 8px 0px 0px;
    line-height: 17px;
    width: 30px;
    text-align: left;
    overflow: hidden;
    font-size: 12px;
    font-family: Arial;
    position:absolute;
    left:0;
    bottom:0;
    z-index:3;
&#125;
.channel_ad_text_2016&#123;
    position: absolute;
    right: 1px;
    bottom: -2px;
    color: #999999;
    z-index:3;
    font-size: 12px;
    font-family: Arial;
   display:none;
  line-height: 18px;
&#125;
.channel_relative_2016 .channel_ad_2016,.channel_relative_2016 .channel_ad_text_2016&#123;
    display: inline-block;
&#125;
&lt;/style&gt;
&lt;!-- channel2019_logo样式 --&gt;
&lt;style type=&quot;text/css&quot;&gt;
    .channel2019_logo&#123;
        background: url(http://cms-bucket.ws.126.net/2019/04/25/09e37a6a4dd349468cd38dd79a3b15b7.png) no-repeat !important;
        width: 152px !important;
        height: 37px !important;
        display: block !important;
        float: left!important;
    &#125;
    /*新闻*/
    .channel2019_news_logo&#123;
        background-position: 0px 4px !important;
    &#125;
    /*科技*/
    .channel2019_tech_logo&#123;
        background-position: 0px -96px !important;

    &#125;
    /*手机*/
    .channel2019_mobile_logo&#123;
        background-position: 0px -196px !important;

    &#125;
    /*数码*/
    .channel2019_digi_logo&#123;
        background-position: 0px -296px !important;

    &#125;
    /*新闻学院*/
    .channel2019_college_logo&#123;
        background-position: 0px -396px !important;
        width: 213px !important;
    &#125;
    /*政务*/
    .channel2019_gov_logo&#123;
        background-position: 0px -496px !important;
    &#125;
    /*军事*/
    .channel2019_war_logo&#123;
        background-position: 0px 0px !important;
        height: 33px !important;
    &#125;
    /*航空*/
    .channel2019_air_logo&#123;
        background-position: 0px 0px !important;
        height: 33px !important;
    &#125;
   /*新闻排行榜*/
    .channel2019_newsrank_logo&#123;
        background-position: 0px 0px !important;
        height: 33px !important;
    &#125;
      /*新闻图片*/
    .channel2019_newsphoto_logo&#123;
        background-position: 0px -2200px !important;
          width: 213px !important;
        height: 33px !important;
    &#125;
    /*体育*/
    .channel2019_sports_logo&#123;
        background-position: 0px -796px !important;
    &#125;
      /*体育二级页*/
    .channel2019_sportssub_logo&#123;
        height: 33px !important;
        background-position: 0px -800px !important;
    &#125;
    /*娱乐*/
    .channel2019_ent_logo&#123;
        background-position: 0px -896px !important;
    &#125;
    /*音乐*/
    .channel2019_music_logo&#123;
        background-position: 0px -900px !important;
        height: 32px !important;
    &#125;
    /*时尚*/
    .channel2019_fashion_logo&#123;
        background-position: 0px -1100px !important;
        height: 32px !important;
    &#125;
    /*女人*/
    .channel2019_lady_logo&#123;
        background-position: 0px -1196px !important;
    &#125;
    /*财经*/
    .channel2019_money_logo&#123;
        background-position: 0px -1300px !important;
    &#125;
    /*手机图片*/
    .channel2019_mobilephoto_logo&#123;
        background-position: 0px -2300px !important;
        width: 213px !important;
        height: 33px !important;
    &#125;
    /*汽车*/
    .channel2019_auto_logo&#123;
        background-position: 0px -1396px !important;
    &#125;
    /*旅游*/
    .channel2019_travel_logo&#123;
        background-position: 0px -1496px !important;
    &#125;
    /*健康*/
    .channel2019_jiankang_logo&#123;
        background-position: 0px -1596px !important;
    &#125;
    /*教育*/
    .channel2019_edu_logo&#123;
        background-position: 0px -1696px !important;
    &#125;
    /*艺术*/
    .channel2019_art_logo&#123;
        background-position: 0px -1796px !important;
    &#125;
    /*亲子*/
    .channel2019_baby_logo&#123;
        background-position: 0px -1896px !important;
    &#125;
    /*双创*/
    .channel2019_shuangchuang_logo&#123;
        background-position: 0px -1996px !important;
    &#125;
    /*酒香*/
    .channel2019_jiu_logo&#123;
        background-position: 0px -2096px !important;
    &#125;
      /*游戏*/
    .channel2019_game_logo&#123;
        background-position: 0px -2400px !important;
    &#125;
    &lt;/style&gt;
&lt;script _keep=&quot;true&quot; type=&quot;text/javascript&quot;&gt;
(function() &#123;
    if(/s=noRedirect/i.test(location.search)) return; 
    if(/AppleWebKit.*Mobile/i.test(navigator.userAgent) || (/MIDP|SymbianOS|NOKIA|SAMSUNG|LG|NEC|TCL|Alcatel|BIRD|DBTEL|Dopod|PHILIPS|HAIER|LENOVO|MOT-|Nokia|SonyEricsson|SIE-|Amoi|ZTE/.test(navigator.userAgent))) &#123;
        try &#123;
            if(/Android|Windows Phone|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)) &#123;
                 window.location.href = &quot;https://3g.163.com/touch/news/&quot;;
            &#125; else if(/iPad/i.test(navigator.userAgent)) &#123;
                window.location.href = &quot;https://news.163.com/pad/&quot;
            &#125;
        &#125; catch(e) &#123;&#125;
    &#125;   
&#125;)();
&lt;/script&gt;
&lt;script _keep=&quot;true&quot; charset=&quot;gbk&quot; src=&quot;//news.163.com/special/00015CJL/xw_news_data.js&quot;&gt;&lt;/script&gt;
&lt;!-- 社交传播统计 --&gt;
&lt;script src=&quot;//static.ws.126.net/163/frontend/libs/antanalysis.min.js&quot;&gt;&lt;/script&gt;
&lt;script _keep=&quot;true&quot; src=&quot;//static.ws.126.net/163/frontend/antnest/NTM-KFGT6I8U-38.js&quot;&gt;&lt;/script&gt;
&lt;script crossorigin=&quot;anonymous&quot; src=&quot;https://static.ws.126.net/163/frontend/libs/raven-3.26.2.min.js&quot;&gt;&lt;/script&gt;
&lt;link href=&quot;https://static.ws.126.net/163/f2e/news/index2016_rmd/css/head~a2a2093f5d52d.css&quot; rel=&quot;stylesheet&quot;/&gt;
&lt;/head&gt;
&lt;body class=&quot;news_pc&quot; ne-class=&quot;&#123;&#123;myState.isNs9 ? 'ns9' : 'ns12'&#125;&#125;&quot; ne-module=&quot;/news/index2016_rmd/index2016.js&quot;&gt;
&lt;div class=&quot;index2016_wrap&quot; id=&quot;index2016_wrap&quot;&gt;
&lt;div&gt;
&lt;!-- 节日动画 start --&gt;
&lt;!-- 节日动画 end --&gt;
&lt;div class=&quot;common_nav&quot;&gt;
&lt;link href=&quot;//static.ws.126.net/163/f2e/commonnav2019/css/commonnav_headcss-61ce66f60e.css&quot; rel=&quot;stylesheet&quot;/&gt;
&lt;!-- urs --&gt;
&lt;script _keep=&quot;true&quot; src=&quot;//urswebzj.nosdn.127.net/webzj_cdn101/message.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;
&lt;div class=&quot;ntes_nav_wrap&quot; id=&quot;js_N_NTES_wrap&quot;&gt;
&lt;div class=&quot;ntes-nav&quot; id=&quot;js_N_nav&quot;&gt;
&lt;div class=&quot;ntes-nav-main clearfix&quot;&gt;
&lt;div class=&quot;c-fl&quot;&gt;
&lt;a class=&quot;ntes-nav-index-title ntes-nav-entry-wide c-fl&quot; href=&quot;http://www.163.com/&quot; title=&quot;网易首页&quot;&gt;网易首页&lt;/a&gt;
&lt;!-- 应用 --&gt;
&lt;div class=&quot;js_N_navSelect ntes-nav-select ntes-nav-select-wide ntes-nav-app c-fl&quot;&gt;
&lt;a class=&quot;ntes-nav-select-title ntes-nav-entry-bgblack JS_NTES_LOG_FE&quot; href=&quot;http://www.163.com/#f=topnav&quot;&gt;应用
            &lt;em class=&quot;ntes-nav-select-arr&quot;&gt;&lt;/em&gt;
&lt;/a&gt;
&lt;div class=&quot;ntes-nav-select-pop&quot;&gt;
&lt;ul class=&quot;ntes-nav-select-list clearfix&quot;&gt;
&lt;li&gt;
&lt;a href=&quot;http://m.163.com/newsapp/#f=topnav&quot;&gt;
&lt;span&gt;
&lt;em class=&quot;ntes-nav-app-newsapp&quot;&gt;网易新闻&lt;/em&gt;
&lt;/span&gt;
&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://open.163.com/#f=topnav&quot;&gt;
&lt;span&gt;
&lt;em class=&quot;ntes-nav-app-open&quot;&gt;网易公开课&lt;/em&gt;
&lt;/span&gt;
&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;https://hongcai.163.com/?from=pcsy-button&quot;&gt;
&lt;span&gt;
&lt;em class=&quot;ntes-nav-app-hongcai&quot;&gt;网易红彩&lt;/em&gt;
&lt;/span&gt;
&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://u.163.com/aosoutbdbd8&quot;&gt;
&lt;span&gt;
&lt;em class=&quot;ntes-nav-app-yanxuan&quot;&gt;网易严选&lt;/em&gt;
&lt;/span&gt;
&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://mail.163.com/client/dl.html?from=mail46&quot;&gt;
&lt;span&gt;
&lt;em class=&quot;ntes-nav-app-mail&quot;&gt;邮箱大师&lt;/em&gt;
&lt;/span&gt;
&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://study.163.com/client/download.htm?from=163app&amp;amp;utm_source=163.com&amp;amp;utm_medium=web_app&amp;amp;utm_campaign=business&quot;&gt;
&lt;span&gt;
&lt;em class=&quot;ntes-nav-app-study&quot;&gt;网易云课堂&lt;/em&gt;
&lt;/span&gt;
&lt;/a&gt;
&lt;/li&gt;
&lt;li class=&quot;last&quot;&gt;
&lt;a href=&quot;http://da.kaola.com/redirect?t=5aaebece47f92c00&amp;amp;p=c901ea7c&amp;amp;proId=1024&amp;amp;code=6b69bfbfac0db5f335232faa957a27bb&amp;amp;target=https%3A%2F%2Fapp.kaola.com%2F%3Ftag%3Dbe3d8d027a530881037ef01d304eb505&quot;&gt;
&lt;span&gt;
&lt;em class=&quot;ntes-nav-app-kaola-hg&quot;&gt;网易考拉&lt;/em&gt;
&lt;/span&gt;
&lt;/a&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;c-fr&quot;&gt;
&lt;!-- 片段开始 --&gt;
&lt;div class=&quot;ntes-nav-quick-navigation&quot;&gt;
&lt;a class=&quot;ntes-nav-quick-navigation-btn&quot; href=&quot;javascript:void(0);&quot; id=&quot;js_N_ntes_nav_quick_navigation_btn&quot; target=&quot;_self&quot;&gt;
&lt;em&gt;快速导航
              &lt;span class=&quot;menu1&quot;&gt;&lt;/span&gt;
&lt;span class=&quot;menu2&quot;&gt;&lt;/span&gt;
&lt;span class=&quot;menu3&quot;&gt;&lt;/span&gt;
&lt;/em&gt;
&lt;/a&gt;
&lt;div class=&quot;ntes-quicknav-pop&quot; id=&quot;js_N_ntes_quicknav_pop&quot;&gt;
&lt;div class=&quot;ntes-quicknav-list&quot;&gt;
&lt;div class=&quot;ntes-quicknav-content&quot;&gt;
&lt;ul class=&quot;ntes-quicknav-column ntes-quicknav-column-1&quot;&gt;
&lt;li&gt;
&lt;h3&gt;&lt;a href=&quot;https://news.163.com&quot;&gt;新闻&lt;/a&gt;&lt;/h3&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://news.163.com/domestic&quot;&gt;国内&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://news.163.com/world&quot;&gt;国际&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://news.163.com/photo&quot;&gt;图片&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://view.163.com&quot;&gt;评论&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://discovery.163.com&quot;&gt;探索&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://war.163.com&quot;&gt;军事&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://news.163.com/localnews/&quot;&gt;本地新闻&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://news.163.com/special/wangsansanhome/&quot;&gt;王三三&lt;/a&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;ul class=&quot;ntes-quicknav-column ntes-quicknav-column-2&quot;&gt;
&lt;li&gt;
&lt;h3&gt;&lt;a href=&quot;http://sports.163.com&quot;&gt;体育&lt;/a&gt;&lt;/h3&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://sports.163.com/nba&quot;&gt;NBA&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://sports.163.com/cba&quot;&gt;CBA&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://sports.163.com/allsports&quot;&gt;综合&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://sports.163.com/zc&quot;&gt;中超&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://sports.163.com/world&quot;&gt;国际足球&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://sports.163.com/yc&quot;&gt;英超&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://sports.163.com/xj&quot;&gt;西甲&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://sports.163.com/yj&quot;&gt;意甲&lt;/a&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;ul class=&quot;ntes-quicknav-column ntes-quicknav-column-3&quot;&gt;
&lt;li&gt;
&lt;h3&gt;&lt;a href=&quot;http://ent.163.com&quot;&gt;娱乐&lt;/a&gt;&lt;/h3&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://ent.163.com/star&quot;&gt;明星&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://ent.163.com/photo&quot;&gt;图片&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://ent.163.com/movie&quot;&gt;电影&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://ent.163.com/tv&quot;&gt;电视&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://ent.163.com/music&quot;&gt;音乐&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://ent.163.com/special/gsbjb/&quot;&gt;稿事编辑部&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://ent.163.com/special/focus_ent/&quot;&gt;娱乐FOCUS&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://ent.163.com/special/xbkhz/&quot;&gt;星捕快&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ul class=&quot;ntes-quicknav-column ntes-quicknav-column-4&quot;&gt;
&lt;li&gt;
&lt;h3&gt;&lt;a href=&quot;http://money.163.com&quot;&gt;财经&lt;/a&gt;&lt;/h3&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://money.163.com/stock&quot;&gt;股票&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://quotes.money.163.com/stock&quot;&gt;行情&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://money.163.com/chanjing&quot;&gt;产经&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://money.163.com/ipo&quot;&gt;新股&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://money.163.com/finance&quot;&gt;金融&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://money.163.com/fund&quot;&gt;基金&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://biz.163.com&quot;&gt;商业&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://money.163.com/licai&quot;&gt;理财&lt;/a&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;ul class=&quot;ntes-quicknav-column ntes-quicknav-column-5&quot;&gt;
&lt;li&gt;
&lt;h3&gt;&lt;a href=&quot;http://auto.163.com&quot;&gt;汽车&lt;/a&gt;&lt;/h3&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://auto.163.com/buy&quot;&gt;购车&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://auto.163.com/depreciate&quot;&gt;行情&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://product.auto.163.com/finder&quot;&gt;选车&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://product.auto.163.com&quot;&gt;车型库&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://auto.163.com/news&quot;&gt;行业&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://auto.163.com/chezhu&quot;&gt;用车&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://auto.163.com/photo&quot;&gt;汽车图片&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;

                  &lt;/li&gt;
&lt;/ul&gt;
&lt;ul class=&quot;ntes-quicknav-column ntes-quicknav-column-6&quot;&gt;
&lt;li&gt;
&lt;h3&gt;&lt;a href=&quot;http://tech.163.com&quot;&gt;科技&lt;/a&gt;&lt;/h3&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://tech.163.com/telecom/&quot;&gt;通信&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://tech.163.com/it&quot;&gt;IT&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://tech.163.com/internet&quot;&gt;互联网&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://tech.163.com/special/ydhlw&quot;&gt;移动互联网&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://tech.163.com/special/chzt&quot;&gt;特别策划&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://tech.163.com/special/wudaokou&quot;&gt;五道口沙龙&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://tech.163.com/special/yyzd&quot;&gt;易语中的&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://tech.163.com/special&quot;&gt;专题&lt;/a&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;ul class=&quot;ntes-quicknav-column ntes-quicknav-column-7&quot;&gt;
&lt;li&gt;
&lt;h3&gt;&lt;a href=&quot;http://lady.163.com&quot;&gt;女人&lt;/a&gt;&lt;/h3&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://baby.163.com&quot;&gt;亲子&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://fashion.163.com/art&quot;&gt;艺术&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://fashion.163.com&quot;&gt;时尚&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://shoucang.163.com&quot;&gt;收藏&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://lady.163.com/sense&quot;&gt;情感&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://lady.163.com/astro&quot;&gt;星座&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://lady.163.com/beauty&quot;&gt;美容&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://cosmetic.lady.163.com/trial&quot;&gt;免费试用&lt;/a&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;ul class=&quot;ntes-quicknav-column ntes-quicknav-column-8&quot;&gt;
&lt;li&gt;
&lt;h3&gt;&lt;a href=&quot;http://mobile.163.com&quot;&gt;手机&lt;/a&gt;&lt;span&gt;/&lt;/span&gt;&lt;a href=&quot;http://digi.163.com/&quot;&gt;数码&lt;/a&gt;&lt;/h3&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://mobile.163.com/mi&quot;&gt;移动&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://digi.163.com/pc&quot;&gt;电脑&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://product.mobile.163.com&quot;&gt;手机库&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://hea.163.com/&quot;&gt;家电&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://digi.163.com/smart&quot;&gt;智能硬件&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://digi.163.com/dc&quot;&gt;相机&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://v.mobile.163.com&quot;&gt;手机视频&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;

                  &lt;/li&gt;
&lt;/ul&gt;
&lt;ul class=&quot;ntes-quicknav-column ntes-quicknav-column-9&quot;&gt;
&lt;li&gt;
&lt;h3&gt;&lt;a href=&quot;http://house.163.com&quot;&gt;房产&lt;/a&gt;&lt;span&gt;/&lt;/span&gt;&lt;a href=&quot;http://home.163.com&quot;&gt;家居&lt;/a&gt;&lt;/h3&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://bj.house.163.com&quot;&gt;北京房产&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://sh.house.163.com&quot;&gt;上海房产&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://gz.house.163.com&quot;&gt;广州房产&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://house.163.com/city&quot;&gt;全部分站&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://xf.house.163.com&quot;&gt;楼盘库&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://home.163.com/jiaju/&quot;&gt;家具&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://home.163.com/weiyu/&quot;&gt;卫浴&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://home.163.com/special/jiajuyigui&quot;&gt;衣柜&lt;/a&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;ul class=&quot;ntes-quicknav-column ntes-quicknav-column-10&quot;&gt;
&lt;li&gt;
&lt;h3&gt;&lt;a href=&quot;http://travel.163.com&quot;&gt;旅游&lt;/a&gt;&lt;/h3&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://travel.163.com/outdoor&quot;&gt;户外&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://guizhou.travel.163.com&quot;&gt;贵州&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://travel.163.com/food&quot;&gt;美食&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://jingdian.travel.163.com/domestic/1000066937&quot;&gt;四川&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://jingdian.travel.163.com&quot;&gt;景点&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://jingdian.travel.163.com/domestic/1000066944&quot;&gt;新疆&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://travel.163.com/special/travellist/#f=endnav&quot;&gt;专题&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://jingdian.travel.163.com/domestic/1000066926/#f=endnav&quot;&gt;西藏&lt;/a&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;ul class=&quot;ntes-quicknav-column ntes-quicknav-column-11&quot;&gt;
&lt;li&gt;
&lt;h3&gt;&lt;a href=&quot;http://edu.163.com&quot;&gt;教育&lt;/a&gt;&lt;/h3&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://edu.163.com/yimin&quot;&gt;移民&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://edu.163.com/kaoyan&quot;&gt;考研&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://edu.163.com/liuxue&quot;&gt;留学&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://edu.163.com/special/official&quot;&gt;公务员&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://edu.163.com/en&quot;&gt;外语&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://kids.163.com&quot;&gt;中小学&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://edu.163.com/gaokao&quot;&gt;高考&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://daxue.163.com&quot;&gt;校园&lt;/a&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;ntes-nav-sitemap&quot;&gt;&lt;a href=&quot;http://sitemap.163.com/&quot;&gt;&lt;i&gt;&lt;/i&gt;查看网易地图&lt;/a&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;c-fr&quot;&gt;
&lt;div class=&quot;c-fl&quot; id=&quot;js_N_navLoginBefore&quot;&gt;
&lt;div class=&quot;js_loginframe ntes-nav-login ntes-nav-login-normal&quot; id=&quot;js_N_navHighlight&quot;&gt;
&lt;a class=&quot;ntes-nav-login-title&quot; href=&quot;http://reg.163.com/&quot; id=&quot;js_N_nav_login_title&quot;&gt;登录&lt;/a&gt;
&lt;div class=&quot;ntes-nav-loginframe-pop&quot; id=&quot;js_N_login_wrap&quot;&gt;
&lt;!--加载登陆组件--&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;js_N_navSelect ntes-nav-select ntes-nav-select-wide JS_NTES_LOG_FE c-fl&quot;&gt;
&lt;a class=&quot;ntes-nav-select-title ntes-nav-select-title-register&quot; href=&quot;http://reg.email.163.com/mailregAll/reg0.jsp?from=163navi&amp;amp;regPage=163&quot;&gt;注册免费邮箱
                &lt;em class=&quot;ntes-nav-select-arr&quot;&gt;&lt;/em&gt;
&lt;/a&gt;
&lt;div class=&quot;ntes-nav-select-pop&quot;&gt;
&lt;ul class=&quot;ntes-nav-select-list clearfix&quot; style=&quot;width:210px;&quot;&gt;
&lt;li&gt;
&lt;a href=&quot;http://reg.vip.163.com/register.m?from=topnav&quot;&gt;
&lt;span style=&quot;width:190px;&quot;&gt;注册VIP邮箱（特权邮箱，付费）&lt;/span&gt;
&lt;/a&gt;
&lt;/li&gt;
&lt;li class=&quot;last JS_NTES_LOG_FE&quot;&gt;
&lt;a href=&quot;http://mail.163.com/client/dl.html?from=mail46&quot;&gt;
&lt;span style=&quot;width:190px;&quot;&gt;免费下载网易官方手机邮箱应用&lt;/span&gt;
&lt;/a&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;c-fl&quot; id=&quot;js_N_navLoginAfter&quot; style=&quot;display:none&quot;&gt;
&lt;div class=&quot;js_N_navSelect ntes-nav-select ntes-nav-logined JS_NTES_LOG_FE&quot; id=&quot;js_N_logined_warp&quot;&gt;
&lt;span class=&quot;ntes-nav-select-title ntes-nav-logined-userinfo&quot;&gt;
&lt;span class=&quot;ntes-nav-logined-username&quot; id=&quot;js_N_navUsername&quot;&gt;&lt;/span&gt;
&lt;em class=&quot;ntes-nav-select-arr&quot;&gt;&lt;/em&gt;
&lt;/span&gt;
&lt;div class=&quot;ntes-nav-select-pop&quot; id=&quot;js_login_suggest_wrap&quot;&gt;
&lt;ul class=&quot;ntes-nav-select-list clearfix&quot; id=&quot;js_logined_suggest&quot;&gt;&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;a class=&quot;ntes-nav-entry-wide c-fl&quot; id=&quot;js_N_navLogout&quot; target=&quot;_self&quot;&gt;安全退出&lt;/a&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;ul class=&quot;ntes-nav-inside&quot;&gt;
&lt;li&gt;
&lt;div class=&quot;js_N_navSelect ntes-nav-select c-fl&quot;&gt;
&lt;a class=&quot;ntes-nav-mobile-title ntes-nav-entry-bgblack&quot; href=&quot;http://www.163.com/newsapp/#f=163nav&quot;&gt;
&lt;em class=&quot;ntes-nav-entry-mobile&quot;&gt;移动端&lt;/em&gt;
&lt;/a&gt;
&lt;div class=&quot;qrcode-img&quot;&gt;
&lt;a href=&quot;http://www.163.com/newsapp/#f=163nav&quot;&gt;
&lt;img src=&quot;//static.ws.126.net/f2e/include/common_nav/images/topapp.jpg&quot;/&gt;
&lt;/a&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;div class=&quot;js_N_navSelect ntes-nav-select c-fl&quot;&gt;
&lt;a class=&quot;ntes-nav-select-title ntes-nav-select-title-huatian ntes-nav-entry-bgblack&quot; href=&quot;https://open.163.com/&quot; id=&quot;js_love_url&quot;&gt;
&lt;em class=&quot;ntes-nav-entry-huatian&quot;&gt;网易公开课&lt;/em&gt;
&lt;em class=&quot;ntes-nav-select-arr&quot;&gt;&lt;/em&gt;
&lt;span class=&quot;ntes-nav-msg&quot;&gt;
&lt;em class=&quot;ntes-nav-msg-num&quot;&gt;&lt;/em&gt;
&lt;/span&gt;
&lt;/a&gt;
&lt;div class=&quot;ntes-nav-select-pop ntes-nav-select-pop-huatian&quot;&gt;
&lt;ul class=&quot;ntes-nav-select-list clearfix&quot;&gt;
&lt;li&gt;
&lt;a href=&quot;https://vip.open.163.com&quot;&gt;
&lt;span&gt;付费精品&lt;/span&gt;
&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;https://open.163.com/ted/&quot;&gt;
&lt;span&gt;TED&lt;/span&gt;
&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;https://open.163.com/ocw/&quot;&gt;
&lt;span&gt;国际名校公开课&lt;/span&gt;
&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://open.163.com/cuvocw/&quot;&gt;
&lt;span&gt;中国大学视频公开课&lt;/span&gt;
&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;https://open.163.com/appreciation&quot;&gt;
&lt;span&gt;赏课&lt;/span&gt;
&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;https://open.163.com/khan/&quot;&gt;
&lt;span&gt;可汗学院&lt;/span&gt;
&lt;/a&gt;
&lt;/li&gt;
&lt;li class=&quot;last&quot;&gt;
&lt;a href=&quot;http://open.163.com/special/appdownload_pc/&quot;&gt;
&lt;span&gt;下载公开课&lt;/span&gt;
&lt;/a&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;div class=&quot;js_N_navSelect ntes-nav-select c-fl&quot;&gt;
&lt;a class=&quot;ntes-nav-select-title ntes-nav-select-title-kaola ntes-nav-entry-bgblack&quot; href=&quot;http://da.kaola.com/redirect?t=5aaebece48792c00&amp;amp;p=c901ea7c&amp;amp;proId=1024&amp;amp;code=d638f275b1755320e845734e53e897ee&amp;amp;target=https%3A%2F%2Fpages.kaola.com%2Fpages%2Factivity%2Fjfccri80pages1.shtml%3Ftag%3Dbe3d8d027a530881037ef01d304eb505&quot; id=&quot;js_kaola_url&quot;&gt;
&lt;em class=&quot;ntes-nav-entry-kaola&quot;&gt;网易考拉&lt;/em&gt;
&lt;em class=&quot;ntes-nav-select-arr&quot;&gt;&lt;/em&gt;
&lt;span class=&quot;ntes-nav-msg ntes-nav-kaola-msg&quot; id=&quot;js_N_navKaolaMsg&quot;&gt;
&lt;em class=&quot;ntes-nav-msg-num&quot;&gt;&lt;/em&gt;
&lt;/span&gt;
&lt;/a&gt;
&lt;div class=&quot;ntes-nav-select-pop ntes-nav-select-pop-kaola&quot;&gt;
&lt;ul class=&quot;ntes-nav-select-list clearfix&quot;&gt;
&lt;li&gt;
&lt;a href=&quot;http://da.kaola.com/redirect?t=5aaebece48f92c00&amp;amp;p=c901ea7c&amp;amp;proId=1024&amp;amp;code=b3e224752b2cad85e9831e8c6cf7fbbd&amp;amp;target=https%3A%2F%2Fpages.kaola.com%2Fpages%2Factivity%2Fbimaibangdan.shtml%3Ftag%3Dbe3d8d027a530881037ef01d304eb505&quot;&gt;
&lt;span&gt;1000元新人大礼包&lt;/span&gt;
&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://da.kaola.com/redirect?t=5aaebece49392c00&amp;amp;p=c901ea7c&amp;amp;proId=1024&amp;amp;code=fd8e43f4a20a26fbe60f7e7de1f17efe&amp;amp;target=https%3A%2F%2Fpages.kaola.com%2Fpages%2Factivity%2Fjfccri80pages1.shtml%3Ftag%3Dbe3d8d027a530881037ef01d304eb505&quot;&gt;
&lt;span&gt;新人专享进口好货&lt;/span&gt;
&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://da.kaola.com/redirect?t=5aaebece49392c01&amp;amp;p=c901ea7c&amp;amp;proId=1024&amp;amp;code=21bcd5b595fc235cfd11e3e1cff14177&amp;amp;target=https%3A%2F%2Factivity.kaola.com%2Factivity%2FflashSaleIndex%2Fshow.html%3Ftag%3Dbe3d8d027a530881037ef01d304eb505&quot;&gt;
&lt;span&gt;今日限时抢购&lt;/span&gt;
&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://da.kaola.com/redirect?t=5aaebece49792c00&amp;amp;p=c901ea7c&amp;amp;proId=1024&amp;amp;code=ecc40777cb2d68a3d9fb078b232f081d&amp;amp;target=https%3A%2F%2Fpages.kaola.com%2Fpages%2Factivity%2Fjfyrzolcpagerz.shtml%3Ftag%3Dbe3d8d027a530881037ef01d304eb505&quot;&gt;
&lt;span&gt;营养保健&lt;/span&gt;
&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://da.kaola.com/redirect?t=5aaebece49b92c00&amp;amp;p=c901ea7c&amp;amp;proId=1024&amp;amp;code=0cdd5a920c768340ffc12eccd659341d&amp;amp;target=https%3A%2F%2Fpages.kaola.com%2Fpages%2Factivity%2Fnewpc.shtml%3Ftag%3Dbe3d8d027a530881037ef01d304eb505&quot;&gt;
&lt;span&gt;个人洗护&lt;/span&gt;
&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://da.kaola.com/redirect?t=5aaebece4a392c00&amp;amp;p=c901ea7c&amp;amp;proId=1024&amp;amp;code=ee49a3a793f22e648ac616f5dab061dd&amp;amp;target=https%3A%2F%2Fpages.kaola.com%2Fpages%2Factivity%2Fjpwmb9zcpagesl.shtml%3Ftag%3Dbe3d8d027a530881037ef01d304eb505&quot;&gt;
&lt;span&gt;美容彩妆&lt;/span&gt;
&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://da.kaola.com/redirect?t=5aaebece4a792c00&amp;amp;p=c901ea7c&amp;amp;proId=1024&amp;amp;code=6eb2598fd20963efc203a4e3fe88f4e2&amp;amp;target=https%3A%2F%2Fpages.kaola.com%2Fpages%2Factivity%2Fmyxrq.shtml%3Ftag%3Dbe3d8d027a530881037ef01d304eb505&quot;&gt;
&lt;span&gt;母婴儿童&lt;/span&gt;
&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://da.kaola.com/redirect?t=5aaebece4ab92c00&amp;amp;p=c901ea7c&amp;amp;proId=1024&amp;amp;code=3946ce460ba655c11afac69855dfc02b&amp;amp;target=https%3A%2F%2Fpages.kaola.com%2Fpages%2Factivity%2Ffoodnewcustomers.shtml%3Ftag%3Dbe3d8d027a530881037ef01d304eb505&quot;&gt;
&lt;span&gt;环球美食&lt;/span&gt;
&lt;/a&gt;
&lt;/li&gt;
&lt;li class=&quot;last&quot;&gt;
&lt;a href=&quot;http://da.kaola.com/redirect?t=5aaebece4af92c00&amp;amp;p=c901ea7c&amp;amp;proId=1024&amp;amp;code=2eee7290051863737a434d44f3c0d46f&amp;amp;target=https%3A%2F%2Fpages.kaola.com%2Fpages%2Factivity%2Fnewtalent.shtml%3Ftag%3Dbe3d8d027a530881037ef01d304eb505&quot;&gt;
&lt;span&gt;家居生活&lt;/span&gt;
&lt;/a&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;div class=&quot;js_N_navSelect ntes-nav-select c-fl&quot;&gt;
&lt;a class=&quot;ntes-nav-select-title ntes-nav-select-title-lofter ntes-nav-entry-bgblack&quot; href=&quot;http://you.163.com/?from=web_fc_menhu_xinrukou_1&quot; id=&quot;js_lofter_icon_url&quot;&gt;
&lt;em class=&quot;ntes-nav-entry-lofter&quot;&gt;网易严选&lt;/em&gt;
&lt;em class=&quot;ntes-nav-select-arr&quot;&gt;&lt;/em&gt;
&lt;span class=&quot;ntes-nav-msg&quot; id=&quot;js_N_navLofterMsg&quot;&gt;
&lt;em class=&quot;ntes-nav-msg-num&quot;&gt;&lt;/em&gt;
&lt;/span&gt;
&lt;/a&gt;
&lt;div class=&quot;ntes-nav-select-pop ntes-nav-select-pop-lofter&quot;&gt;
&lt;ul class=&quot;ntes-nav-select-list clearfix&quot; id=&quot;js_lofter_pop_url&quot;&gt;
&lt;li&gt;
&lt;a href=&quot;http://you.163.com/act/static/Fb2d1OZ714.html?from=web_fc_menhu_xinrukou_1&quot;&gt;
&lt;span&gt;888元现金券&lt;/span&gt;
&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://you.163.com/manufacturer/list?from=web_fc_menhu_xinrukou_3&quot;&gt;
&lt;span&gt;品牌制造商爆款&lt;/span&gt;
&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://you.163.com/item/recommend?from=web_fc_menhu_xinrukou_4&quot;&gt;
&lt;span&gt;999+人气好评品&lt;/span&gt;
&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://you.163.com/flashSale/index?from=web_fc_menhu_xinrukou_5&quot;&gt;
&lt;span&gt;限时特惠&lt;/span&gt;
&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://you.163.com/item/list?categoryId=1005000&amp;amp;from=web_fc_menhu_xinrukou_7&quot;&gt;
&lt;span&gt;居家床品&lt;/span&gt;
&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://you.163.com/item/list?categoryId=1005001&amp;amp;from=web_fc_menhu_xinrukou_8&quot;&gt;
&lt;span&gt;精致餐厨&lt;/span&gt;
&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://you.163.com/item/list?categoryId=1008000&amp;amp;from=web_fc_menhu_xinrukou_9&quot;&gt;
&lt;span&gt;箱包鞋类&lt;/span&gt;
&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://you.163.com/item/list?categoryId=1010000&amp;amp;from=web_fc_menhu_xinrukou_10&quot;&gt;
&lt;span&gt;经典服饰&lt;/span&gt;
&lt;/a&gt;
&lt;/li&gt;
&lt;li class=&quot;last&quot;&gt;
&lt;a href=&quot;http://you.163.com/item/list?categoryId=1005002&amp;amp;from=web_fc_menhu_xinrukou_11&quot;&gt;
&lt;span&gt;健康美食&lt;/span&gt;
&lt;/a&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;div class=&quot;js_N_navSelect ntes-nav-select c-fl&quot;&gt;
&lt;a class=&quot;ntes-nav-select-title ntes-nav-select-title-money ntes-nav-entry-bgblack&quot; href=&quot;http://pay.163.com/&quot;&gt;
&lt;em class=&quot;ntes-nav-entry-money&quot;&gt;支付&lt;/em&gt;
&lt;em class=&quot;ntes-nav-select-arr&quot;&gt;&lt;/em&gt;
&lt;/a&gt;
&lt;div class=&quot;ntes-nav-select-pop ntes-nav-select-pop-temp&quot;&gt;
&lt;ul class=&quot;ntes-nav-select-list clearfix&quot;&gt;
&lt;li&gt;
&lt;a href=&quot;http://pay.163.com/#f=topnav&quot;&gt;
&lt;span&gt;一卡通充值&lt;/span&gt;
&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://ecard.163.com/script/index#f=topnav&quot;&gt;
&lt;span&gt;一卡通购买&lt;/span&gt;
&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;https://k.163.com/?product=163&amp;amp;trackid=01&quot;&gt;
&lt;span&gt;网易白金卡&lt;/span&gt;
&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;https://epay.163.com/&quot;&gt;
&lt;span&gt;我的网易支付&lt;/span&gt;
&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;https://3c.163.com/?from=wangyimenhu16&quot;&gt;
&lt;span&gt;网易智造&lt;/span&gt;
&lt;/a&gt;
&lt;/li&gt;
&lt;li class=&quot;last&quot;&gt;
&lt;a href=&quot;http://lq.163.com?from=neteasemoney&quot;&gt;
&lt;span&gt;网易来钱-借现金&lt;/span&gt;
&lt;/a&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;div class=&quot;js_N_navSelect ntes-nav-select c-fl&quot;&gt;
&lt;a class=&quot;ntes-nav-select-title ntes-nav-select-title-cart ntes-nav-entry-bgblack&quot; href=&quot;http://baoxian.163.com/car/?from=mhgwc&quot;&gt;
&lt;em class=&quot;ntes-nav-entry-cart&quot;&gt;电商&lt;/em&gt;
&lt;em class=&quot;ntes-nav-select-arr&quot;&gt;&lt;/em&gt;
&lt;/a&gt;
&lt;div class=&quot;ntes-nav-select-pop ntes-nav-select-pop-temp&quot;&gt;
&lt;ul class=&quot;ntes-nav-select-list clearfix&quot;&gt;
&lt;li&gt;
&lt;a href=&quot;http://you.163.com?from=web_in_wydaohang&quot;&gt;
&lt;span&gt;严选&lt;/span&gt;
&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://lq.163.com?from=neteasebuy&quot;&gt;
&lt;span&gt;我要借钱&lt;/span&gt;
&lt;/a&gt;
&lt;/li&gt;
&lt;li class=&quot;last&quot;&gt;
&lt;a href=&quot;http://da.kaola.com/redirect?t=5aaebece4b392c00&amp;amp;p=c901ea7c&amp;amp;proId=1024&amp;amp;code=d15f8f9d72ccc507aeefda91b43c0cd2&amp;amp;target=https%3A%2F%2Fpages.kaola.com%2Fpages%2Factivity%2Fjfccri80pages1.shtml%3Ftag%3Dbe3d8d027a530881037ef01d304eb505&quot;&gt;
&lt;span&gt;网易考拉&lt;/span&gt;
&lt;/a&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;div class=&quot;js_N_navSelect ntes-nav-select c-fl&quot;&gt;
&lt;a class=&quot;ntes-nav-select-title ntes-nav-select-title-mail ntes-nav-entry-bgblack&quot; id=&quot;js_mail_url&quot;&gt;
&lt;em class=&quot;ntes-nav-entry-mail&quot;&gt;邮箱&lt;/em&gt;
&lt;em class=&quot;ntes-nav-select-arr&quot;&gt;&lt;/em&gt;
&lt;span class=&quot;ntes-nav-msg&quot; id=&quot;js_N_navMailMsg&quot;&gt;
&lt;em class=&quot;ntes-nav-msg-num&quot; id=&quot;js_N_navMailMsgNum&quot;&gt;&lt;/em&gt;
&lt;/span&gt;
&lt;/a&gt;
&lt;div class=&quot;ntes-nav-select-pop ntes-nav-select-pop-mail&quot;&gt;
&lt;ul class=&quot;ntes-nav-select-list clearfix&quot;&gt;
&lt;li&gt;
&lt;a href=&quot;http://email.163.com/#f=topnav&quot;&gt;
&lt;span&gt;免费邮箱&lt;/span&gt;
&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://vipmail.163.com/#f=topnav&quot;&gt;
&lt;span&gt;VIP邮箱&lt;/span&gt;
&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://qiye.163.com/#f=topnav&quot;&gt;
&lt;span&gt;企业邮箱&lt;/span&gt;
&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://reg.email.163.com/mailregAll/reg0.jsp?from=ntes_nav&amp;amp;regPage=163&quot;&gt;
&lt;span&gt;免费注册&lt;/span&gt;
&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://reg.email.163.com/unireg/call.do?cmd=register.entrance&amp;amp;flow=mobile&amp;amp;from=ntes_nav&quot;&gt;
&lt;span&gt;快速注册&lt;/span&gt;
&lt;/a&gt;
&lt;/li&gt;
&lt;li class=&quot;last&quot;&gt;
&lt;a href=&quot;http://mail.163.com/dashi/dlpro.html?from=mail46&quot;&gt;
&lt;span&gt;客户端下载&lt;/span&gt;
&lt;/a&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;script src=&quot;//static.ws.126.net/163/f2e/commonnav2019/js/commonnav_headjs-2f356198e6.js&quot;&gt;&lt;/script&gt;
&lt;/div&gt;
&lt;!-- 节日背景 --&gt;
&lt;div class=&quot;ns-bg-wrap&quot;&gt;
&lt;div class=&quot;N-nav-channel JS_NTES_LOG_FE&quot; data-module-name=&quot;xwwzy_11_headdaohang&quot;&gt;
&lt;a class=&quot;first&quot; href=&quot;https://news.163.com/&quot;&gt;新闻&lt;/a&gt;&lt;a href=&quot;http://sports.163.com/&quot;&gt;体育&lt;/a&gt;&lt;a href=&quot;http://sports.163.com/nba/&quot;&gt;NBA&lt;/a&gt;&lt;a href=&quot;http://ent.163.com/&quot;&gt;娱乐&lt;/a&gt;&lt;a href=&quot;http://money.163.com/&quot;&gt;财经&lt;/a&gt;&lt;a href=&quot;http://money.163.com/stock/&quot;&gt;股票&lt;/a&gt;&lt;a href=&quot;http://auto.163.com/&quot; id=&quot;_link_auto&quot;&gt;汽车&lt;/a&gt;&lt;a href=&quot;http://tech.163.com/&quot;&gt;科技&lt;/a&gt;&lt;a href=&quot;http://mobile.163.com/&quot;&gt;手机&lt;/a&gt;&lt;a href=&quot;http://digi.163.com/&quot;&gt;数码&lt;/a&gt;&lt;a href=&quot;http://lady.163.com/&quot;&gt;女人&lt;/a&gt;&lt;a href=&quot;http://v.163.com/&quot;&gt;直播&lt;/a&gt;&lt;a href=&quot;http://v.163.com/special/video/#tuijian&quot;&gt;视频&lt;/a&gt;&lt;a href=&quot;http://travel.163.com/&quot;&gt;旅游&lt;/a&gt;&lt;a href=&quot;http://house.163.com/&quot; id=&quot;houseUrl&quot;&gt;房产&lt;/a&gt;&lt;a href=&quot;http://home.163.com/&quot; id=&quot;homeUrl&quot;&gt;家居&lt;/a&gt;&lt;a href=&quot;http://edu.163.com/&quot;&gt;教育&lt;/a&gt;&lt;a href=&quot;http://book.163.com/&quot;&gt;读书&lt;/a&gt;&lt;a href=&quot;https://news.163.com/&quot; id=&quot;_link_game&quot;&gt;本地&lt;/a&gt;&lt;a href=&quot;http://jiankang.163.com/&quot;&gt;健康&lt;/a&gt;&lt;a href=&quot;http://rd.da.netease.com/redirect?t=5802fb18cf033c80&amp;amp;p=e17af55c&amp;amp;proId=1024&amp;amp;target=https%3A%2F%2Fwww.kaola.com%2F%3Ftag%3Dbe3d8d027a530881037ef01d304eb505&quot;&gt;海淘&lt;/a&gt;&lt;a class=&quot;last&quot; href=&quot;http://art.163.com/&quot;&gt;艺术&lt;/a&gt;
&lt;/div&gt;
&lt;!-- 游戏替换为本地，并定向 0310--&gt;
&lt;!-- 配置定向城市 --&gt;
&lt;script _keep=&quot;true&quot; type=&quot;text/javascript&quot;&gt;
var HouseNavBendiTxt = &#123;
    &quot;province&quot;: [
        &#123;
            &quot;name&quot;: &quot;北京市&quot;,
            &quot;shortName&quot;: &quot;北京&quot;,
            &quot;url&quot;:&quot;http://bj.news.163.com/&quot;
        &#125;,
        &#123;
            &quot;name&quot;: &quot;上海市&quot;,
            &quot;shortName&quot;: &quot;上海&quot;,
            &quot;url&quot;:&quot;http://sh.news.163.com/&quot;
        &#125;,
        &#123;
            &quot;name&quot;: &quot;天津市&quot;,
            &quot;shortName&quot;: &quot;天津&quot;,
            &quot;url&quot;:&quot;http://tj.news.163.com/&quot;
        &#125;,
        &#123;
            &quot;name&quot;: &quot;广东省&quot;,
            &quot;shortName&quot;: &quot;广东&quot;,
            &quot;url&quot;:&quot;http://gd.news.163.com/&quot;
        &#125;,
        &#123;
            &quot;name&quot;: &quot;江苏省&quot;,
            &quot;shortName&quot;: &quot;江苏&quot;,
            &quot;url&quot;:&quot;http://js.news.163.com/&quot;
        &#125;,
        &#123;
            &quot;name&quot;: &quot;浙江省&quot;,
            &quot;shortName&quot;: &quot;浙江&quot;,
            &quot;url&quot;:&quot;http://zj.news.163.com/&quot;
        &#125;,
        &#123;
            &quot;name&quot;: &quot;四川省&quot;,
            &quot;shortName&quot;: &quot;四川&quot;,
            &quot;url&quot;:&quot;http://sc.news.163.com/&quot;
        &#125;,
        &#123;
            &quot;name&quot;: &quot;黑龙江省&quot;,
            &quot;shortName&quot;: &quot;黑龙江&quot;,
            &quot;url&quot;:&quot;http://hlj.news.163.com/&quot;
        &#125;,
        &#123;
            &quot;name&quot;: &quot;吉林省&quot;,
            &quot;shortName&quot;: &quot;吉林&quot;,
            &quot;url&quot;:&quot;http://jl.news.163.com/&quot;
        &#125;,
        &#123;
            &quot;name&quot;: &quot;辽宁省&quot;,
            &quot;shortName&quot;: &quot;辽宁&quot;,
            &quot;url&quot;:&quot;http://liaoning.news.163.com/&quot;
        &#125;,
        &#123;
            &quot;name&quot;: &quot;内蒙古自治区&quot;,
            &quot;shortName&quot;: &quot;内蒙古&quot;,
            &quot;url&quot;:&quot;http://hhht.news.163.com/&quot;
        &#125;,
        &#123;
            &quot;name&quot;: &quot;河北省&quot;,
            &quot;shortName&quot;: &quot;河北&quot;,
            &quot;url&quot;:&quot;http://hebei.news.163.com/&quot;
        &#125;,
        &#123;
            &quot;name&quot;: &quot;河南省&quot;,
            &quot;shortName&quot;: &quot;河南&quot;,
            &quot;url&quot;:&quot;http://henan.163.com/&quot;
        &#125;,
        &#123;
            &quot;name&quot;: &quot;山东省&quot;,
            &quot;shortName&quot;: &quot;山东&quot;,
            &quot;url&quot;:&quot;http://sd.news.163.com/&quot;
        &#125;,
        &#123;
            &quot;name&quot;: &quot;陕西省&quot;,
            &quot;shortName&quot;: &quot;陕西&quot;,
            &quot;url&quot;:&quot;http://shanxi.news.163.com/&quot;
        &#125;,
        &#123;
            &quot;name&quot;: &quot;甘肃省&quot;,
            &quot;shortName&quot;: &quot;甘肃&quot;,
            &quot;url&quot;:&quot;http://gs.news.163.com/&quot;
        &#125;,
        &#123;
            &quot;name&quot;: &quot;宁夏回族自治区&quot;,
            &quot;shortName&quot;: &quot;宁夏&quot;,
            &quot;url&quot;:&quot;http://ningxia.news.163.com/&quot;
        &#125;,
        &#123;
            &quot;name&quot;: &quot;新疆维吾尔自治区&quot;,
            &quot;shortName&quot;: &quot;新疆&quot;,
            &quot;url&quot;:&quot;http://xj.news.163.com/&quot;
        &#125;,
        &#123;
            &quot;name&quot;: &quot;安徽省&quot;,
            &quot;shortName&quot;: &quot;安徽&quot;,
            &quot;url&quot;:&quot;http://ah.news.163.com/&quot;
        &#125;,
        &#123;
            &quot;name&quot;: &quot;福建省&quot;,
            &quot;shortName&quot;: &quot;福建&quot;,
            &quot;url&quot;:&quot;http://fj.news.163.com/&quot;
        &#125;,
        &#123;
            &quot;name&quot;: &quot;广西壮族自治区&quot;,
            &quot;shortName&quot;: &quot;广西&quot;,
            &quot;url&quot;:&quot;http://gx.news.163.com/&quot;
        &#125;,
        &#123;
            &quot;name&quot;: &quot;重庆市&quot;,
            &quot;shortName&quot;: &quot;重庆&quot;,
            &quot;url&quot;:&quot;http://chongqing.163.com/&quot;
        &#125;,
        &#123;
            &quot;name&quot;: &quot;湖北省&quot;,
            &quot;shortName&quot;: &quot;湖北&quot;,
            &quot;url&quot;:&quot;http://hb.news.163.com/&quot;
        &#125;,
        &#123;
            &quot;name&quot;: &quot;江西省&quot;,
            &quot;shortName&quot;: &quot;江西&quot;,
            &quot;url&quot;:&quot;http://jx.news.163.com/&quot;
        &#125;,
        &#123;
            &quot;name&quot;: &quot;海南省&quot;,
            &quot;shortName&quot;: &quot;海南&quot;,
            &quot;url&quot;:&quot;http://hn.news.163.com/&quot;
        &#125;,
        &#123;
            &quot;name&quot;: &quot;贵州省&quot;,
            &quot;shortName&quot;: &quot;贵州&quot;,
            &quot;url&quot;:&quot;http://gz.news.163.com/&quot;
        &#125;,
        &#123;
            &quot;name&quot;: &quot;云南省&quot;,
            &quot;shortName&quot;: &quot;云南&quot;,
            &quot;url&quot;:&quot;http://yn.news.163.com/&quot;
        &#125;,
        &#123;
            &quot;name&quot;: &quot;湖南省&quot;,
            &quot;shortName&quot;: &quot;上海&quot;,
            &quot;url&quot;:&quot;http://sh.news.163.com/&quot;
        &#125;,
        &#123;
            &quot;name&quot;: &quot;山西省&quot;,
            &quot;shortName&quot;: &quot;山西&quot;,
            &quot;url&quot;:&quot;http://sx.news.163.com&quot;
        &#125;,
        &#123;
            &quot;name&quot;: &quot;西藏自治区&quot;,
            &quot;shortName&quot;: &quot;北京&quot;,
            &quot;url&quot;:&quot;http://bj.news.163.com/&quot;
        &#125;,
        &#123;
            &quot;name&quot;: &quot;香港特别行政区&quot;,
            &quot;shortName&quot;: &quot;广东&quot;,
            &quot;url&quot;:&quot;http://gd.news.163.com/&quot;
        &#125;,
        &#123;
            &quot;name&quot;: &quot;澳门特别行政区&quot;,
            &quot;shortName&quot;: &quot;广东&quot;,
            &quot;url&quot;:&quot;http://gd.news.163.com/&quot;
        &#125;,
        &#123;
            &quot;name&quot;: &quot;台湾省&quot;,
            &quot;shortName&quot;: &quot;广东&quot;,
            &quot;url&quot;:&quot;http://gd.news.163.com/&quot;
        &#125;,
        &#123;
            &quot;name&quot;: &quot;天津市&quot;,
            &quot;shortName&quot;: &quot;北京&quot;,
            &quot;url&quot;:&quot;http://bj.news.163.com/&quot;
        &#125;,
        &#123;
            &quot;name&quot;: &quot;青海省&quot;,
            &quot;shortName&quot;: &quot;北京&quot;,
            &quot;url&quot;:&quot;http://bj.news.163.com/&quot;
        &#125;
    ],
    &quot;city&quot;: [
        &#123;
            &quot;name&quot;: &quot;大连市&quot;,
            &quot;shortName&quot;: &quot;大连&quot;,
            &quot;url&quot;:&quot;http://dl.news.163.com&quot;
        &#125;,
        &#123;
            &quot;name&quot;: &quot;青岛市&quot;,
            &quot;shortName&quot;: &quot;青岛&quot;,
            &quot;url&quot;:&quot;http://qingdao.news.163.com&quot;
        &#125;,
        &#123;
            &quot;name&quot;: &quot;宁波市&quot;,
            &quot;shortName&quot;: &quot;宁波&quot;,
            &quot;url&quot;:&quot;http://ningbo.news.163.com&quot;
        &#125;,
        &#123;
            &quot;name&quot;: &quot;厦门市&quot;,
            &quot;shortName&quot;: &quot;厦门&quot;,
            &quot;url&quot;:&quot;http://xiamen.news.163.com&quot;
        &#125;,
        &#123;
            &quot;name&quot;: &quot;深圳市&quot;,
            &quot;shortName&quot;: &quot;深圳&quot;,
            &quot;url&quot;:&quot;http://shenzhen.news.163.com/&quot;
        &#125;
    ],
    &quot;defalt&quot;: &#123;
            &quot;name&quot;: &quot;&quot;,
            &quot;shortName&quot;: &quot;本地&quot;,
            &quot;url&quot;:&quot;http://news.163.com/&quot;
        &#125;
&#125;;
&lt;/script&gt;
&lt;script _keep=&quot;true&quot; type=&quot;text/javascript&quot;&gt;
    //本地设置定向省份
    function setBendiName()&#123;
        var js_nav_bendi = document.getElementById(&quot;_link_game&quot;);
        var cityname = &quot;&quot;;
        var cityurl = &quot;&quot;;
        var _loc = window.localAddress;
        if(!js_nav_bendi)
            return;
        if(HouseNavBendiTxt.city &amp;&amp; _loc)&#123;
            var citylist = HouseNavBendiTxt.city;
            var localcity = _loc.city;
            for(var i=0;i&lt;citylist.length;i++)&#123;
                if(citylist[i].name == localcity)&#123;
                    cityname = citylist[i].shortName;
                    cityurl = citylist[i].url;
                    break;
                &#125;
            &#125;
        &#125;
        if(cityname == &quot;&quot; &amp;&amp; cityurl == &quot;&quot; &amp;&amp; HouseNavBendiTxt.province &amp;&amp; _loc)&#123;
            var provincelist = HouseNavBendiTxt.province;
            var localprovince = _loc.province;
            for(var i=0;i&lt;provincelist.length;i++)&#123;
                if(provincelist[i].name == localprovince)&#123;
                    cityname = provincelist[i].shortName;
                    cityurl = provincelist[i].url;
                    break;
                &#125;
            &#125;
        &#125;
        if(js_nav_bendi &amp;&amp; cityname != &quot;&quot; &amp;&amp; cityurl != &quot;&quot;)&#123;
            js_nav_bendi.innerHTML = cityname;
            js_nav_bendi.href = cityurl;
        &#125;
        if(js_nav_bendi &amp;&amp; cityname == &quot;&quot; &amp;&amp; cityurl == &quot;&quot;)&#123;
            js_nav_bendi.innerHTML = &quot;本地&quot;;
            js_nav_bendi.href = &quot;http://news.163.com&quot;;
        &#125;
    &#125;
    function BENDI_NAV_CALLBACK(data)&#123;
       if(data &amp;&amp; data.result)&#123;
            if(window.HouseNavBendiTxt)&#123;
                window.localAddress = data.result;
                setBendiName();
            &#125; 
       &#125;
    &#125;;

    if(window.localAddress)&#123;
        if(window.HouseNavBendiTxt)&#123;
            setBendiName();
        &#125; 
    &#125;else&#123;
        var url = &quot;//ipservice.163.com/locate/api/getLocByIp?key=C6E22B7D480E3312C74EC7EF013E50C5&amp;callback=BENDI_NAV_CALLBACK&quot;;
        var script = document.createElement(&#39;script&#39;);
        script.setAttribute(&#39;src&#39;, url);
        document.getElementsByTagName(&#39;head&#39;)[0].appendChild(script);
    &#125;
&lt;/script&gt;
&lt;div class=&quot;index2016_content&quot;&gt;
&lt;!-- 头部广告 开始--&gt;
&lt;div class=&quot;ns_area index_top_ad channel_relative_2016&quot;&gt;
&lt;!--16新闻首页顶通--&gt;
&lt;div adtype=&quot;topColumnAd&quot; class=&quot;at_item common_ad_item top_ad_column&quot; requesturl=&quot;https://nex.163.com/q?app=7BE0FC82&amp;amp;c=news&amp;amp;l=11&amp;amp;site=netease&amp;amp;affiliate=news&amp;amp;cat=homepage&amp;amp;type=column1200x125_960x100&amp;amp;location=10&quot;&gt;&lt;/div&gt;
&lt;span class=&quot;channel_ad_2016&quot;&gt;广告&lt;/span&gt;
&lt;/div&gt;
&lt;!-- 头部广告 结束--&gt;
&lt;!-- 头部导航 开始--&gt;
&lt;div class=&quot;index_head&quot;&gt;
&lt;div ne-module=&quot;/news/index2016_rmd/modules/head/head.js&quot;&gt;
&lt;div class=&quot;ns_area hd&quot;&gt;
&lt;h1&gt;
&lt;a class=&quot;channel2019_logo channel2019_news_logo&quot; href=&quot;https://news.163.com/&quot;&gt;网易新闻有态度&lt;/a&gt;
&lt;/h1&gt;
&lt;!-- &lt;div class=&quot;top-search&quot;&gt;
        &lt;form action=&quot;http://news.yodao.com/search&quot; method=&quot;get&quot; name=&quot;nisearch_top&quot; id=&quot;formtop&quot; target=&quot;_blank&quot;&gt;
            &lt;input type=&quot;hidden&quot; name=&quot;keyfrom&quot; value=&quot;sports.163&quot;&gt;
            &lt;input type=&quot;hidden&quot; name=&quot;suser&quot; value=&quot;user163&quot;&gt;
            &lt;input type=&quot;hidden&quot; name=&quot;ue&quot; value=&quot;gbk&quot;&gt;
            &lt;div class=&quot;search-input&quot;&gt; &lt;span class=&quot;hidden&quot;&gt;搜索&lt;/span&gt;
                &lt;input type=&quot;text&quot; name=&quot;q&quot; id=&quot;searchInput_top&quot; onfocus=&quot;this.value=&#39;&#39;&quot; value=&quot;输入关键字&quot; class=&quot;text-box &quot;&gt;
                &lt;input type=&quot;submit&quot; name=&quot;Submit&quot; value=&quot;&quot; tabindex=&quot;0&quot; title=&quot;搜索&quot; class=&quot;search-submit&quot; id=&quot;sb_form_go&quot;&gt;
            &lt;/div&gt;
        &lt;/form&gt;
    &lt;/div&gt; --&gt;
&lt;!-- 天气 --&gt;
&lt;div class=&quot;ns-lid-weather&quot; id=&quot;nsWeatherTop&quot;&gt;
&lt;div class=&quot;ns-weather&quot; id=&quot;nsWeather&quot;&gt;
&lt;a href=&quot;http://news.163.com/weather/&quot;&gt;
&lt;script ne-repeat=&quot;weather in weatherInfo&quot; type=&quot;text/template&quot;&gt;
                &lt;img class=&quot;ns-weather-icon&quot; ne-src=&quot;http://static.ws.126.net/f2e/news/index2015/img/weather/&lt;%=weather.icon%&gt;&quot;&gt;
                &lt;div class=&quot;ns-weather-text&quot;&gt;&lt;%=weather.weather%&gt;&lt;/div&gt;
                &lt;div class=&quot;ns-weather-info&quot;&gt;&lt;%=weather.temp2%&gt;°~&lt;%=weather.temp1%&gt;°&lt;/div&gt;
                &lt;div class=&quot;ns-weather-city&quot;&gt;&lt;%=weather.city%&gt;&lt;/div&gt;
            &lt;/script&gt;
&lt;/a&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;bd&quot;&gt;
&lt;div class=&quot;ns_area list&quot;&gt;
&lt;ul&gt;
&lt;li class=&quot;first&quot;&gt;&lt;a href=&quot;http://www.163.com/&quot;&gt;首页&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://news.163.com/rank/&quot;&gt;排行&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://news.163.com/photo/#Current&quot;&gt;图片&lt;/a&gt;&lt;/li&gt;
&lt;li class=&quot;menu_guonei&quot;&gt;&lt;a href=&quot;http://news.163.com/domestic/&quot;&gt;国内&lt;/a&gt;&lt;/li&gt;
&lt;li class=&quot;menu_guoji&quot;&gt;&lt;a href=&quot;http://news.163.com/world/&quot;&gt;国际&lt;/a&gt;&lt;/li&gt;
&lt;!--&lt;li class=&quot;menu_shehui&quot;&gt;&lt;a href=&quot;http://news.163.com/shehui/&quot;&gt;社会&lt;/a&gt;&lt;/li&gt;--&gt;
&lt;li&gt;&lt;a href=&quot;http://data.163.com/special/datablog/&quot;&gt;数读&lt;/a&gt;&lt;/li&gt;
&lt;li class=&quot;menu_war&quot;&gt;&lt;a href=&quot;http://war.163.com/&quot;&gt;军事&lt;/a&gt;&lt;/li&gt;
&lt;li class=&quot;menu_hangkong&quot;&gt;&lt;a href=&quot;http://news.163.com/air/&quot;&gt;航空&lt;/a&gt;&lt;/li&gt;
&lt;li class=&quot;menu_wurenji&quot;&gt;&lt;a href=&quot;http://news.163.com/uav/&quot;&gt;无人机&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://news.163.com/college&quot;&gt;新闻学院&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://gov.163.com/&quot;&gt;政务&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://gongyi.163.com/&quot;&gt;公益&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://media.163.com/&quot;&gt;媒体&lt;/a&gt;&lt;/li&gt;
&lt;li class=&quot;last&quot;&gt;&lt;a href=&quot;http://news.163.com/special/wangsansanhome/&quot;&gt;王三三&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;!-- 头部导航 结束--&gt;
&lt;!-- 内容区域 开始 --&gt;
&lt;div class=&quot;ns_area clearfix index_main&quot;&gt;
&lt;!-- 原创栏目 开始 --&gt;
&lt;div class=&quot;main_origina_column&quot; id=&quot;js_origina_column&quot;&gt;
&lt;div ne-module=&quot;/news/index2016_rmd/modules/originacolumn/originacolumn.js&quot;&gt;
&lt;div class=&quot;origina_column_warp&quot;&gt;
&lt;h2&gt;
&lt;span&gt;新闻各有态度&lt;/span&gt;
&lt;/h2&gt;
&lt;div class=&quot;scroll_bd&quot; ne-role=&quot;scroll_bd&quot;&gt;
&lt;div class=&quot;scroll_column_bd&quot;&gt;
&lt;ul class=&quot;scroll_ul&quot;&gt;
&lt;!-- 回声 开始 --&gt;
&lt;!-- 回声 结束 --&gt;
&lt;!-- 数读 开始 --&gt;
&lt;li class=&quot;cell cell_sd cell_hover&quot;&gt;
&lt;p class=&quot;tag_line&quot;&gt;
&lt;a class=&quot;tags tag_sd&quot; href=&quot;http://data.163.com/special/datablog/&quot;&gt;数读&lt;/a&gt;
&lt;/p&gt;
&lt;div class=&quot;column_main&quot;&gt;
&lt;a class=&quot;detail&quot; href=&quot;http://data.163.com/19/0626/14/EIJQJG9L000181IU.html&quot; ne-role=&quot;detail&quot;&gt;
&lt;h3&gt;
                                中国哪里的地铁最拥挤？
                            &lt;/h3&gt;
&lt;div class=&quot;photo&quot;&gt;
&lt;img alt=&quot;中国哪里的地铁最拥挤？&quot; height=&quot;90&quot; src=&quot;https://cms-bucket.ws.126.net/2019/06/26/30e8760df3044e29a18fac3514dd22b1.jpeg?imageView&amp;amp;thumbnail=200y90&quot; width=&quot;200&quot;/&gt;
&lt;/div&gt;
&lt;/a&gt;
&lt;ul&gt;
&lt;li class=&quot;&quot;&gt;&lt;a href=&quot;http://data.163.com/19/0625/11/EIH0CQEK00019GOE.html&quot;&gt;娶一个潮汕老婆到底是什么体验&lt;/a&gt;&lt;/li&gt;
&lt;li class=&quot;twoli&quot;&gt;&lt;a href=&quot;http://data.163.com/19/0621/17/EI7BLS3600019GOE.html&quot;&gt;不瞒你说，成都早餐好吃到爆&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;!-- 数读 结束 --&gt;
&lt;!-- 人间 开始 --&gt;
&lt;li class=&quot;cell cell_rj&quot;&gt;
&lt;p class=&quot;tag_line&quot;&gt;
&lt;a class=&quot;tags tag_rj&quot; href=&quot;http://renjian.163.com/&quot;&gt;人间&lt;/a&gt;
&lt;/p&gt;
&lt;div class=&quot;column_main&quot;&gt;
&lt;a class=&quot;detail&quot; href=&quot;http://renjian.163.com/19/0628/14/EIP21K41000181RV.html&quot; ne-role=&quot;detail&quot;&gt;
&lt;h3&gt;
                                小白作者的变现之路
                            &lt;/h3&gt;
&lt;div class=&quot;photo&quot;&gt;
&lt;img alt=&quot;小白作者的变现之路&quot; height=&quot;90&quot; src=&quot;https://cms-bucket.ws.126.net/2019/06/28/27f33fcbfcec4b42b6837807b7a0883f.jpeg?imageView&amp;amp;thumbnail=200y90&quot; width=&quot;200&quot;/&gt;
&lt;/div&gt;
&lt;/a&gt;
&lt;ul&gt;
&lt;li class=&quot;&quot;&gt;&lt;a href=&quot;http://renjian.163.com/19/0627/16/EIML2HJO000181RV.html&quot;&gt;被毒虫男友拖下水的女大学生&lt;/a&gt;&lt;/li&gt;
&lt;li class=&quot;twoli&quot;&gt;&lt;a href=&quot;http://renjian.163.com/19/0626/13/EIJPJMCH000181RV.html&quot;&gt;领导，求你让我加班吧&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;!-- 人间 结束 --&gt;
&lt;!-- 大国小民 开始 --&gt;
&lt;li class=&quot;cell cell_dgxm&quot;&gt;
&lt;p class=&quot;tag_line&quot;&gt;
&lt;span class=&quot;tags tag_dgxm&quot;&gt;大国小民&lt;/span&gt;
&lt;/p&gt;
&lt;div class=&quot;column_main&quot;&gt;
&lt;a class=&quot;detail&quot; href=&quot;http://renjian.163.com/19/0624/14/EIEOBNCB000181RK.html&quot; ne-role=&quot;detail&quot;&gt;
&lt;h3&gt;
                                当不了官发不了财的读书人
                            &lt;/h3&gt;
&lt;div class=&quot;photo&quot;&gt;
&lt;img alt=&quot;当不了官发不了财的读书人&quot; height=&quot;90&quot; src=&quot;https://cms-bucket.ws.126.net/2019/06/24/b77e119ffeca477fa4bd2144b1fcb86c.jpeg?imageView&amp;amp;thumbnail=200y90&quot; width=&quot;200&quot;/&gt;
&lt;/div&gt;
&lt;/a&gt;
&lt;ul&gt;
&lt;li class=&quot;&quot;&gt;&lt;a href=&quot;http://renjian.163.com/19/0620/16/EI4JRNO7000181RK.html&quot;&gt;四个博士，一地鸡毛&lt;/a&gt;&lt;/li&gt;
&lt;li class=&quot;twoli&quot;&gt;&lt;a href=&quot;http://renjian.163.com/19/0618/12/EHV0QRVG000181RK.html&quot;&gt;医闹得逞后，伤害的到底是谁&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;!-- 大国小民 结束 --&gt;
&lt;!-- 三三有梗 开始 --&gt;
&lt;li class=&quot;cell cell_dada&quot;&gt;
&lt;p class=&quot;tag_line&quot;&gt;
&lt;span class=&quot;tags tag_dada&quot;&gt;三三有梗&lt;/span&gt;
&lt;/p&gt;
&lt;div class=&quot;column_main&quot;&gt;
&lt;a class=&quot;detail&quot; href=&quot;https://news.163.com/19/0627/11/EIM57O490001885B.html&quot; ne-role=&quot;detail&quot;&gt;
&lt;h3&gt;
                                据说99%的人在图书馆一定会碰上......
                            &lt;/h3&gt;
&lt;div class=&quot;photo&quot;&gt;
&lt;img alt=&quot;据说99%的人在图书馆一定会碰上......&quot; height=&quot;90&quot; src=&quot;https://cms-bucket.ws.126.net/2019/06/27/06eb8f4a3d4647bf9360ff5e71f003b8.png?imageView&amp;amp;thumbnail=200y90&quot; width=&quot;200&quot;/&gt;
&lt;/div&gt;
&lt;/a&gt;
&lt;ul&gt;
&lt;li class=&quot;&quot;&gt;&lt;a href=&quot;https://news.163.com/19/0626/15/EIK0IJT40001885B.html&quot;&gt;我可能，得了种，前任病&lt;/a&gt;&lt;/li&gt;
&lt;li class=&quot;twoli&quot;&gt;&lt;a href=&quot;https://news.163.com/19/0617/09/EHS57H4L0001885B.html&quot;&gt;那些KO不掉我的,最终成了我的OK&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;!-- 三三有梗 结束 --&gt;
&lt;!-- 三三映画 开始 --&gt;
&lt;!-- 三三映画 结束 --&gt;
&lt;!-- 我去1990 开始 --&gt;
&lt;li class=&quot;cell cell_wq1990&quot;&gt;
&lt;p class=&quot;tag_line&quot;&gt;
&lt;span class=&quot;tags tag_wq1990&quot;&gt;我去1990&lt;/span&gt;
&lt;/p&gt;
&lt;div class=&quot;column_main&quot;&gt;
&lt;a class=&quot;detail&quot; href=&quot;https://news.163.com/19/0628/11/EIOL94760001885B.html&quot; ne-role=&quot;detail&quot;&gt;
&lt;h3&gt;
                                直男幼稚行为大赏
                            &lt;/h3&gt;
&lt;div class=&quot;photo&quot;&gt;
&lt;img alt=&quot;直男幼稚行为大赏&quot; height=&quot;90&quot; src=&quot;https://cms-bucket.ws.126.net/2019/06/28/0b3890cd2f4b473fa0127b5e33ae6ccf.png?imageView&amp;amp;thumbnail=200y90&quot; width=&quot;200&quot;/&gt;
&lt;/div&gt;
&lt;/a&gt;
&lt;ul&gt;
&lt;li class=&quot;&quot;&gt;&lt;a href=&quot;https://news.163.com/19/0624/12/EIEFGMVL0001885B.html&quot;&gt;打个赌，爱情友情你分不清楚&lt;/a&gt;&lt;/li&gt;
&lt;li class=&quot;twoli&quot;&gt;&lt;a href=&quot;https://news.163.com/19/0621/12/EI6NKDTU0001885B.html&quot;&gt;不会唱歌的人进 KTV 以后有多惨&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;!-- 我去1990 结束 --&gt;
&lt;!-- 轻松一刻 开始 --&gt;
&lt;li class=&quot;cell cell_qsyk&quot;&gt;
&lt;p class=&quot;tag_line&quot;&gt;
&lt;span class=&quot;tags tag_qsyk&quot;&gt;轻松一刻&lt;/span&gt;
&lt;/p&gt;
&lt;div class=&quot;column_main&quot;&gt;
&lt;a class=&quot;detail&quot; href=&quot;https://news.163.com/19/0628/19/EIPIQT4O000181BR.html&quot; ne-role=&quot;detail&quot;&gt;
&lt;h3&gt;
                                彩票一直都不中，我却忍不住要买
                            &lt;/h3&gt;
&lt;div class=&quot;photo&quot;&gt;
&lt;img alt=&quot;彩票一直都不中，我却忍不住要买&quot; height=&quot;90&quot; src=&quot;https://cms-bucket.ws.126.net/2019/06/28/f44265c5b4ef4a11a99eedbde7c49833.png?imageView&amp;amp;thumbnail=200y90&quot; width=&quot;200&quot;/&gt;
&lt;/div&gt;
&lt;/a&gt;
&lt;ul&gt;
&lt;li class=&quot;&quot;&gt;&lt;a href=&quot;https://news.163.com/19/0627/17/EIMPGJAU000181BR.html&quot;&gt;原来&quot;神仙眷侣&quot;离婚,也是一地鸡毛&lt;/a&gt;&lt;/li&gt;
&lt;li class=&quot;twoli&quot;&gt;&lt;a href=&quot;https://news.163.com/19/0626/18/EIK95RV0000181BR.html&quot;&gt;我宣布，北大清华这对CP锁死了！&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;!-- 轻松一刻 结束 --&gt;
&lt;!-- 槽值 开始 --&gt;
&lt;li class=&quot;cell cell_caozhi&quot;&gt;
&lt;p class=&quot;tag_line&quot;&gt;
&lt;span class=&quot;tags tag_caozhi&quot;&gt;槽值&lt;/span&gt;
&lt;/p&gt;
&lt;div class=&quot;column_main&quot;&gt;
&lt;a class=&quot;detail&quot; href=&quot;http://caozhi.news.163.com/19/0623/22/EID0CBIH000181TI.html&quot; ne-role=&quot;detail&quot;&gt;
&lt;h3&gt;
                                佟丽娅，这次你赢了
                            &lt;/h3&gt;
&lt;div class=&quot;photo&quot;&gt;
&lt;img alt=&quot;佟丽娅，这次你赢了&quot; height=&quot;90&quot; src=&quot;https://cms-bucket.ws.126.net/2019/06/23/67d24242d479451ea705e26296187f78.jpeg?imageView&amp;amp;thumbnail=200y90&quot; width=&quot;200&quot;/&gt;
&lt;/div&gt;
&lt;/a&gt;
&lt;ul&gt;
&lt;li class=&quot;&quot;&gt;&lt;a href=&quot;http://caozhi.news.163.com/19/0623/15/EIC9LGSP000181TI.html&quot;&gt;千万别在深夜点开这神作&lt;/a&gt;&lt;/li&gt;
&lt;li class=&quot;twoli&quot;&gt;&lt;a href=&quot;http://caozhi.news.163.com/19/0618/19/EHVRID7G000181TI.html&quot;&gt;那个发“嗯”的人，已被踢出群聊&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;!-- 槽值 结束 --&gt;
&lt;!-- 谈心社 开始 --&gt;
&lt;li class=&quot;cell cell_tanxinshe&quot;&gt;
&lt;p class=&quot;tag_line&quot;&gt;
&lt;span class=&quot;tags tag_tanxinshe&quot;&gt;谈心社&lt;/span&gt;
&lt;/p&gt;
&lt;div class=&quot;column_main&quot;&gt;
&lt;a class=&quot;detail&quot; href=&quot;https://news.163.com/19/0628/17/EIPCOKEA0001982T.html&quot; ne-role=&quot;detail&quot;&gt;
&lt;h3&gt;
                                王宝强母亲去世：来日方长是人生的错觉
                            &lt;/h3&gt;
&lt;div class=&quot;photo&quot;&gt;
&lt;img alt=&quot;王宝强母亲去世：来日方长是人生的错觉&quot; height=&quot;90&quot; src=&quot;https://cms-bucket.ws.126.net/2019/06/28/ecd0de8b8dc0402da72d814bde76f06e.jpeg?imageView&amp;amp;thumbnail=200y90&quot; width=&quot;200&quot;/&gt;
&lt;/div&gt;
&lt;/a&gt;
&lt;ul&gt;
&lt;li class=&quot;&quot;&gt;&lt;a href=&quot;https://news.163.com/19/0627/13/EIMC0EDH0001982T.html&quot;&gt;宋仲基宋慧乔离婚：再美的爱情也会过期&lt;/a&gt;&lt;/li&gt;
&lt;li class=&quot;twoli&quot;&gt;&lt;a href=&quot;https://news.163.com/19/0626/17/EIK6AD550001982T.html&quot;&gt;杨紫冰箱藏药，戳穿最怂瞬间&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;!-- 谈心社 结束 --&gt;
&lt;!-- 看客 开始 --&gt;
&lt;li class=&quot;cell cell_kanke&quot;&gt;
&lt;p class=&quot;tag_line&quot;&gt;
&lt;a class=&quot;tags tag_kanke&quot; href=&quot;http://renjian.163.com/special/renjian_kanke/&quot;&gt;看客&lt;/a&gt;
&lt;/p&gt;
&lt;div class=&quot;column_main&quot;&gt;
&lt;a class=&quot;detail&quot; href=&quot;http://renjian.163.com/19/0628/11/EIOMK185000199ET.html&quot; ne-role=&quot;detail&quot;&gt;
&lt;h3&gt;
                                我奶茶都戒了，日本人才知道它的好
                            &lt;/h3&gt;
&lt;div class=&quot;photo&quot;&gt;
&lt;img alt=&quot;我奶茶都戒了，日本人才知道它的好&quot; height=&quot;90&quot; src=&quot;https://cms-bucket.ws.126.net/2019/06/28/f35eceb8d111496693e8f77a71a49cba.png?imageView&amp;amp;thumbnail=200y90&quot; width=&quot;200&quot;/&gt;
&lt;/div&gt;
&lt;/a&gt;
&lt;ul&gt;
&lt;li class=&quot;&quot;&gt;&lt;a href=&quot;http://renjian.163.com/19/0620/11/EI43PM8Q000199ET.html&quot;&gt;美国堕胎残酷物语&lt;/a&gt;&lt;/li&gt;
&lt;li class=&quot;twoli&quot;&gt;&lt;a href=&quot;http://renjian.163.com/19/0613/11/EHI39FML000199ET.html&quot;&gt;跑腿小哥提供的十万种服务&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;!-- 看客 结束 --&gt;
&lt;!-- 身体密码 开始 --&gt;
&lt;li class=&quot;cell cell_stpwd&quot;&gt;
&lt;p class=&quot;tag_line&quot;&gt;
&lt;a class=&quot;tags tag_stpwd&quot; href=&quot;http://jiankang.163.com/special/zhutierji/?type=3&quot;&gt;身体密码&lt;/a&gt;
&lt;/p&gt;
&lt;div class=&quot;column_main&quot;&gt;
&lt;a class=&quot;detail&quot; href=&quot;https://jiankang.163.com/19/0625/11/EIH061CM0038804G.html&quot; ne-role=&quot;detail&quot;&gt;
&lt;h3&gt;
                                防晒，99%的人都做错了……
                            &lt;/h3&gt;
&lt;div class=&quot;photo&quot;&gt;
&lt;img alt=&quot;防晒，99%的人都做错了……&quot; height=&quot;90&quot; src=&quot;https://cms-bucket.ws.126.net/2019/06/25/f260b6843fca4702bb5e4e316600f113.png?imageView&amp;amp;thumbnail=200y90&quot; width=&quot;200&quot;/&gt;
&lt;/div&gt;
&lt;/a&gt;
&lt;ul&gt;
&lt;li class=&quot;&quot;&gt;&lt;a href=&quot;https://jiankang.163.com/19/0617/14/EHSN7PPV0038804G.html&quot;&gt;当代人减肥：迈不过25岁这道坎&lt;/a&gt;&lt;/li&gt;
&lt;li class=&quot;twoli&quot;&gt;&lt;a href=&quot;https://jiankang.163.com/19/0608/15/EH5J9IGA00388AD5.html&quot;&gt;多年后 无数中年人仍会被高考吓醒&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;!-- 身体密码 结束 --&gt;
&lt;!-- 哒哒 开始 --&gt;
&lt;!-- 哒哒 结束 --&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div id=&quot;js_baseline&quot;&gt;&lt;/div&gt;
&lt;span class=&quot;white_bg&quot; id=&quot;js_white_bg&quot;&gt;&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;!-- 原创栏目 结束 --&gt;
&lt;!-- 中间新闻 开始 --&gt;
&lt;div class=&quot;main_center_news&quot;&gt;
&lt;!-- 头条新闻 --&gt;
&lt;div class=&quot;mod_top_news2&quot; id=&quot;js_top_news&quot;&gt;
&lt;h2&gt;
&lt;a href=&quot;https://news.163.com/19/0628/16/EIP8R4SV000189FH.html&quot;&gt;央视独家：习近平会见日本首相&lt;/a&gt;
&lt;/h2&gt;
&lt;ul class=&quot;top_news_ul&quot;&gt;
&lt;li&gt;&lt;a href=&quot;https://news.163.com/19/0628/16/EIP8N52U0001875N.html&quot;&gt;外交部回应中美元首会面&lt;/a&gt;|&lt;a href=&quot;https://news.163.com/19/0628/14/EIOVIP2500018AP1.html&quot; target=&quot;_blank&quot;&gt;特朗普会见普京 笑称:不要干预美国大选哦&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://news.163.com/19/0628/16/EIP7KOH70001875P.html&quot;&gt;住建部:加快垃圾分类处理设施建设&lt;/a&gt;|&lt;a href=&quot;https://news.163.com/19/0628/16/EIP8F9QQ0001875P.html&quot; target=&quot;_blank&quot;&gt;袁仁国被公诉:受贿数额特别巨大&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://news.163.com/19/0628/13/EIOSPGLJ0001899O.html&quot;&gt;湖南耒阳人大常委会原主任携子主动投案&lt;/a&gt;|&lt;a href=&quot;https://news.163.com/19/0628/13/EIOUHOB70001875P.html&quot; target=&quot;_blank&quot;&gt;美的48小时内被骗10亿资金&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 class=&quot;top_news_title&quot;&gt;
&lt;a href=&quot;https://news.163.com/19/0628/19/EIPH3F1V0001875P.html&quot;&gt;垃圾分类逼疯上海人？别笑！马上轮到这46个城市&lt;/a&gt;
&lt;/h2&gt;
&lt;ul class=&quot;top_news_ul&quot;&gt;
&lt;li&gt;&lt;a href=&quot;https://news.163.com/19/0628/19/EIPILCJ70001875P.html&quot;&gt;女子酒后澡堂一打六被刑拘&lt;/a&gt;|&lt;a href=&quot;https://news.163.com/19/0628/18/EIPFI0KN0001875P.html&quot; target=&quot;_blank&quot;&gt;杀人案嫌犯向警察开枪拒捕 被当场击毙&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://news.163.com/19/0628/16/EIP8RHM70001875P.html&quot;&gt;95后飙摩托车追高铁发抖音被刑拘&lt;/a&gt;|&lt;a href=&quot;https://news.163.com/19/0628/16/EIP7B7RP0001899O.html&quot; target=&quot;_blank&quot;&gt;母亲担心儿子粗心在其手背&quot;刺&quot;字&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://news.163.com/19/0628/15/EIP4Q6BQ0001899O.html&quot;&gt;女子高铁上劝老人看好小孩被骂&lt;/a&gt;|&lt;a href=&quot;https://news.163.com/19/0628/16/EIP8QO5Q0001875P.html&quot; target=&quot;_blank&quot;&gt;南京杀妻案死者姑妈：侄女生前要强&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;!-- 广告 开始 --&gt;
&lt;div class=&quot;mod_top_news_ad&quot;&gt;
&lt;!-- 16新闻首页01小通栏 --&gt;
&lt;a class=&quot;ad_hover_href&quot; href=&quot;http://gb.corp.163.com/gb/legal.html&quot;&gt;&lt;/a&gt;
&lt;iframe border=&quot;0&quot; frameborder=&quot;no&quot; height=&quot;50&quot; marginheight=&quot;0&quot; marginwidth=&quot;0&quot; scrolling=&quot;no&quot; src=&quot;https://g.163.com/r?site=netease&amp;amp;affiliate=news&amp;amp;cat=homepage&amp;amp;type=logo600x50&amp;amp;location=1&quot; width=&quot;600&quot;&gt;&lt;/iframe&gt;
&lt;/div&gt;
&lt;!-- 广告 结束 --&gt;
&lt;!-- 特别报道 开始 --&gt;
&lt;div class=&quot;mod_important_news none&quot;&gt;
&lt;h5&gt;&lt;label&gt;特别报道&lt;/label&gt;&lt;/h5&gt;
&lt;h2&gt;
&lt;a href=&quot;http://news.163.com/16/0721/19/BSH7V8QF00014JB6.html&quot;&gt;辽宁遭暴雨侵袭致城市内涝 紧急转移12万人&lt;/a&gt;
&lt;/h2&gt;
&lt;ul class=&quot;top_news_ul&quot;&gt;
&lt;li&gt;&lt;a href=&quot;http://news.163.com/16/0721/10/BSG7HOH20001124J.html&quot;&gt;民政部:北方暴雨75人死亡失踪&lt;/a&gt;|&lt;a href=&quot;http://news.163.com/16/0721/12/BSGG5VK300011229.html&quot; target=&quot;_blank&quot;&gt;北京发生山洪灾害 铲车翻倒4人被困&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://news.163.com/16/0721/12/BSGHHVLK00011229.html&quot;&gt;搜救犬水灾救援22天殉职 主人:它太累了&lt;/a&gt;|&lt;a href=&quot;http://news.163.com/16/0721/07/BSFUFFP800014AED.html&quot; target=&quot;_blank&quot;&gt;姐妹被洪水卷走警方拒立案&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;mod_important_pic&quot;&gt;
&lt;ul class=&quot;clearfix&quot;&gt;
&lt;li&gt;
&lt;a href=&quot;http://news.163.com/photoview/00AN0001/2189402.html?from=ph_ss#p=BSG716GE00AN0001&quot;&gt;
&lt;img height=&quot;120&quot; src=&quot;http://img3.cache.netease.com/news/2016/7/21/20160721131401d35e2.jpg&quot; width=&quot;190&quot;/&gt;
&lt;span class=&quot;bg&quot;&gt;&lt;/span&gt;
&lt;h3&gt;河南遇强降雨 9.8万人转移&lt;/h3&gt;
&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://news.163.com/photoview/00AP0001/2189377.html?from=ph_ss#p=BSFTQ99H00AP0001&quot;&gt;
&lt;img height=&quot;120&quot; src=&quot;http://img3.cache.netease.com/news/2016/7/21/201607211319466e84e.jpg&quot; width=&quot;190&quot;/&gt;
&lt;span class=&quot;bg&quot;&gt;&lt;/span&gt;
&lt;h3&gt;女主播直播暴雨 浑身湿透&lt;/h3&gt;
&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://news.163.com/photoview/00AP0001/2189389.html?from=ph_ss#p=BSG1S9AM00AP0001&quot;&gt;
&lt;img height=&quot;120&quot; src=&quot;http://img5.cache.netease.com/news/2016/7/21/20160721132119ef59b.jpg&quot; width=&quot;190&quot;/&gt;
&lt;span class=&quot;bg&quot;&gt;&lt;/span&gt;
&lt;h3&gt;湖北民众省道上趟水摸鱼&lt;/h3&gt;
&lt;/a&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;!-- 特别报道 结束 --&gt;
&lt;!-- 网易公开课 开始--&gt;
&lt;div class=&quot;mod_netes_origina&quot; ne-module=&quot;/news/index2016_rmd/modules/slide/slide.js&quot;&gt;
&lt;script _keep=&quot;true&quot; type=&quot;text/javascript&quot;&gt;
    window.GGKSLIDEDATA = [
                                                                         &#123;
            &quot;title&quot;:&quot;你多久没读完一本书了？带你克服读书拖延症&quot;,
            &quot;imgsrc&quot;:&quot;https://cms-bucket.ws.126.net/2019/06/26/225c40fe7f9141a8852f70d20c381f8b.jpeg?imageView&amp;thumbnail=600y250&quot;,
            &quot;link&quot;:&quot;https://vip.open.163.com/courses/2531?p=xs_zt04&quot;
        &#125;
                                                         ,
                &#123;
            &quot;title&quot;:&quot;曾国藩：普通人怎样通过自我努力改写命运？&quot;,
            &quot;imgsrc&quot;:&quot;https://cms-bucket.ws.126.net/2019/05/16/b0ba21dfb7ef4716a1275a2c1914832a.jpeg?imageView&amp;thumbnail=600y250&quot;,
            &quot;link&quot;:&quot;https://vip.open.163.com/courses/1047?p=xs_zt03&quot;
        &#125;
                                                         ,
                &#123;
            &quot;title&quot;:&quot;你单一的收入模式，拖垮的是你财富积累速度&quot;,
            &quot;imgsrc&quot;:&quot;https://cms-bucket.ws.126.net/2019/03/21/fe5cf147142b414793a6326f654b41ce.jpeg?imageView&amp;thumbnail=600y250&quot;,
            &quot;link&quot;:&quot;https://vip.open.163.com/courses/3547?p=xs_zt04&quot;
        &#125;
                                                         ,
                &#123;
            &quot;title&quot;:&quot;健身VS不健身，完全是两种不同的人生&quot;,
            &quot;imgsrc&quot;:&quot;https://cms-bucket.nosdn.127.net/2018/11/12/94fbcf460348460f9b73300aa1948cb3.jpeg?imageView&amp;thumbnail=600y250&quot;,
            &quot;link&quot;:&quot;https://vip.open.163.com/courses/192?p=xs_zt02&quot;
        &#125;
            ];
&lt;/script&gt;
&lt;div class=&quot;mod_idx_focus&quot; ne-module=&quot;/modules/slide/slide.js&quot; ne-props=&quot;events:mouseover;interval:4000;topicid=000501EP;listnum=8;pointstart=80;pointend=100;&quot; ne-state=&quot;slideMethod:left;events=mouseover;interval=4000&quot;&gt;
&lt;div class=&quot;hd&quot;&gt;
&lt;h2&gt;&lt;a href=&quot;https://open.163.com/&quot;&gt;网易公开课&lt;/a&gt;&lt;/h2&gt;
&lt;div class=&quot;focus_ctrl&quot;&gt;
&lt;span ne-role=&quot;slide-nav&quot;&gt;&lt;/span&gt;
&lt;span ne-role=&quot;slide-nav&quot;&gt;&lt;/span&gt;
&lt;span ne-role=&quot;slide-nav&quot;&gt;&lt;/span&gt;
&lt;span ne-role=&quot;slide-nav&quot;&gt;&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;a class=&quot;focus_prev&quot; ne-role=&quot;slide-prev&quot;&gt;&lt;/a&gt;
&lt;a class=&quot;focus_next&quot; ne-role=&quot;slide-next&quot;&gt;&lt;/a&gt;
&lt;div class=&quot;focus_body&quot; ne-role=&quot;slide-body&quot;&gt;
&lt;ul ne-role=&quot;slide-scroll&quot;&gt;
&lt;script ne-foreach=&quot;gkkdatalist&quot; type=&quot;text/template&quot;&gt;
            &lt;li &lt;%if(__i == 0)&#123;%>class="current"<%&#125;%&gt; ne-role=&quot;slide-page&quot;&gt;
                &lt;a href=&quot;&lt;%=link%&gt;&quot; title=&quot;&lt;%=title%&gt;&quot; class=&quot;photo&quot;&gt;&lt;img src=&quot;&lt;%=imgsrc%&gt;&quot; width=&quot;600&quot; height=&quot;250&quot; alt=&quot;&lt;%=title%&gt;&quot;/&gt;&lt;/a&gt;
                &lt;span class=&quot;bg&quot;&gt;&lt;/span&gt;
                &lt;h3&gt;
                    &lt;a href=&quot;&lt;%=link%&gt;&quot;&gt;&lt;%=title%&gt;&lt;/a&gt;
                &lt;/h3&gt;
            &lt;/li&gt;
            &lt;/script&gt;
&lt;/ul&gt;
&lt;span class=&quot;ad_hover_pic&quot;&gt;广告&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;!-- 网易公开课 结束--&gt;
&lt;!-- 信息流 开始--&gt;
&lt;div class=&quot;mod_datalist&quot; ne-extend=&quot;/news/index2016_rmd/modules/datalist2016/config.js&quot; ne-module=&quot;/news/index2016_rmd/modules/datalist2016/datalist2016.js&quot;&gt;
&lt;div class=&quot;newsdata_wrap&quot; ne-module=&quot;/modules/tabs/tabs.js&quot; ne-on=&quot;showed:changepanel&quot; ne-state=&quot;showhide:true;delay:400;&quot;&gt;
&lt;div class=&quot;newsdata_nav&quot; ne-class=&quot;&#123;&#123;myState.fixedTop ? 'fixed_top':''&#125;&#125;&quot;&gt;
&lt;ul class=&quot;clearfix&quot;&gt;
&lt;li class=&quot;nav_item&quot;&gt;
&lt;a class=&quot;nav_name no_cursor&quot; href=&quot;javascript:;&quot; ne-role=&quot;tab-nav&quot; target=&quot;_self&quot;&gt;
                    要闻
                    &lt;span class=&quot;nav_item_ink&quot;&gt;&lt;/span&gt;
&lt;/a&gt;
&lt;/li&gt;
&lt;li class=&quot;nav_item&quot;&gt;
&lt;a class=&quot;nav_name no_cursor&quot; href=&quot;&#123;&#123;myState.channelbendiurl&#125;&#125;&quot; ne-class=&quot;&#123;&#123;myState.bendiTstyle ? 'bendistyle' : ''&#125;&#125;&quot; ne-role=&quot;tab-nav&quot; target=&quot;&#123;&#123;myState.channelbendiurl == 'javascript:;' ? '_self' : '_blank'&#125;&#125;&quot;&gt;
&lt;strong ne-text=&quot;&#123;&#123;myState.bendiCity&#125;&#125;&quot;&gt;&lt;/strong&gt;
&lt;span class=&quot;nav_item_ink&quot;&gt;&lt;/span&gt;
&lt;/a&gt;
&lt;/li&gt;
&lt;!-- &lt;li class=&quot;nav_item&quot;&gt;
                &lt;a class=&quot;nav_name&quot; ne-role=&quot;tab-nav&quot; href=&quot;http://news.163.com/shehui/&quot;&gt;
                    社会
                    &lt;span class=&quot;nav_item_ink&quot;&gt;&lt;/span&gt;
                &lt;/a&gt;
            &lt;/li&gt; --&gt;
&lt;li class=&quot;nav_item&quot;&gt;
&lt;a class=&quot;nav_name&quot; href=&quot;http://news.163.com/domestic/&quot; ne-role=&quot;tab-nav&quot;&gt;
                    国内
                    &lt;span class=&quot;nav_item_ink&quot;&gt;&lt;/span&gt;
&lt;/a&gt;
&lt;/li&gt;
&lt;li class=&quot;nav_item&quot;&gt;
&lt;a class=&quot;nav_name&quot; href=&quot;http://news.163.com/world/&quot; ne-role=&quot;tab-nav&quot;&gt;
                    国际
                    &lt;span class=&quot;nav_item_ink&quot;&gt;&lt;/span&gt;
&lt;/a&gt;
&lt;/li&gt;
&lt;li class=&quot;nav_item&quot;&gt;
&lt;a class=&quot;nav_name no_cursor&quot; href=&quot;javascript:;&quot; ne-role=&quot;tab-nav&quot; target=&quot;_self&quot;&gt;
                    独家
                    &lt;span class=&quot;nav_item_ink&quot;&gt;&lt;/span&gt;
&lt;/a&gt;
&lt;/li&gt;
&lt;li class=&quot;nav_item&quot;&gt;
&lt;a class=&quot;nav_name&quot; href=&quot;http://war.163.com/&quot; ne-role=&quot;tab-nav&quot;&gt;
                    军事
                    &lt;span class=&quot;nav_item_ink&quot;&gt;&lt;/span&gt;
&lt;/a&gt;
&lt;/li&gt;
&lt;li class=&quot;nav_item&quot;&gt;
&lt;a class=&quot;nav_name&quot; href=&quot;http://money.163.com/&quot; ne-role=&quot;tab-nav&quot;&gt;
                    财经
                    &lt;span class=&quot;nav_item_ink&quot;&gt;&lt;/span&gt;
&lt;/a&gt;
&lt;/li&gt;
&lt;li class=&quot;nav_item&quot;&gt;
&lt;a class=&quot;nav_name&quot; href=&quot;http://tech.163.com/&quot; ne-role=&quot;tab-nav&quot;&gt;
                    科技
                    &lt;span class=&quot;nav_item_ink&quot;&gt;&lt;/span&gt;
&lt;/a&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;a class=&quot;more&quot; href=&quot;javascript:;&quot; ne-class=&quot;&#123;&#123;myState.morechannel ? 'more_hover': ''&#125;&#125;&quot; ne-mouseout=&quot;morehideChannel()&quot; ne-mouseover=&quot;moreShowChannel()&quot; ne-role=&quot;morebtn&quot; target=&quot;_self&quot;&gt;更多&lt;/a&gt;
&lt;div class=&quot;more_list&quot; ne-click=&quot;moreList($event)&quot; ne-role=&quot;more_list&quot; ne-show=&quot;&#123;&#123;myState.morechannel&#125;&#125;&quot;&gt;
&lt;!-- &lt;a ne-role=&quot;tab-nav&quot; href=&quot;http://tech.163.com/&quot;&gt;科技&lt;/a&gt; --&gt;
&lt;a href=&quot;http://sports.163.com/&quot; ne-role=&quot;tab-nav&quot;&gt;体育&lt;/a&gt;
&lt;a href=&quot;http://ent.163.com/&quot; ne-role=&quot;tab-nav&quot;&gt;娱乐&lt;/a&gt;
&lt;a href=&quot;http://lady.163.com/&quot; ne-role=&quot;tab-nav&quot;&gt;时尚&lt;/a&gt;
&lt;a href=&quot;http://auto.163.com/&quot; ne-role=&quot;tab-nav&quot;&gt;汽车&lt;/a&gt;
&lt;a href=&quot;&#123;&#123;myState.channelhouseurl&#125;&#125;&quot; ne-role=&quot;tab-nav&quot;&gt;房产&lt;/a&gt;
&lt;a href=&quot;http://news.163.com/air/&quot; ne-role=&quot;tab-nav&quot;&gt;航空&lt;/a&gt;
&lt;a href=&quot;http://jiankang.163.com/&quot; ne-role=&quot;tab-nav&quot;&gt;健康&lt;/a&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;a class=&quot;newsdata_prev&quot; href=&quot;#prev&quot; ne-class=&quot;&#123;&#123;myState.fixedTop ? 'fixed_data_show': ''&#125;&#125;&quot; ne-click=&quot;tabPrevFn($event);&quot; ne-hide=&quot;&#123;&#123;myState.iPad&#125;&#125;&quot;&gt;
&lt;span&gt;&lt;/span&gt;
&lt;div class=&quot;newsdata_btn_name&quot;&gt;&#123;&#123;myState.preBtnName&#125;&#125;&lt;/div&gt;
&lt;/a&gt;
&lt;a class=&quot;newsdata_next&quot; href=&quot;#next&quot; ne-class=&quot;&#123;&#123;myState.fixedTop ? 'fixed_data_show': ''&#125;&#125;&quot; ne-click=&quot;tabNextFn($event);&quot; ne-hide=&quot;&#123;&#123;myState.iPad&#125;&#125;&quot;&gt;
&lt;span&gt;&lt;/span&gt;
&lt;div class=&quot;newsdata_btn_name&quot;&gt;&#123;&#123;myState.nextBtnName&#125;&#125;&lt;/div&gt;
&lt;/a&gt;
&lt;ul class=&quot;newsdata_list&quot; ne-class=&quot;&#123;&#123;myState.fixedTop ? 'fixed_bar_padding': ''&#125;&#125; &#123;&#123;myState.bgLoading ? 'bgloading': 'noloading'&#125;&#125;&quot;&gt;
&lt;li class=&quot;newsdata_item&quot; ne-repeat=&quot;body in navList&quot; ne-role=&quot;tab-body&quot;&gt;
&lt;div class=&quot;ndi_main&quot; ne-class=&quot;&#123;&#123;myState.message &gt; 0 ? 'show_message':''&#125;&#125;&quot;&gt;
&lt;script ne-repeat=&quot;newrow in datalist[__i]&quot; type=&quot;text/template&quot;&gt;
                &lt;%if(newrow.style == &quot;iframe&quot;)&#123;%>
                        <div class="at_item info_ad_item news_iframe_ad" adType="infoAd" ne-click="adClickTracker(<%=newrow.infoAdIdx%>,'infoAd')">
                            <iframe src="<%=newrow.iframe[0].link%>" width="<%=newrow.iframe[0].iframewidth || 600 %>" height="<%=newrow.iframe[0].iframeheight || 100 %>" frameborder="0" border="0" marginwidth="0" marginheight="0" scrolling="no"></iframe>
                        </div>
                    <%&#125;else if(newrow.style == &quot;docAD&quot;)&#123;%>
                        <div class="at_item info_ad_item news_article clearfix" adType="infoAd" ne-click="adClickTracker(<%=newrow.infoAdIdx%>,'infoAd')">
                            <a href="<%=newrow.relatedActionLinks[0].url%>" class="na_pic">
                                <img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="<%=newrow.resources[0].urls[0]%>"
                      width="140" height="88"
                >
                            </a>
                            <div class="na_detail clearfix">
                                <div class="news_title">
                                    <h3><strong><a href="<%=newrow.relatedActionLinks[0].url%>"><%=newrow.title%></a>
                                    </strong></h3>
                                </div>
                            </div>
                            <div class="ad_detail clearfix">
                                <span class="tg_tag"><%=newrow.source%></span>
                                <span class="keywords" ne-html="<%=newrow.content%>"></span>
                            </div>
                        </div>
                    <%&#125; else if(newrow.style == &quot;photosetAD&quot;)&#123;%>
                        <div class="at_item info_ad_item news_photoview clearfix news_ad_photoview" adType="infoAd" ne-click="adClickTracker(<%=newrow.infoAdIdx%>,'infoAd')">
                            <div class="news_title">
                                <h3><strong><a href="<%=newrow.relatedActionLinks[0].url%>"><%=newrow.title%></a></strong></h3>
                            </div>
                            <div class="np_pic">
                                <a href="<%=newrow.relatedActionLinks[0].url%>">
                                    <span class="p_img3">
                                        <img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="<%=newrow.resources[0].urls[0]%>"
                      width="190" height="120"
                >
                                    </span>
                                    <span class="p_img3">
                                        <img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="<%=newrow.resources[0].urls[1]%>"
                      width="190" height="120"
                >
                                    </span>
                                    <span class="p_img3">
                                        <img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="<%=newrow.resources[0].urls[2]%>"
                      width="190" height="120" class="pic_last"
                >
                                    </span>
                                </a>
                            </div>
                            <div class="ad_detail clearfix">
                                <span class="tg_tag"><%=newrow.source%></span>
                                <span class="keywords" ne-html="<%=newrow.content%>"></span>
                            </div>
                        </div>
                    <%&#125; else if(newrow.style == &quot;columsAD&quot;)&#123;%>
                        <div class="at_item info_ad_item news_special clearfix news_ad_special" adType="infoAd" ne-click="adClickTracker(<%=newrow.infoAdIdx%>,'infoAd')">
                            <div class="news_title">
                                <h3><strong><a href="<%=newrow.relatedActionLinks[0].url%>"><%=newrow.title%></a></strong></h3>
                            </div>
                            <a href="<%=newrow.relatedActionLinks[0].url%>" class="ns_pic"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="<%=newrow.resources[0].urls[0]%>"
                      width="600" height="200"
                ></a>
                            <div class="ad_detail clearfix">
                                <span class="tg_tag"><%=newrow.source%></span>
                                <span class="keywords" ne-html="<%=newrow.content%>"></span>
                            </div>
                        </div>
                    <%&#125; else if(newrow.imgurl &amp;&amp; newrow.add1 &amp;&amp; newrow.add2 &amp;&amp; /\.jpg$|\.png$|\.jpeg$|\.gif$/.test(newrow.imgurl) &amp;&amp; /\.jpg$|\.png$|\.jpeg$|\.gif$/.test(newrow.add1) &amp;&amp; /\.jpg$|\.png$|\.jpeg$|\.gif$/.test(newrow.add2))&#123;%>
                        <div class="data_row news_photoview clearfix <%if(__i == 0)&#123;%>news_first <%&#125;%&gt;&quot;&gt;
                        &lt;div class=&quot;news_title&quot;&gt;
                            &lt;h3&gt;&lt;a href=&quot;&lt;%=newrow.docurl%&gt;&quot;&gt;&lt;%=newrow.title%&gt;&lt;/a&gt;&lt;/h3&gt;
                        &lt;/div&gt;
                        &lt;div class=&quot;np_pic&quot;&gt;
                            &lt;a href=&quot;&lt;%=newrow.docurl%&gt;&quot;&gt;
                                &lt;span class=&quot;p_img3&quot;&gt;
                                &lt;%if(newrow.imgurl.indexOf(&#39;gif&#39;) != -1)&#123;%>
                                    <img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="<%=newrow.imgurl%>"
                      width="190" height="120" onerror="javascript:this.src='https://static.ws.126.net/f2e/news/index2016_rmd/images/pic3_error0106.jpg';"
                >
                                    <%&#125; else &#123;%> 
                                    <img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="<%=newrow.imgurl%>?imageView&thumbnail=190y120&quality=85"
                      width="190" height="120" onerror="javascript:this.src='https://static.ws.126.net/f2e/news/index2016_rmd/images/pic3_error0106.jpg';"
                >
                                    <%&#125;%&gt; 
                                &lt;/span&gt;
                                &lt;span class=&quot;p_img3&quot;&gt;
                                &lt;%if(newrow.add1.indexOf(&#39;gif&#39;) != -1)&#123;%>
                                    <img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="<%=newrow.add1%>"
                      width="190" height="120" onerror="javascript:this.src='https://static.ws.126.net/f2e/news/index2016_rmd/images/pic3_error0106.jpg';"
                >
                                    <%&#125; else &#123;%> 
                                    <img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="<%=newrow.add1%>?imageView&thumbnail=190y120&quality=85"
                      width="190" height="120" onerror="javascript:this.src='https://static.ws.126.net/f2e/index2016_rmd/images/pic3_error0106.jpg';"
                >
                                    <%&#125;%&gt; 
                                &lt;/span&gt;
                                &lt;span class=&quot;p_img3&quot;&gt;
                                &lt;%if(newrow.add2.indexOf(&#39;gif&#39;) != -1)&#123;%>
                                    <img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="<%=newrow.add2%>"
                      width="190" height="120" class="pic_last" onerror="javascript:this.src='https://static.ws.126.net/f2e/news/index2016_rmd/images/pic3_error0106.jpg';"
                >
                                    <%&#125; else &#123;%> 
                                    <img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="<%=newrow.add2%>?imageView&thumbnail=190y120&quality=85"
                      width="190" height="120" class="pic_last" onerror="javascript:this.src='https://static.ws.126.net/f2e/news/index2016_rmd/images/pic3_error0106.jpg';"
                >
                                    <%&#125;%&gt; 
                                &lt;/span&gt;
                            &lt;/a&gt;
                        &lt;/div&gt;
                        &lt;div class=&quot;np_detail clearfix&quot;&gt;
                            &lt;div class=&quot;news_tag&quot;&gt;
                                &lt;%if(newrow.channelname &amp;&amp; newrow.channelname != &quot;shehui&quot; &amp;&amp; newrow.channelname != &quot;guonei&quot; &amp;&amp; newrow.channelname != &quot;guoji&quot; &amp;&amp; newrow.channelname != &quot;dada&quot; &amp;&amp; newrow.channelname != &quot;war&quot; &amp;&amp; newrow.channelname != &quot;hangkong&quot;)&#123;%>
                                        <%if(newrow.tlastid != "")&#123;%>
                                            <strong class="barlink"><%=newrow.tlastid%></strong>
                                        <%&#125;else if(newrow.label != &quot;&quot;)&#123;%>
                                            <a href="<%=newrow.tlink%>" class="link link_more">
                                            <em><%=newrow.label%></em></a>
                                        <%&#125;%&gt; 
                                &lt;%&#125;%&gt;
                                &lt;%if(newrow.keywords.length &gt; 0)&#123;%>
                                        <div class="keywords">
                                        <%bowlder.each(newrow.keywords,function(k)&#123;%>
                                            <a href="<%=k.akey_link%>"><%=k.keyname%></a>
                                        <%&#125;)%&gt; 
                                    &lt;/div&gt;
                                &lt;%&#125;%&gt; 
                                &lt;%if(newrow.time)&#123;%>
                                        <span class="time"><%=formatTime(newrow.time)%></span>
                                    <%&#125;%&gt; 
                            &lt;/div&gt;
                            &lt;div class=&quot;share-join clearfix&quot;&gt;
                                &lt;%if(newrow.tienum != &quot;&quot;)&#123;%>
                                    <a class="post_recommend_tie right" href="<%=newrow.commenturl%>" >
                                        <div class="post_recommend_tie_wrap">
                                            <span class="post_recommend_tie_icon icons"><%=newrow.tienum%></span> 
                                            <span class="post_recommend_tie_text"><i>跟贴</i><%=newrow.tienum%></span>
                                        </div>
                                    </a>
                                    <%&#125;%&gt;
                                &lt;div class=&quot;ne-shares-parent right&quot;&gt;
                                    &lt;span href=&quot;#share&quot; title=&quot;分享&quot; class=&quot;ne-shares-arr&quot;&gt;&lt;/span&gt;
                                    &lt;div class=&quot;share-join-item&quot; ne-module=&quot;/modules/shares/shares.js&quot; ne-state=&quot;cls.hover:ne-shares-open;title:&lt;%=newrow.title%&gt;;url:&lt;%=newrow.docurl%&gt;;pic:&lt;%=newrow.imgurl%&gt;&quot; &gt;
&lt;div class=&quot;ne-shares-pop6x1wrap&quot; ne-role=&quot;share-wrap&quot;&gt;
&lt;ul class=&quot;ne-shares-pop6x1&quot;&gt;
    &lt;li&gt;
        &lt;a ne-click=&quot;share(&#39;yixin&#39;)&quot; href=&quot;http://yixin.im/#f=www&quot;&gt;
            &lt;span class=&quot;inner&quot;&gt;
                &lt;i class=&quot;ep-share-icon ep-share-yixin&quot;&gt;&lt;/i&gt;
                &lt;span class=&quot;ep-share-name&quot;&gt;易信&lt;/span&gt;
            &lt;/span&gt;
        &lt;/a&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a ne-mouseover=&quot;initWeixin()&quot; href=&quot;javascript:&quot; target=&quot;_self&quot; class=&quot;ne-shares-weixin&quot;&gt;
            &lt;span class=&quot;inner&quot;&gt;
                &lt;i class=&quot;ep-share-icon ep-share-weixin&quot;&gt;&lt;/i&gt;
                &lt;span class=&quot;ep-share-name&quot;&gt;微信&lt;/span&gt;
            &lt;/span&gt;
        &lt;/a&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a ne-click=&quot;share(&#39;sina&#39;)&quot; href=&quot;javascript:&quot;&gt;
            &lt;span class=&quot;inner&quot;&gt;
                &lt;i class=&quot;ep-share-icon ep-share-sina&quot;&gt;&lt;/i&gt;
                &lt;span class=&quot;ep-share-name&quot;&gt;微博&lt;/span&gt;
            &lt;/span&gt;
        &lt;/a&gt;
    &lt;/li&gt;
    &lt;li class=&quot;last&quot;&gt;
        &lt;a ne-click=&quot;share(&#39;qzone&#39;)&quot; href=&quot;javascript:&quot;&gt;
            &lt;span class=&quot;inner&quot;&gt;
                &lt;i class=&quot;ep-share-icon ep-share-qzone&quot;&gt;&lt;/i&gt;
                &lt;span class=&quot;ep-share-name&quot;&gt;QQ空间&lt;/span&gt;
            &lt;/span&gt;
        &lt;/a&gt;
    &lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class=&quot;ne-shares-qrwrap&quot;&gt;
  &lt;div class=&quot;ne-shares-qrarr&quot;&gt;&lt;/div&gt;
  &lt;div ne-role=&quot;qrcode&quot; class=&quot;ne-shares-qrcode&quot;&gt;&lt;/div&gt;
  &lt;p&gt;用微信扫码二维码&lt;/p&gt;&lt;p&gt;分享至好友和朋友圈&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
                                &lt;/div&gt;
                            &lt;/div&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;%&#125; else if(newrow.add1 &amp;&amp; /\.jpg$|\.png$|\.jpeg$|\.gif$/.test(newrow.add1))&#123;%>
                        <div class="data_row news_special clearfix <%if(__i == 0)&#123;%>news_first <%&#125;%&gt;&quot;&gt;
                        &lt;div class=&quot;news_title&quot;&gt;
                            &lt;h3&gt;&lt;a href=&quot;&lt;%=newrow.docurl%&gt;&quot;&gt;&lt;%=newrow.title%&gt;&lt;/a&gt;&lt;/h3&gt;
                            &lt;%if(newrow.channelname &amp;&amp; newrow.channelname != &quot;shehui&quot; &amp;&amp; newrow.channelname != &quot;guonei&quot; &amp;&amp; newrow.channelname != &quot;guoji&quot; &amp;&amp; newrow.channelname != &quot;dada&quot; &amp;&amp; newrow.channelname != &quot;war&quot; &amp;&amp; newrow.channelname != &quot;hangkong&quot;)&#123;%>
                                    <%if(newrow.tlastid != "")&#123;%>
                                        <strong class="barlink"><%=newrow.tlastid%></strong>
                                    <%&#125;else if(newrow.label != &quot;&quot;)&#123;%>
                                        <a href="<%=newrow.tlink%>" class="link link_more">
                                        <em><%=newrow.label%></em></a>
                                    <%&#125;%&gt; 
                            &lt;%&#125;%&gt;
                        &lt;/div&gt;
                        &lt;a href=&quot;&lt;%=newrow.docurl%&gt;&quot; class=&quot;ns_pic&quot;&gt;
                            &lt;%if(newrow.add1.indexOf(&#39;gif&#39;) != -1)&#123;%>
                                <img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="<%=newrow.add1%>"
                      alt="<%=newrow.title%
                >" width="600" height="300" onerror="javascript:this.src='https://static.ws.126.net/f2e/news/index2016_rmd/images/special_error0106.jpg';">
                                <%&#125; else &#123;%> 
                                <img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="<%=newrow.add1%>?imageView&thumbnail=600y300&quality=85"
                      alt="<%=newrow.title%
                >" width="600" height="300" onerror="javascript:this.src='https://static.ws.126.net/f2e/news/index2016_rmd/images/special_error0106.jpg';">
                                <%&#125;%&gt; 
                        &lt;/a&gt;
                    &lt;/div&gt;
                &lt;%&#125; else if(newrow.imgurl &amp;&amp; newrow.imgurl != &quot;&quot;)&#123;%>
                        <div class="data_row news_article clearfix <%if(__i == 0)&#123;%>news_first<%&#125;%&gt;&quot;&gt;
                        &lt;%if(newrow.imgurl != &quot;&quot;)&#123;%>
                                <a href="<%=newrow.docurl%>" class="na_pic">
                                    <%if(newrow.imgurl.indexOf('gif') != -1)&#123;%>
                                    <img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="<%=newrow.imgurl%>"
                      alt="<%=newrow.title%
                >" width="140" height="88" onerror="imgError(this)">
                                    <%&#125; else &#123;%> 
                                    <img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="<%=newrow.imgurl%>?imageView&thumbnail=140y88&quality=85"
                      alt="<%=newrow.title%
                >" width="140" height="88" onerror="imgError(this)">
                                    <%&#125;%&gt; 
                            &lt;/a&gt;
                        &lt;%&#125;%&gt; 
                        &lt;div class=&quot;na_detail clearfix &lt;%if(newrow.imgurl == &quot;&quot;)&#123;%>no_pic<%&#125;%&gt;&quot;&gt;
                            &lt;div class=&quot;news_title&quot;&gt;
                                &lt;h3&gt;&lt;a href=&quot;&lt;%=newrow.docurl%&gt;&quot;&gt;&lt;%=newrow.title%&gt;&lt;/a&gt;&lt;/h3&gt;
                            &lt;/div&gt;
                            &lt;div class=&quot;news_tag&quot;&gt;
                                &lt;%if(newrow.channelname &amp;&amp; newrow.channelname != &quot;shehui&quot; &amp;&amp; newrow.channelname != &quot;guonei&quot; &amp;&amp; newrow.channelname != &quot;guoji&quot; &amp;&amp; newrow.channelname != &quot;dada&quot; &amp;&amp; newrow.channelname != &quot;war&quot; &amp;&amp; newrow.channelname != &quot;hangkong&quot;)&#123;%>
                                        <%if(newrow.tlastid != "")&#123;%>
                                            <strong class="barlink"><%=newrow.tlastid%></strong>
                                        <%&#125;else if(newrow.label != &quot;&quot;)&#123;%>
                                            <a href="<%=newrow.tlink%>" class="link link_more">
                                            <em><%=newrow.label%></em></a>
                                        <%&#125;%&gt; 
                                &lt;%&#125;%&gt;
                                &lt;%if(newrow.keywords &amp;&amp; newrow.keywords.length &gt; 0)&#123;%>
                                        <div class="keywords">
                                        <%bowlder.each(newrow.keywords,function(k)&#123;%>
                                            <a href="<%=k.akey_link%>"><%=k.keyname%></a>
                                        <%&#125;)%&gt; 
                                    &lt;/div&gt;
                                &lt;%&#125;%&gt; 
                                &lt;%if(newrow.time)&#123;%>
                                        <span class="time"><%=formatTime(newrow.time)%></span>
                                    <%&#125;%&gt; 
                            &lt;/div&gt;
                            &lt;div class=&quot;share-join clearfix&quot;&gt;
                                &lt;a class=&quot;post_recommend_tie right&quot; href=&quot;&lt;%=newrow.commenturl%&gt;&quot; &gt;
                                    &lt;div class=&quot;post_recommend_tie_wrap&quot;&gt;
                                        &lt;span class=&quot;post_recommend_tie_icon icons&quot;&gt;&lt;%=newrow.tienum ? newrow.tienum : 0%&gt;&lt;/span&gt; 
                                        &lt;span class=&quot;post_recommend_tie_text&quot;&gt;&lt;i&gt;跟贴&lt;/i&gt;&lt;%=newrow.tienum%&gt;&lt;/span&gt;
                                    &lt;/div&gt;
                                &lt;/a&gt;
                                &lt;div class=&quot;ne-shares-parent right&quot;&gt;
                                    &lt;span href=&quot;#share&quot; title=&quot;分享&quot; class=&quot;ne-shares-arr&quot;&gt;&lt;/span&gt;
                                    &lt;div class=&quot;share-join-item&quot; ne-module=&quot;/modules/shares/shares.js&quot; ne-state=&quot;cls.hover:ne-shares-open;title:&lt;%=newrow.title%&gt;;url:&lt;%=newrow.docurl%&gt;;pic:&lt;%=newrow.imgurl%&gt;&quot; &gt;
&lt;div class=&quot;ne-shares-pop6x1wrap&quot; ne-role=&quot;share-wrap&quot;&gt;
&lt;ul class=&quot;ne-shares-pop6x1&quot;&gt;
    &lt;li&gt;
        &lt;a ne-click=&quot;share(&#39;yixin&#39;)&quot; href=&quot;http://yixin.im/#f=www&quot;&gt;
            &lt;span class=&quot;inner&quot;&gt;
                &lt;i class=&quot;ep-share-icon ep-share-yixin&quot;&gt;&lt;/i&gt;
                &lt;span class=&quot;ep-share-name&quot;&gt;易信&lt;/span&gt;
            &lt;/span&gt;
        &lt;/a&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a ne-mouseover=&quot;initWeixin()&quot; href=&quot;javascript:&quot; target=&quot;_self&quot; class=&quot;ne-shares-weixin&quot;&gt;
            &lt;span class=&quot;inner&quot;&gt;
                &lt;i class=&quot;ep-share-icon ep-share-weixin&quot;&gt;&lt;/i&gt;
                &lt;span class=&quot;ep-share-name&quot;&gt;微信&lt;/span&gt;
            &lt;/span&gt;
        &lt;/a&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a ne-click=&quot;share(&#39;sina&#39;)&quot; href=&quot;javascript:&quot;&gt;
            &lt;span class=&quot;inner&quot;&gt;
                &lt;i class=&quot;ep-share-icon ep-share-sina&quot;&gt;&lt;/i&gt;
                &lt;span class=&quot;ep-share-name&quot;&gt;微博&lt;/span&gt;
            &lt;/span&gt;
        &lt;/a&gt;
    &lt;/li&gt;
    &lt;li class=&quot;last&quot;&gt;
        &lt;a ne-click=&quot;share(&#39;qzone&#39;)&quot; href=&quot;javascript:&quot;&gt;
            &lt;span class=&quot;inner&quot;&gt;
                &lt;i class=&quot;ep-share-icon ep-share-qzone&quot;&gt;&lt;/i&gt;
                &lt;span class=&quot;ep-share-name&quot;&gt;QQ空间&lt;/span&gt;
            &lt;/span&gt;
        &lt;/a&gt;
    &lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class=&quot;ne-shares-qrwrap&quot;&gt;
  &lt;div class=&quot;ne-shares-qrarr&quot;&gt;&lt;/div&gt;
  &lt;div ne-role=&quot;qrcode&quot; class=&quot;ne-shares-qrcode&quot;&gt;&lt;/div&gt;
  &lt;p&gt;用微信扫码二维码&lt;/p&gt;&lt;p&gt;分享至好友和朋友圈&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
                                &lt;/div&gt;
                            &lt;/div&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;%&#125; else if(newrow.pics3 &amp;&amp; newrow.pics3.length &gt;= 3)&#123;%>
                        <div class="data_row news_photoview clearfix <%if(__i == 0)&#123;%>news_first <%&#125;%&gt;&quot;&gt;
                        &lt;div class=&quot;news_title&quot;&gt;
                            &lt;h3&gt;&lt;a href=&quot;&lt;%=newrow.docurl%&gt;&quot;&gt;&lt;%=newrow.title%&gt;&lt;/a&gt;&lt;/h3&gt;
                        &lt;/div&gt;
                        &lt;div class=&quot;np_pic&quot;&gt;
                            &lt;a href=&quot;&lt;%=newrow.docurl%&gt;&quot;&gt;
                                &lt;%bowlder.each(newrow.pics3,function(n)&#123;%>
                                        <span class="p_img3">
                                        <img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="<%=n.pic%>"
                      width="190" height="120" onerror="javascript:this.src='https://static.ws.126.net/f2e/news/index2016_rmd/images/pic3_error0106.jpg';"
                >
                                        </span>
                                    <%&#125;)%&gt; 
                            &lt;/a&gt;
                        &lt;/div&gt;
                        &lt;div class=&quot;np_detail clearfix&quot;&gt;
                            &lt;div class=&quot;news_tag&quot;&gt;
                                &lt;%if(newrow.channelname &amp;&amp; newrow.channelname != &quot;shehui&quot; &amp;&amp; newrow.channelname != &quot;guonei&quot; &amp;&amp; newrow.channelname != &quot;guoji&quot; &amp;&amp; newrow.channelname != &quot;dada&quot; &amp;&amp; newrow.channelname != &quot;war&quot; &amp;&amp; newrow.channelname != &quot;hangkong&quot;)&#123;%>
                                        <%if(newrow.tlastid != "")&#123;%>
                                            <strong class="barlink"><%=newrow.tlastid%></strong>
                                        <%&#125;else if(newrow.label != &quot;&quot;)&#123;%>
                                            <a href="<%=newrow.tlink%>" class="link link_more">
                                            <em><%=newrow.label%></em></a>
                                        <%&#125;%&gt; 
                                &lt;%&#125;%&gt;
                                &lt;%if(newrow.keywords &amp;&amp; newrow.keywords.length &gt; 0)&#123;%>
                                        <div class="keywords">
                                        <%bowlder.each(newrow.keywords,function(k)&#123;%>
                                            <a href="<%=k.akey_link%>"><%=k.keyname%></a>
                                        <%&#125;)%&gt; 
                                    &lt;/div&gt;
                                &lt;%&#125;%&gt; 
                                &lt;%if(newrow.time)&#123;%>
                                        <span class="time"><%=formatTime(newrow.time)%></span>
                                    <%&#125;%&gt; 
                            &lt;/div&gt;
                            &lt;div class=&quot;share-join clearfix&quot;&gt;
                                &lt;a class=&quot;post_recommend_tie right&quot; href=&quot;&lt;%=newrow.commenturl%&gt;&quot; &gt;
                                    &lt;div class=&quot;post_recommend_tie_wrap&quot;&gt;
                                        &lt;span class=&quot;post_recommend_tie_icon icons&quot;&gt;&lt;%=newrow.tienum%&gt;&lt;/span&gt; 
                                        &lt;span class=&quot;post_recommend_tie_text&quot;&gt;&lt;i&gt;跟贴&lt;/i&gt;&lt;%=newrow.tienum%&gt;&lt;/span&gt;
                                    &lt;/div&gt;
                                &lt;/a&gt;
                                &lt;div class=&quot;ne-shares-parent right&quot;&gt;
                                    &lt;span href=&quot;#share&quot; title=&quot;分享&quot; class=&quot;ne-shares-arr&quot;&gt;&lt;/span&gt;
                                    &lt;div class=&quot;share-join-item&quot; ne-module=&quot;/modules/shares/shares.js&quot; ne-state=&quot;cls.hover:ne-shares-open;title:&lt;%=newrow.title%&gt;;url:&lt;%=newrow.docurl%&gt;;pic:&lt;%=newrow.imgurl%&gt;&quot; &gt;
&lt;div class=&quot;ne-shares-pop6x1wrap&quot; ne-role=&quot;share-wrap&quot;&gt;
&lt;ul class=&quot;ne-shares-pop6x1&quot;&gt;
    &lt;li&gt;
        &lt;a ne-click=&quot;share(&#39;yixin&#39;)&quot; href=&quot;http://yixin.im/#f=www&quot;&gt;
            &lt;span class=&quot;inner&quot;&gt;
                &lt;i class=&quot;ep-share-icon ep-share-yixin&quot;&gt;&lt;/i&gt;
                &lt;span class=&quot;ep-share-name&quot;&gt;易信&lt;/span&gt;
            &lt;/span&gt;
        &lt;/a&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a ne-mouseover=&quot;initWeixin()&quot; href=&quot;javascript:&quot; target=&quot;_self&quot; class=&quot;ne-shares-weixin&quot;&gt;
            &lt;span class=&quot;inner&quot;&gt;
                &lt;i class=&quot;ep-share-icon ep-share-weixin&quot;&gt;&lt;/i&gt;
                &lt;span class=&quot;ep-share-name&quot;&gt;微信&lt;/span&gt;
            &lt;/span&gt;
        &lt;/a&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a ne-click=&quot;share(&#39;sina&#39;)&quot; href=&quot;javascript:&quot;&gt;
            &lt;span class=&quot;inner&quot;&gt;
                &lt;i class=&quot;ep-share-icon ep-share-sina&quot;&gt;&lt;/i&gt;
                &lt;span class=&quot;ep-share-name&quot;&gt;微博&lt;/span&gt;
            &lt;/span&gt;
        &lt;/a&gt;
    &lt;/li&gt;
    &lt;li class=&quot;last&quot;&gt;
        &lt;a ne-click=&quot;share(&#39;qzone&#39;)&quot; href=&quot;javascript:&quot;&gt;
            &lt;span class=&quot;inner&quot;&gt;
                &lt;i class=&quot;ep-share-icon ep-share-qzone&quot;&gt;&lt;/i&gt;
                &lt;span class=&quot;ep-share-name&quot;&gt;QQ空间&lt;/span&gt;
            &lt;/span&gt;
        &lt;/a&gt;
    &lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class=&quot;ne-shares-qrwrap&quot;&gt;
  &lt;div class=&quot;ne-shares-qrarr&quot;&gt;&lt;/div&gt;
  &lt;div ne-role=&quot;qrcode&quot; class=&quot;ne-shares-qrcode&quot;&gt;&lt;/div&gt;
  &lt;p&gt;用微信扫码二维码&lt;/p&gt;&lt;p&gt;分享至好友和朋友圈&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
                                &lt;/div&gt;
                            &lt;/div&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;%&#125; else &#123;%>
                        <div class="data_row news_article clearfix <%if(__i == 0)&#123;%>news_first<%&#125;%&gt;&quot; i=&#123;&#123;__i&#125;&#125;&gt;
                        &lt;div class=&quot;na_detail clearfix no_pic&quot;&gt;
                            &lt;div class=&quot;news_title&quot;&gt;
                                &lt;h3&gt;&lt;a href=&quot;&lt;%=newrow.docurl%&gt;&quot;&gt;&lt;%=newrow.title%&gt;&lt;/a&gt;&lt;/h3&gt;
                            &lt;/div&gt;
                            &lt;div class=&quot;news_tag&quot;&gt;
                                &lt;%if(newrow.channelname &amp;&amp; newrow.channelname != &quot;shehui&quot; &amp;&amp; newrow.channelname != &quot;guonei&quot; &amp;&amp; newrow.channelname != &quot;guoji&quot; &amp;&amp; newrow.channelname != &quot;dada&quot; &amp;&amp; newrow.channelname != &quot;war&quot; &amp;&amp; newrow.channelname != &quot;hangkong&quot;)&#123;%>
                                        <%if(newrow.tlastid != "")&#123;%>
                                            <strong class="barlink"><%=newrow.tlastid%></strong>
                                        <%&#125;else if(newrow.label != &quot;&quot;)&#123;%>
                                            <a href="<%=newrow.tlink%>" class="link link_more">
                                            <em><%=newrow.label%></em></a>
                                        <%&#125;%&gt; 
                                &lt;%&#125;%&gt;
                                &lt;%if(newrow.keywords &amp;&amp; newrow.keywords.length &gt; 0)&#123;%>
                                        <div class="keywords">
                                        <%bowlder.each(newrow.keywords,function(k)&#123;%>
                                            <a href="<%=k.akey_link%>"><%=k.keyname%></a>
                                        <%&#125;)%&gt; 
                                    &lt;/div&gt;
                                &lt;%&#125;%&gt; 
                                &lt;%if(newrow.time)&#123;%>
                                        <span class="time"><%=formatTime(newrow.time)%></span>
                                    <%&#125;%&gt; 
                            &lt;/div&gt;
                            &lt;div class=&quot;share-join clearfix&quot;&gt;
                                &lt;a class=&quot;post_recommend_tie right&quot; href=&quot;&lt;%=newrow.commenturl%&gt;&quot; &gt;
                                    &lt;div class=&quot;post_recommend_tie_wrap&quot;&gt;
                                        &lt;span class=&quot;post_recommend_tie_icon icons&quot;&gt;&lt;%=newrow.tienum ? newrow.tienum : 0%&gt;&lt;/span&gt; 
                                        &lt;span class=&quot;post_recommend_tie_text&quot;&gt;&lt;i&gt;跟贴&lt;/i&gt;&lt;%=newrow.tienum%&gt;&lt;/span&gt;
                                    &lt;/div&gt;
                                &lt;/a&gt;
                                &lt;div class=&quot;ne-shares-parent right&quot;&gt;
                                    &lt;span href=&quot;#share&quot; title=&quot;分享&quot; class=&quot;ne-shares-arr&quot;&gt;&lt;/span&gt;
                                    &lt;div class=&quot;share-join-item&quot; ne-module=&quot;/modules/shares/shares.js&quot; ne-state=&quot;cls.hover:ne-shares-open;title:&lt;%=newrow.title%&gt;;url:&lt;%=newrow.docurl%&gt;;pic:&lt;%=newrow.imgurl%&gt;&quot; &gt;
&lt;div class=&quot;ne-shares-pop6x1wrap&quot; ne-role=&quot;share-wrap&quot;&gt;
&lt;ul class=&quot;ne-shares-pop6x1&quot;&gt;
    &lt;li&gt;
        &lt;a ne-click=&quot;share(&#39;yixin&#39;)&quot; href=&quot;http://yixin.im/#f=www&quot;&gt;
            &lt;span class=&quot;inner&quot;&gt;
                &lt;i class=&quot;ep-share-icon ep-share-yixin&quot;&gt;&lt;/i&gt;
                &lt;span class=&quot;ep-share-name&quot;&gt;易信&lt;/span&gt;
            &lt;/span&gt;
        &lt;/a&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a ne-mouseover=&quot;initWeixin()&quot; href=&quot;javascript:&quot; target=&quot;_self&quot; class=&quot;ne-shares-weixin&quot;&gt;
            &lt;span class=&quot;inner&quot;&gt;
                &lt;i class=&quot;ep-share-icon ep-share-weixin&quot;&gt;&lt;/i&gt;
                &lt;span class=&quot;ep-share-name&quot;&gt;微信&lt;/span&gt;
            &lt;/span&gt;
        &lt;/a&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a ne-click=&quot;share(&#39;sina&#39;)&quot; href=&quot;javascript:&quot;&gt;
            &lt;span class=&quot;inner&quot;&gt;
                &lt;i class=&quot;ep-share-icon ep-share-sina&quot;&gt;&lt;/i&gt;
                &lt;span class=&quot;ep-share-name&quot;&gt;微博&lt;/span&gt;
            &lt;/span&gt;
        &lt;/a&gt;
    &lt;/li&gt;
    &lt;li class=&quot;last&quot;&gt;
        &lt;a ne-click=&quot;share(&#39;qzone&#39;)&quot; href=&quot;javascript:&quot;&gt;
            &lt;span class=&quot;inner&quot;&gt;
                &lt;i class=&quot;ep-share-icon ep-share-qzone&quot;&gt;&lt;/i&gt;
                &lt;span class=&quot;ep-share-name&quot;&gt;QQ空间&lt;/span&gt;
            &lt;/span&gt;
        &lt;/a&gt;
    &lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class=&quot;ne-shares-qrwrap&quot;&gt;
  &lt;div class=&quot;ne-shares-qrarr&quot;&gt;&lt;/div&gt;
  &lt;div ne-role=&quot;qrcode&quot; class=&quot;ne-shares-qrcode&quot;&gt;&lt;/div&gt;
  &lt;p&gt;用微信扫码二维码&lt;/p&gt;&lt;p&gt;分享至好友和朋友圈&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
                                &lt;/div&gt;
                            &lt;/div&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;%&#125;%&gt;
                &lt;/script&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;load_more_foot&quot; id=&quot;load_more_foot&quot;&gt;&lt;/div&gt;
&lt;a class=&quot;load_more_btn&quot; ne-click=&quot;clickLoadMore();&quot; ne-hide=&quot;&#123;&#123;myState.counter &gt;= navList[myState.ndNavIndex].totalPage || myState.counter == 0&#125;&#125;&quot; target=&quot;_self&quot;&gt;
&lt;div class=&quot;post_addmore&quot; ne-visible=&quot;&#123;&#123;myState.counter &lt; navList[myState.ndNavIndex].totalPage &amp;&amp; !myState.loading&#125;&#125;&quot;&gt;
&lt;i&gt;+&lt;/i&gt;
&lt;span&gt;加载更多&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;post_adding&quot; ne-show=&quot;&#123;&#123;myState.loading&#125;&#125;&quot;&gt;
&lt;i&gt;+&lt;/i&gt;
&lt;span&gt;加载中...&lt;/span&gt;
&lt;/div&gt;
&lt;/a&gt;
&lt;div class=&quot;load_more_tip&quot; ne-show=&quot;&#123;&#123;myState.counter &gt;= navList[myState.ndNavIndex].totalPage&#125;&#125;&quot;&gt;:-)已经到最后啦~&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;!-- 信息流 结束 --&gt;
&lt;/div&gt;
&lt;!-- 中间新闻 结束 --&gt;
&lt;!-- 右侧栏目 开始 --&gt;
&lt;div class=&quot;main_right_channel&quot;&gt;
&lt;!-- 广告 --&gt;
&lt;!-- 300*30 --&gt;
&lt;!-- 新闻首页焦点图上方L特殊标识广告 开始--&gt;
&lt;!-- &lt;div class=&quot;mod_newsr_ad1&quot;&gt;
&lt;a href=&quot;http://g.163.com/a?CID=45744&amp;Values=2901173312&amp;Redirect=http://clickc.admaster.com.cn/c/a73960,b1279435,c369,i0,m101,8a1,8b2,h&quot;&gt;&lt;img class=&quot;block mb10&quot; width=&quot;300&quot; height=&quot;30&quot; src=&quot;http://img1.126.net/channel11/024018300301009.jpg&quot; alt=&quot;广告&quot;&gt;&lt;/a&gt;
&lt;/div&gt; --&gt;
&lt;!--新闻首页焦点图上方L特殊标识广告 结束--&gt;
&lt;!-- 焦点图 开始--&gt;
&lt;div class=&quot;mod_right_focus&quot;&gt;
&lt;div ne-module=&quot;&quot;&gt;
&lt;div class=&quot;mod_focus&quot; ne-module=&quot;/modules/slide/slide.js&quot; ne-state=&quot;slideMethod:left;events=mouseover;interval=4000;loop=true;&quot;&gt;
&lt;div class=&quot;f_body&quot; ne-role=&quot;slide-body&quot;&gt;
&lt;ul class=&quot;f_main clearfix&quot; ne-role=&quot;slide-scroll&quot;&gt;
&lt;li ne-role=&quot;slide-page&quot;&gt;
&lt;a href=&quot;http://g.163.com/a?CID=68685&amp;amp;Values=1366894002&amp;amp;Redirect=http://clk.gentags.net/clk/iv-10648/st-31/cr-2/oi-1303641/or-7535/adv-158/pcon-0/https%253A%252F%252Fent.163.com%252F19%252F0625%252F16%252FEIHG8HLF000398QL.html&quot;&gt;
&lt;img height=&quot;400&quot; src=&quot;http://nimg.ws.126.net/?url=https://yt-adp.ws.126.net/channel21/037408_300400_axry_20190626.jpg&amp;amp;thumbnail=300x2147483647&amp;amp;quality=75&amp;amp;type=jpg&quot; width=&quot;300&quot;/&gt;
&lt;span class=&quot;bg&quot;&gt;&lt;/span&gt;
&lt;h3&gt;三金西瓜霜独家冠名网易封面故事&lt;/h3&gt;
&lt;/a&gt;
&lt;/li&gt;
&lt;li ne-role=&quot;slide-page&quot;&gt;
&lt;a href=&quot;http://news.163.com/photoview/00AP0001/2302561.html&quot;&gt;
&lt;img height=&quot;400&quot; src=&quot;https://cms-bucket.ws.126.net/2019/06/28/e5b070c1f96349b0829da88b41105903.jpeg?imageView&amp;amp;thumbnail=300y400&quot; width=&quot;300&quot;/&gt;
&lt;span class=&quot;bg&quot;&gt;&lt;/span&gt;
&lt;h3&gt;浒苔绿潮开始在山东沿海登陆&lt;/h3&gt;
&lt;/a&gt;
&lt;/li&gt;
&lt;li ne-role=&quot;slide-page&quot;&gt;
&lt;a href=&quot;http://news.163.com/photoview/00AP0001/2302559.html&quot;&gt;
&lt;img height=&quot;400&quot; src=&quot;https://cms-bucket.ws.126.net/2019/06/28/2792654fe66f4985879a8cc30a89a6cc.jpeg?imageView&amp;amp;thumbnail=300y400&quot; width=&quot;300&quot;/&gt;
&lt;span class=&quot;bg&quot;&gt;&lt;/span&gt;
&lt;h3&gt;广西南宁抓获涉传人员286名&lt;/h3&gt;
&lt;/a&gt;
&lt;/li&gt;
&lt;li ne-role=&quot;slide-page&quot;&gt;
&lt;a href=&quot;http://news.163.com/photoview/00AO0001/2302560.html&quot;&gt;
&lt;img height=&quot;400&quot; src=&quot;https://cms-bucket.ws.126.net/2019/06/28/202e20527525474cac861ba7e56a2dde.jpeg?imageView&amp;amp;thumbnail=300y400&quot; width=&quot;300&quot;/&gt;
&lt;span class=&quot;bg&quot;&gt;&lt;/span&gt;
&lt;h3&gt;民主党初选辩论次日:拜登现身&lt;/h3&gt;
&lt;/a&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class=&quot;f_title&quot;&gt;
&lt;span class=&quot;current&quot; ne-role=&quot;slide-nav&quot;&gt;1&lt;/span&gt;
&lt;span class=&quot;&quot; ne-role=&quot;slide-nav&quot;&gt;2&lt;/span&gt;
&lt;span class=&quot;&quot; ne-role=&quot;slide-nav&quot;&gt;3&lt;/span&gt;
&lt;span class=&quot;&quot; ne-role=&quot;slide-nav&quot;&gt;4&lt;/span&gt;
&lt;/div&gt;
&lt;a class=&quot;f_prev&quot; ne-role=&quot;slide-prev&quot;&gt;&amp;lt;&lt;/a&gt;
&lt;a class=&quot;f_next&quot; ne-role=&quot;slide-next&quot;&gt;&amp;gt;&lt;/a&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;!-- 焦点图 结束--&gt;
&lt;!-- 广告 开始--&gt;
&lt;div class=&quot;mod_ad_toutu channel_relative_2016&quot;&gt;
&lt;ul class=&quot;clearfix&quot;&gt;
&lt;li&gt;&lt;a href=&quot;http://baoxian.163.com/activity/act1605/index.html?from=mhds1605&quot;&gt;免费领取iPhone6s&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://mall.163.com/mobile/fill.jsp?from=wwwtext&quot;&gt;手机费快充超低折扣&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://baoxian.163.com/car/activitylist.html?from=mhdstbl&quot;&gt;免费送现金红包！&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://piao.163.com/movie/47080.html?from=newsword&quot;&gt;镜中多奇境依旧爱丽丝&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;span class=&quot;channel_ad_text_2016&quot;&gt;广告&lt;/span&gt;
&lt;/div&gt;
&lt;!-- 广告 结束--&gt;
&lt;!-- 右侧960原创栏目 开始 --&gt;
&lt;div class=&quot;origina_column_960&quot; id=&quot;js_origina_column_960&quot;&gt;
&lt;div ne-module=&quot;/news/index2016_rmd/modules/originacolumn/originacolumn.js&quot;&gt;
&lt;div class=&quot;origina_column_warp&quot;&gt;
&lt;h2&gt;
&lt;span&gt;新闻各有态度&lt;/span&gt;
&lt;/h2&gt;
&lt;div class=&quot;scroll_bd&quot; ne-role=&quot;scroll_bd&quot;&gt;
&lt;div class=&quot;scroll_column_bd&quot;&gt;
&lt;ul class=&quot;scroll_ul&quot;&gt;
&lt;!-- 回声 开始 --&gt;
&lt;!-- 回声 结束 --&gt;
&lt;!-- 数读 开始 --&gt;
&lt;li class=&quot;cell cell_sd cell_hover&quot;&gt;
&lt;p class=&quot;tag_line&quot;&gt;
&lt;a class=&quot;tags tag_sd&quot; href=&quot;http://data.163.com/special/datablog/&quot;&gt;数读&lt;/a&gt;
&lt;/p&gt;
&lt;div class=&quot;column_main&quot;&gt;
&lt;a class=&quot;detail&quot; href=&quot;http://data.163.com/19/0626/14/EIJQJG9L000181IU.html&quot; ne-role=&quot;detail&quot;&gt;
&lt;h3&gt;
                                中国哪里的地铁最拥挤？
                            &lt;/h3&gt;
&lt;div class=&quot;photo&quot;&gt;
&lt;img alt=&quot;中国哪里的地铁最拥挤？&quot; height=&quot;90&quot; src=&quot;https://cms-bucket.ws.126.net/2019/06/26/30e8760df3044e29a18fac3514dd22b1.jpeg?imageView&amp;amp;thumbnail=200y90&quot; width=&quot;200&quot;/&gt;
&lt;/div&gt;
&lt;/a&gt;
&lt;ul&gt;
&lt;li class=&quot;&quot;&gt;&lt;a href=&quot;http://data.163.com/19/0625/11/EIH0CQEK00019GOE.html&quot;&gt;娶一个潮汕老婆到底是什么体验&lt;/a&gt;&lt;/li&gt;
&lt;li class=&quot;twoli&quot;&gt;&lt;a href=&quot;http://data.163.com/19/0621/17/EI7BLS3600019GOE.html&quot;&gt;不瞒你说，成都早餐好吃到爆&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;!-- 数读 结束 --&gt;
&lt;!-- 人间 开始 --&gt;
&lt;li class=&quot;cell cell_rj&quot;&gt;
&lt;p class=&quot;tag_line&quot;&gt;
&lt;a class=&quot;tags tag_rj&quot; href=&quot;http://renjian.163.com/&quot;&gt;人间&lt;/a&gt;
&lt;/p&gt;
&lt;div class=&quot;column_main&quot;&gt;
&lt;a class=&quot;detail&quot; href=&quot;http://renjian.163.com/19/0628/14/EIP21K41000181RV.html&quot; ne-role=&quot;detail&quot;&gt;
&lt;h3&gt;
                                小白作者的变现之路
                            &lt;/h3&gt;
&lt;div class=&quot;photo&quot;&gt;
&lt;img alt=&quot;小白作者的变现之路&quot; height=&quot;90&quot; src=&quot;https://cms-bucket.ws.126.net/2019/06/28/27f33fcbfcec4b42b6837807b7a0883f.jpeg?imageView&amp;amp;thumbnail=200y90&quot; width=&quot;200&quot;/&gt;
&lt;/div&gt;
&lt;/a&gt;
&lt;ul&gt;
&lt;li class=&quot;&quot;&gt;&lt;a href=&quot;http://renjian.163.com/19/0627/16/EIML2HJO000181RV.html&quot;&gt;被毒虫男友拖下水的女大学生&lt;/a&gt;&lt;/li&gt;
&lt;li class=&quot;twoli&quot;&gt;&lt;a href=&quot;http://renjian.163.com/19/0626/13/EIJPJMCH000181RV.html&quot;&gt;领导，求你让我加班吧&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;!-- 人间 结束 --&gt;
&lt;!-- 大国小民 开始 --&gt;
&lt;li class=&quot;cell cell_dgxm&quot;&gt;
&lt;p class=&quot;tag_line&quot;&gt;
&lt;span class=&quot;tags tag_dgxm&quot;&gt;大国小民&lt;/span&gt;
&lt;/p&gt;
&lt;div class=&quot;column_main&quot;&gt;
&lt;a class=&quot;detail&quot; href=&quot;http://renjian.163.com/19/0624/14/EIEOBNCB000181RK.html&quot; ne-role=&quot;detail&quot;&gt;
&lt;h3&gt;
                                当不了官发不了财的读书人
                            &lt;/h3&gt;
&lt;div class=&quot;photo&quot;&gt;
&lt;img alt=&quot;当不了官发不了财的读书人&quot; height=&quot;90&quot; src=&quot;https://cms-bucket.ws.126.net/2019/06/24/b77e119ffeca477fa4bd2144b1fcb86c.jpeg?imageView&amp;amp;thumbnail=200y90&quot; width=&quot;200&quot;/&gt;
&lt;/div&gt;
&lt;/a&gt;
&lt;ul&gt;
&lt;li class=&quot;&quot;&gt;&lt;a href=&quot;http://renjian.163.com/19/0620/16/EI4JRNO7000181RK.html&quot;&gt;四个博士，一地鸡毛&lt;/a&gt;&lt;/li&gt;
&lt;li class=&quot;twoli&quot;&gt;&lt;a href=&quot;http://renjian.163.com/19/0618/12/EHV0QRVG000181RK.html&quot;&gt;医闹得逞后，伤害的到底是谁&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;!-- 大国小民 结束 --&gt;
&lt;!-- 三三有梗 开始 --&gt;
&lt;li class=&quot;cell cell_dada&quot;&gt;
&lt;p class=&quot;tag_line&quot;&gt;
&lt;span class=&quot;tags tag_dada&quot;&gt;三三有梗&lt;/span&gt;
&lt;/p&gt;
&lt;div class=&quot;column_main&quot;&gt;
&lt;a class=&quot;detail&quot; href=&quot;https://news.163.com/19/0627/11/EIM57O490001885B.html&quot; ne-role=&quot;detail&quot;&gt;
&lt;h3&gt;
                                据说99%的人在图书馆一定会碰上......
                            &lt;/h3&gt;
&lt;div class=&quot;photo&quot;&gt;
&lt;img alt=&quot;据说99%的人在图书馆一定会碰上......&quot; height=&quot;90&quot; src=&quot;https://cms-bucket.ws.126.net/2019/06/27/06eb8f4a3d4647bf9360ff5e71f003b8.png?imageView&amp;amp;thumbnail=200y90&quot; width=&quot;200&quot;/&gt;
&lt;/div&gt;
&lt;/a&gt;
&lt;ul&gt;
&lt;li class=&quot;&quot;&gt;&lt;a href=&quot;https://news.163.com/19/0626/15/EIK0IJT40001885B.html&quot;&gt;我可能，得了种，前任病&lt;/a&gt;&lt;/li&gt;
&lt;li class=&quot;twoli&quot;&gt;&lt;a href=&quot;https://news.163.com/19/0617/09/EHS57H4L0001885B.html&quot;&gt;那些KO不掉我的,最终成了我的OK&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;!-- 三三有梗 结束 --&gt;
&lt;!-- 三三映画 开始 --&gt;
&lt;!-- 三三映画 结束 --&gt;
&lt;!-- 我去1990 开始 --&gt;
&lt;li class=&quot;cell cell_wq1990&quot;&gt;
&lt;p class=&quot;tag_line&quot;&gt;
&lt;span class=&quot;tags tag_wq1990&quot;&gt;我去1990&lt;/span&gt;
&lt;/p&gt;
&lt;div class=&quot;column_main&quot;&gt;
&lt;a class=&quot;detail&quot; href=&quot;https://news.163.com/19/0628/11/EIOL94760001885B.html&quot; ne-role=&quot;detail&quot;&gt;
&lt;h3&gt;
                                直男幼稚行为大赏
                            &lt;/h3&gt;
&lt;div class=&quot;photo&quot;&gt;
&lt;img alt=&quot;直男幼稚行为大赏&quot; height=&quot;90&quot; src=&quot;https://cms-bucket.ws.126.net/2019/06/28/0b3890cd2f4b473fa0127b5e33ae6ccf.png?imageView&amp;amp;thumbnail=200y90&quot; width=&quot;200&quot;/&gt;
&lt;/div&gt;
&lt;/a&gt;
&lt;ul&gt;
&lt;li class=&quot;&quot;&gt;&lt;a href=&quot;https://news.163.com/19/0624/12/EIEFGMVL0001885B.html&quot;&gt;打个赌，爱情友情你分不清楚&lt;/a&gt;&lt;/li&gt;
&lt;li class=&quot;twoli&quot;&gt;&lt;a href=&quot;https://news.163.com/19/0621/12/EI6NKDTU0001885B.html&quot;&gt;不会唱歌的人进 KTV 以后有多惨&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;!-- 我去1990 结束 --&gt;
&lt;!-- 轻松一刻 开始 --&gt;
&lt;li class=&quot;cell cell_qsyk&quot;&gt;
&lt;p class=&quot;tag_line&quot;&gt;
&lt;span class=&quot;tags tag_qsyk&quot;&gt;轻松一刻&lt;/span&gt;
&lt;/p&gt;
&lt;div class=&quot;column_main&quot;&gt;
&lt;a class=&quot;detail&quot; href=&quot;https://news.163.com/19/0628/19/EIPIQT4O000181BR.html&quot; ne-role=&quot;detail&quot;&gt;
&lt;h3&gt;
                                彩票一直都不中，我却忍不住要买
                            &lt;/h3&gt;
&lt;div class=&quot;photo&quot;&gt;
&lt;img alt=&quot;彩票一直都不中，我却忍不住要买&quot; height=&quot;90&quot; src=&quot;https://cms-bucket.ws.126.net/2019/06/28/f44265c5b4ef4a11a99eedbde7c49833.png?imageView&amp;amp;thumbnail=200y90&quot; width=&quot;200&quot;/&gt;
&lt;/div&gt;
&lt;/a&gt;
&lt;ul&gt;
&lt;li class=&quot;&quot;&gt;&lt;a href=&quot;https://news.163.com/19/0627/17/EIMPGJAU000181BR.html&quot;&gt;原来&quot;神仙眷侣&quot;离婚,也是一地鸡毛&lt;/a&gt;&lt;/li&gt;
&lt;li class=&quot;twoli&quot;&gt;&lt;a href=&quot;https://news.163.com/19/0626/18/EIK95RV0000181BR.html&quot;&gt;我宣布，北大清华这对CP锁死了！&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;!-- 轻松一刻 结束 --&gt;
&lt;!-- 槽值 开始 --&gt;
&lt;li class=&quot;cell cell_caozhi&quot;&gt;
&lt;p class=&quot;tag_line&quot;&gt;
&lt;span class=&quot;tags tag_caozhi&quot;&gt;槽值&lt;/span&gt;
&lt;/p&gt;
&lt;div class=&quot;column_main&quot;&gt;
&lt;a class=&quot;detail&quot; href=&quot;http://caozhi.news.163.com/19/0623/22/EID0CBIH000181TI.html&quot; ne-role=&quot;detail&quot;&gt;
&lt;h3&gt;
                                佟丽娅，这次你赢了
                            &lt;/h3&gt;
&lt;div class=&quot;photo&quot;&gt;
&lt;img alt=&quot;佟丽娅，这次你赢了&quot; height=&quot;90&quot; src=&quot;https://cms-bucket.ws.126.net/2019/06/23/67d24242d479451ea705e26296187f78.jpeg?imageView&amp;amp;thumbnail=200y90&quot; width=&quot;200&quot;/&gt;
&lt;/div&gt;
&lt;/a&gt;
&lt;ul&gt;
&lt;li class=&quot;&quot;&gt;&lt;a href=&quot;http://caozhi.news.163.com/19/0623/15/EIC9LGSP000181TI.html&quot;&gt;千万别在深夜点开这神作&lt;/a&gt;&lt;/li&gt;
&lt;li class=&quot;twoli&quot;&gt;&lt;a href=&quot;http://caozhi.news.163.com/19/0618/19/EHVRID7G000181TI.html&quot;&gt;那个发“嗯”的人，已被踢出群聊&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;!-- 槽值 结束 --&gt;
&lt;!-- 谈心社 开始 --&gt;
&lt;li class=&quot;cell cell_tanxinshe&quot;&gt;
&lt;p class=&quot;tag_line&quot;&gt;
&lt;span class=&quot;tags tag_tanxinshe&quot;&gt;谈心社&lt;/span&gt;
&lt;/p&gt;
&lt;div class=&quot;column_main&quot;&gt;
&lt;a class=&quot;detail&quot; href=&quot;https://news.163.com/19/0628/17/EIPCOKEA0001982T.html&quot; ne-role=&quot;detail&quot;&gt;
&lt;h3&gt;
                                王宝强母亲去世：来日方长是人生的错觉
                            &lt;/h3&gt;
&lt;div class=&quot;photo&quot;&gt;
&lt;img alt=&quot;王宝强母亲去世：来日方长是人生的错觉&quot; height=&quot;90&quot; src=&quot;https://cms-bucket.ws.126.net/2019/06/28/ecd0de8b8dc0402da72d814bde76f06e.jpeg?imageView&amp;amp;thumbnail=200y90&quot; width=&quot;200&quot;/&gt;
&lt;/div&gt;
&lt;/a&gt;
&lt;ul&gt;
&lt;li class=&quot;&quot;&gt;&lt;a href=&quot;https://news.163.com/19/0627/13/EIMC0EDH0001982T.html&quot;&gt;宋仲基宋慧乔离婚：再美的爱情也会过期&lt;/a&gt;&lt;/li&gt;
&lt;li class=&quot;twoli&quot;&gt;&lt;a href=&quot;https://news.163.com/19/0626/17/EIK6AD550001982T.html&quot;&gt;杨紫冰箱藏药，戳穿最怂瞬间&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;!-- 谈心社 结束 --&gt;
&lt;!-- 看客 开始 --&gt;
&lt;li class=&quot;cell cell_kanke&quot;&gt;
&lt;p class=&quot;tag_line&quot;&gt;
&lt;a class=&quot;tags tag_kanke&quot; href=&quot;http://renjian.163.com/special/renjian_kanke/&quot;&gt;看客&lt;/a&gt;
&lt;/p&gt;
&lt;div class=&quot;column_main&quot;&gt;
&lt;a class=&quot;detail&quot; href=&quot;http://renjian.163.com/19/0628/11/EIOMK185000199ET.html&quot; ne-role=&quot;detail&quot;&gt;
&lt;h3&gt;
                                我奶茶都戒了，日本人才知道它的好
                            &lt;/h3&gt;
&lt;div class=&quot;photo&quot;&gt;
&lt;img alt=&quot;我奶茶都戒了，日本人才知道它的好&quot; height=&quot;90&quot; src=&quot;https://cms-bucket.ws.126.net/2019/06/28/f35eceb8d111496693e8f77a71a49cba.png?imageView&amp;amp;thumbnail=200y90&quot; width=&quot;200&quot;/&gt;
&lt;/div&gt;
&lt;/a&gt;
&lt;ul&gt;
&lt;li class=&quot;&quot;&gt;&lt;a href=&quot;http://renjian.163.com/19/0620/11/EI43PM8Q000199ET.html&quot;&gt;美国堕胎残酷物语&lt;/a&gt;&lt;/li&gt;
&lt;li class=&quot;twoli&quot;&gt;&lt;a href=&quot;http://renjian.163.com/19/0613/11/EHI39FML000199ET.html&quot;&gt;跑腿小哥提供的十万种服务&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;!-- 看客 结束 --&gt;
&lt;!-- 身体密码 开始 --&gt;
&lt;li class=&quot;cell cell_stpwd&quot;&gt;
&lt;p class=&quot;tag_line&quot;&gt;
&lt;a class=&quot;tags tag_stpwd&quot; href=&quot;http://jiankang.163.com/special/zhutierji/?type=3&quot;&gt;身体密码&lt;/a&gt;
&lt;/p&gt;
&lt;div class=&quot;column_main&quot;&gt;
&lt;a class=&quot;detail&quot; href=&quot;https://jiankang.163.com/19/0625/11/EIH061CM0038804G.html&quot; ne-role=&quot;detail&quot;&gt;
&lt;h3&gt;
                                防晒，99%的人都做错了……
                            &lt;/h3&gt;
&lt;div class=&quot;photo&quot;&gt;
&lt;img alt=&quot;防晒，99%的人都做错了……&quot; height=&quot;90&quot; src=&quot;https://cms-bucket.ws.126.net/2019/06/25/f260b6843fca4702bb5e4e316600f113.png?imageView&amp;amp;thumbnail=200y90&quot; width=&quot;200&quot;/&gt;
&lt;/div&gt;
&lt;/a&gt;
&lt;ul&gt;
&lt;li class=&quot;&quot;&gt;&lt;a href=&quot;https://jiankang.163.com/19/0617/14/EHSN7PPV0038804G.html&quot;&gt;当代人减肥：迈不过25岁这道坎&lt;/a&gt;&lt;/li&gt;
&lt;li class=&quot;twoli&quot;&gt;&lt;a href=&quot;https://jiankang.163.com/19/0608/15/EH5J9IGA00388AD5.html&quot;&gt;多年后 无数中年人仍会被高考吓醒&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;!-- 身体密码 结束 --&gt;
&lt;!-- 哒哒 开始 --&gt;
&lt;!-- 哒哒 结束 --&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div id=&quot;js_baseline&quot;&gt;&lt;/div&gt;
&lt;span class=&quot;white_bg&quot; id=&quot;js_white_bg&quot;&gt;&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;!-- 右侧960原创栏目 结束 --&gt;
&lt;div class=&quot;mt12 mod_ad_1 mod_ad_r&quot;&gt;
&lt;!-- 300*250 --&gt;
&lt;div adtype=&quot;rightAd&quot; class=&quot;at_item right_ad_item&quot; requesturl=&quot;https://nex.163.com/q?app=7BE0FC82&amp;amp;c=news&amp;amp;l=31&amp;amp;site=netease&amp;amp;affiliate=news&amp;amp;cat=homepage&amp;amp;type=logo300x250&amp;amp;location=1&quot;&gt;&lt;/div&gt;
&lt;a class=&quot;ad_hover_href&quot; href=&quot;javascript:;&quot; target=&quot;_self&quot;&gt;&lt;/a&gt;
&lt;/div&gt;
&lt;!-- 新闻策划 开始 --&gt;
&lt;div class=&quot;mt35 mod_pageh5&quot;&gt;
&lt;div ne-module=&quot;/news/index2016_rmd/modules/modh5/modh5.js&quot;&gt;
&lt;div class=&quot;idx_cm_title&quot;&gt;
&lt;a class=&quot;title&quot; href=&quot;https://open.163.com/&quot;&gt;网易公开课&lt;/a&gt;
&lt;/div&gt;
&lt;div class=&quot;wrap&quot; ne-module=&quot;/modules/slide/slide.js&quot; ne-state=&quot;slideMethod:left;events=mouseover;interval=4000;loop=true;&quot;&gt;
&lt;div class=&quot;h5_bg h5_border&quot;&gt;
&lt;div class=&quot;h5_body&quot; ne-role=&quot;slide-body&quot;&gt;
&lt;div class=&quot;h5_main clearfix&quot; ne-role=&quot;slide-scroll&quot;&gt;
&lt;div class=&quot;h5_item&quot; ne-role=&quot;slide-page&quot;&gt;
&lt;div class=&quot;h5_item_poster&quot;&gt;
&lt;a href=&quot;https://vip.open.163.com/courses/2698?p=xs_yt01&quot;&gt;
&lt;img height=&quot;436&quot; src=&quot;https://cms-bucket.ws.126.net/2019/06/26/b2ef8c1d0fed49078cb104f94c9f253e.jpeg&quot; width=&quot;280&quot;/&gt;
&lt;span class=&quot;bg&quot;&gt;&lt;/span&gt;
&lt;h3&gt;他凭什么甩开同龄人，做职场前5%？&lt;/h3&gt;
&lt;/a&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;h5_item&quot; ne-role=&quot;slide-page&quot;&gt;
&lt;div class=&quot;h5_item_poster&quot;&gt;
&lt;a href=&quot;https://vip.open.163.com/courses/2249?p=xs_yt02&quot;&gt;
&lt;img height=&quot;436&quot; src=&quot;https://cms-bucket.ws.126.net/2019/06/27/ffa8db82492446c88efe2d540ed64d6a.jpeg&quot; width=&quot;280&quot;/&gt;
&lt;span class=&quot;bg&quot;&gt;&lt;/span&gt;
&lt;h3&gt;一个人成熟的标志：与负面情绪和解&lt;/h3&gt;
&lt;/a&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;h5_item&quot; ne-role=&quot;slide-page&quot;&gt;
&lt;div class=&quot;h5_item_poster&quot;&gt;
&lt;a href=&quot;https://vip.open.163.com/courses/1078?p=xs_yt03&quot;&gt;
&lt;img height=&quot;436&quot; src=&quot;https://cms-bucket.ws.126.net/2019/06/26/893a6ecab816408cb5971de6ec236dde.jpeg&quot; width=&quot;280&quot;/&gt;
&lt;span class=&quot;bg&quot;&gt;&lt;/span&gt;
&lt;h3&gt;情商高的人，走到哪儿都大受欢迎&lt;/h3&gt;
&lt;/a&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;h5_item&quot; ne-role=&quot;slide-page&quot;&gt;
&lt;div class=&quot;h5_item_poster&quot;&gt;
&lt;a href=&quot;https://vip.open.163.com/courses/2019?p=xs_yt04&quot;&gt;
&lt;img height=&quot;436&quot; src=&quot;https://cms-bucket.ws.126.net/2019/06/26/f48048d211e44c889e241e545b29a000.jpeg&quot; width=&quot;280&quot;/&gt;
&lt;span class=&quot;bg&quot;&gt;&lt;/span&gt;
&lt;h3&gt;每天5分钟，告别办公室综合症&lt;/h3&gt;
&lt;/a&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;span class=&quot;ad_hover_pic&quot;&gt;广告&lt;/span&gt;
&lt;/div&gt;
&lt;!-- &lt;div class=&quot;scrollbtn scrollbtl&quot; ne-role=&quot;scrollbtn&quot;&gt;&lt;a ne-role=&quot;slide-prev&quot; class=&quot;f_prev&quot;&gt;&amp;lt;&lt;/a&gt;&lt;/div&gt;
        &lt;div class=&quot;scrollbtn scrollbtnr&quot; ne-role=&quot;scrollbtn&quot;&gt;&lt;a ne-role=&quot;slide-next&quot; class=&quot;f_next&quot;&gt;&amp;gt;&lt;/a&gt;&lt;/div&gt; --&gt;
&lt;div class=&quot;nav clearfix&quot;&gt;
&lt;span ne-repeat=&quot;1..state.total&quot; ne-role=&quot;slide-nav&quot;&gt;&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;!-- &lt;div class=&quot;nav clearfix&quot;&gt;
        &lt;span ne-role=&quot;slide-nav&quot; ne-repeat=&quot;1..state.total&quot;&gt;&lt;/span&gt;
    &lt;/div&gt; --&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;!-- 新闻策划 结束 --&gt;
&lt;!-- 新闻专题 开始 --&gt;
&lt;div class=&quot;mt30 mod_news_special&quot;&gt;
&lt;div class=&quot;idx_cm_title&quot;&gt;
&lt;h2 class=&quot;title&quot;&gt;&lt;a href=&quot;http://news.163.com/special/&quot;&gt;新闻专题&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;div class=&quot;bd&quot;&gt;
&lt;div class=&quot;photo&quot;&gt;
&lt;a href=&quot;http://news.163.com/special/2019qglh/&quot;&gt;
&lt;img alt=&quot;2019年全国两会&quot; height=&quot;90&quot; src=&quot;https://cms-bucket.ws.126.net/2019/03/07/c8134391d38245dc849b99fbf1ce33b0.png?imageView&amp;amp;thumbnail=300y90&quot; width=&quot;300&quot;/&gt;
&lt;/a&gt;
&lt;/div&gt;
&lt;h3&gt;
&lt;span&gt;HOT&lt;/span&gt;
&lt;strong&gt;&lt;a href=&quot;http://news.163.com/special/2019qglh/&quot;&gt;2019年全国两会&lt;/a&gt;&lt;/strong&gt;
&lt;/h3&gt;
&lt;ul class=&quot;idx_cm_list&quot;&gt;
&lt;li&gt;
&lt;a href=&quot;http://news.163.com/special/zghj70/&quot;&gt;海军成立70周年&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://news.163.com/special/chunyun_2019/&quot;&gt;2019年春运春节&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://news.163.com/special/chang_e4/&quot;&gt;嫦娥四号登月&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;http://cms-bucket.ws.126.net/2019/06/26/080a0e9f8b014dd5b261f9e988f7f7f9.jpeg&quot;&gt;声明&lt;/a&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;!-- 新闻专题 结束 --&gt;
&lt;!-- 高层动态 开始--&gt;
&lt;div class=&quot;mt27 mod_high_dynamic&quot;&gt;
&lt;div class=&quot;idx_cm_title&quot;&gt;
&lt;h2 class=&quot;title&quot;&gt;&lt;a href=&quot;http://news.163.com/special/00011269/gdmore.html&quot;&gt;高层动态&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;ul class=&quot;idx_cm_list idx_cm_list_h&quot;&gt;
&lt;li&gt;
&lt;a href=&quot;https://news.163.com/19/0628/11/EIOL0214000189FH.html&quot;&gt;习近平会见联合国秘书长古特雷斯&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;https://news.163.com/19/0620/14/EI4ESVV9000189FH.html&quot;&gt;习近平抵达平壤 开始对朝鲜进行国事访问&lt;/a&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;!-- 高层动态 结束--&gt;
&lt;div class=&quot;mt25 mod_ad_2 mod_ad_r&quot;&gt;
&lt;!-- 300*250 --&gt;
&lt;div adtype=&quot;rightAd&quot; class=&quot;at_item right_ad_item&quot; requesturl=&quot;https://nex.163.com/q?app=7BE0FC82&amp;amp;c=news&amp;amp;l=32&amp;amp;site=netease&amp;amp;affiliate=news&amp;amp;cat=homepage&amp;amp;type=logo300x250&amp;amp;location=2&quot;&gt;&lt;/div&gt;
&lt;a class=&quot;ad_hover_href&quot; href=&quot;javascript:;&quot; target=&quot;_self&quot;&gt;&lt;/a&gt;
&lt;/div&gt;
&lt;!-- 军事 航空  开始 --&gt;
&lt;div class=&quot;mt35 mod_war&quot;&gt;
&lt;div class=&quot;idx_cm_title&quot;&gt;
&lt;h2 class=&quot;title&quot;&gt;
&lt;a href=&quot;http://war.163.com/&quot;&gt;军事&lt;/a&gt;
&lt;i&gt;・&lt;/i&gt;
&lt;a href=&quot;http://news.163.com/air/&quot;&gt;航空&lt;/a&gt;
&lt;/h2&gt;
&lt;/div&gt;
&lt;div class=&quot;idx_cm_img&quot;&gt;
&lt;a href=&quot;http://war.163.com/photoview/4T8E0001/2301528.html&quot;&gt;
&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">samples = soup.find_all(<span class="string">&quot;a&quot;</span>)</span><br><span class="line">samples</span><br></pre></td></tr></table></figure>
<pre><code>[&lt;a class=&quot;ntes-nav-index-title ntes-nav-entry-wide c-fl&quot; href=&quot;http://www.163.com/&quot; title=&quot;网易首页&quot;&gt;网易首页&lt;/a&gt;,
 &lt;a class=&quot;ntes-nav-select-title ntes-nav-entry-bgblack JS_NTES_LOG_FE&quot; href=&quot;http://www.163.com/#f=topnav&quot;&gt;应用
             &lt;em class=&quot;ntes-nav-select-arr&quot;&gt;&lt;/em&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;http://m.163.com/newsapp/#f=topnav&quot;&gt;
 &lt;span&gt;
 &lt;em class=&quot;ntes-nav-app-newsapp&quot;&gt;网易新闻&lt;/em&gt;
 &lt;/span&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;http://open.163.com/#f=topnav&quot;&gt;
 &lt;span&gt;
 &lt;em class=&quot;ntes-nav-app-open&quot;&gt;网易公开课&lt;/em&gt;
 &lt;/span&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;https://hongcai.163.com/?from=pcsy-button&quot;&gt;
 &lt;span&gt;
 &lt;em class=&quot;ntes-nav-app-hongcai&quot;&gt;网易红彩&lt;/em&gt;
 &lt;/span&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;http://u.163.com/aosoutbdbd8&quot;&gt;
 &lt;span&gt;
 &lt;em class=&quot;ntes-nav-app-yanxuan&quot;&gt;网易严选&lt;/em&gt;
 &lt;/span&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;http://mail.163.com/client/dl.html?from=mail46&quot;&gt;
 &lt;span&gt;
 &lt;em class=&quot;ntes-nav-app-mail&quot;&gt;邮箱大师&lt;/em&gt;
 &lt;/span&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;http://study.163.com/client/download.htm?from=163app&amp;amp;utm_source=163.com&amp;amp;utm_medium=web_app&amp;amp;utm_campaign=business&quot;&gt;
 &lt;span&gt;
 &lt;em class=&quot;ntes-nav-app-study&quot;&gt;网易云课堂&lt;/em&gt;
 &lt;/span&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;http://da.kaola.com/redirect?t=5aaebece47f92c00&amp;amp;p=c901ea7c&amp;amp;proId=1024&amp;amp;code=6b69bfbfac0db5f335232faa957a27bb&amp;amp;target=https%3A%2F%2Fapp.kaola.com%2F%3Ftag%3Dbe3d8d027a530881037ef01d304eb505&quot;&gt;
 &lt;span&gt;
 &lt;em class=&quot;ntes-nav-app-kaola-hg&quot;&gt;网易考拉&lt;/em&gt;
 &lt;/span&gt;
 &lt;/a&gt;,
 &lt;a class=&quot;ntes-nav-quick-navigation-btn&quot; href=&quot;javascript:void(0);&quot; id=&quot;js_N_ntes_nav_quick_navigation_btn&quot; target=&quot;_self&quot;&gt;
 &lt;em&gt;快速导航
               &lt;span class=&quot;menu1&quot;&gt;&lt;/span&gt;
 &lt;span class=&quot;menu2&quot;&gt;&lt;/span&gt;
 &lt;span class=&quot;menu3&quot;&gt;&lt;/span&gt;
 &lt;/em&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;https://news.163.com&quot;&gt;新闻&lt;/a&gt;,
 &lt;a href=&quot;http://news.163.com/domestic&quot;&gt;国内&lt;/a&gt;,
 &lt;a href=&quot;http://news.163.com/world&quot;&gt;国际&lt;/a&gt;,
 &lt;a href=&quot;http://news.163.com/photo&quot;&gt;图片&lt;/a&gt;,
 &lt;a href=&quot;http://view.163.com&quot;&gt;评论&lt;/a&gt;,
 &lt;a href=&quot;http://discovery.163.com&quot;&gt;探索&lt;/a&gt;,
 &lt;a href=&quot;http://war.163.com&quot;&gt;军事&lt;/a&gt;,
 &lt;a href=&quot;http://news.163.com/localnews/&quot;&gt;本地新闻&lt;/a&gt;,
 &lt;a href=&quot;http://news.163.com/special/wangsansanhome/&quot;&gt;王三三&lt;/a&gt;,
 &lt;a href=&quot;http://sports.163.com&quot;&gt;体育&lt;/a&gt;,
 &lt;a href=&quot;http://sports.163.com/nba&quot;&gt;NBA&lt;/a&gt;,
 &lt;a href=&quot;http://sports.163.com/cba&quot;&gt;CBA&lt;/a&gt;,
 &lt;a href=&quot;http://sports.163.com/allsports&quot;&gt;综合&lt;/a&gt;,
 &lt;a href=&quot;http://sports.163.com/zc&quot;&gt;中超&lt;/a&gt;,
 &lt;a href=&quot;http://sports.163.com/world&quot;&gt;国际足球&lt;/a&gt;,
 &lt;a href=&quot;http://sports.163.com/yc&quot;&gt;英超&lt;/a&gt;,
 &lt;a href=&quot;http://sports.163.com/xj&quot;&gt;西甲&lt;/a&gt;,
 &lt;a href=&quot;http://sports.163.com/yj&quot;&gt;意甲&lt;/a&gt;,
 &lt;a href=&quot;http://ent.163.com&quot;&gt;娱乐&lt;/a&gt;,
 &lt;a href=&quot;http://ent.163.com/star&quot;&gt;明星&lt;/a&gt;,
 &lt;a href=&quot;http://ent.163.com/photo&quot;&gt;图片&lt;/a&gt;,
 &lt;a href=&quot;http://ent.163.com/movie&quot;&gt;电影&lt;/a&gt;,
 &lt;a href=&quot;http://ent.163.com/tv&quot;&gt;电视&lt;/a&gt;,
 &lt;a href=&quot;http://ent.163.com/music&quot;&gt;音乐&lt;/a&gt;,
 &lt;a href=&quot;http://ent.163.com/special/gsbjb/&quot;&gt;稿事编辑部&lt;/a&gt;,
 &lt;a href=&quot;http://ent.163.com/special/focus_ent/&quot;&gt;娱乐FOCUS&lt;/a&gt;,
 &lt;a href=&quot;http://ent.163.com/special/xbkhz/&quot;&gt;星捕快&lt;/a&gt;,
 &lt;a href=&quot;http://money.163.com&quot;&gt;财经&lt;/a&gt;,
 &lt;a href=&quot;http://money.163.com/stock&quot;&gt;股票&lt;/a&gt;,
 &lt;a href=&quot;http://quotes.money.163.com/stock&quot;&gt;行情&lt;/a&gt;,
 &lt;a href=&quot;http://money.163.com/chanjing&quot;&gt;产经&lt;/a&gt;,
 &lt;a href=&quot;http://money.163.com/ipo&quot;&gt;新股&lt;/a&gt;,
 &lt;a href=&quot;http://money.163.com/finance&quot;&gt;金融&lt;/a&gt;,
 &lt;a href=&quot;http://money.163.com/fund&quot;&gt;基金&lt;/a&gt;,
 &lt;a href=&quot;http://biz.163.com&quot;&gt;商业&lt;/a&gt;,
 &lt;a href=&quot;http://money.163.com/licai&quot;&gt;理财&lt;/a&gt;,
 &lt;a href=&quot;http://auto.163.com&quot;&gt;汽车&lt;/a&gt;,
 &lt;a href=&quot;http://auto.163.com/buy&quot;&gt;购车&lt;/a&gt;,
 &lt;a href=&quot;http://auto.163.com/depreciate&quot;&gt;行情&lt;/a&gt;,
 &lt;a href=&quot;http://product.auto.163.com/finder&quot;&gt;选车&lt;/a&gt;,
 &lt;a href=&quot;http://product.auto.163.com&quot;&gt;车型库&lt;/a&gt;,
 &lt;a href=&quot;http://auto.163.com/news&quot;&gt;行业&lt;/a&gt;,
 &lt;a href=&quot;http://auto.163.com/chezhu&quot;&gt;用车&lt;/a&gt;,
 &lt;a href=&quot;http://auto.163.com/photo&quot;&gt;汽车图片&lt;/a&gt;,
 &lt;a href=&quot;http://tech.163.com&quot;&gt;科技&lt;/a&gt;,
 &lt;a href=&quot;http://tech.163.com/telecom/&quot;&gt;通信&lt;/a&gt;,
 &lt;a href=&quot;http://tech.163.com/it&quot;&gt;IT&lt;/a&gt;,
 &lt;a href=&quot;http://tech.163.com/internet&quot;&gt;互联网&lt;/a&gt;,
 &lt;a href=&quot;http://tech.163.com/special/ydhlw&quot;&gt;移动互联网&lt;/a&gt;,
 &lt;a href=&quot;http://tech.163.com/special/chzt&quot;&gt;特别策划&lt;/a&gt;,
 &lt;a href=&quot;http://tech.163.com/special/wudaokou&quot;&gt;五道口沙龙&lt;/a&gt;,
 &lt;a href=&quot;http://tech.163.com/special/yyzd&quot;&gt;易语中的&lt;/a&gt;,
 &lt;a href=&quot;http://tech.163.com/special&quot;&gt;专题&lt;/a&gt;,
 &lt;a href=&quot;http://lady.163.com&quot;&gt;女人&lt;/a&gt;,
 &lt;a href=&quot;http://baby.163.com&quot;&gt;亲子&lt;/a&gt;,
 &lt;a href=&quot;http://fashion.163.com/art&quot;&gt;艺术&lt;/a&gt;,
 &lt;a href=&quot;http://fashion.163.com&quot;&gt;时尚&lt;/a&gt;,
 &lt;a href=&quot;http://shoucang.163.com&quot;&gt;收藏&lt;/a&gt;,
 &lt;a href=&quot;http://lady.163.com/sense&quot;&gt;情感&lt;/a&gt;,
 &lt;a href=&quot;http://lady.163.com/astro&quot;&gt;星座&lt;/a&gt;,
 &lt;a href=&quot;http://lady.163.com/beauty&quot;&gt;美容&lt;/a&gt;,
 &lt;a href=&quot;http://cosmetic.lady.163.com/trial&quot;&gt;免费试用&lt;/a&gt;,
 &lt;a href=&quot;http://mobile.163.com&quot;&gt;手机&lt;/a&gt;,
 &lt;a href=&quot;http://digi.163.com/&quot;&gt;数码&lt;/a&gt;,
 &lt;a href=&quot;http://mobile.163.com/mi&quot;&gt;移动&lt;/a&gt;,
 &lt;a href=&quot;http://digi.163.com/pc&quot;&gt;电脑&lt;/a&gt;,
 &lt;a href=&quot;http://product.mobile.163.com&quot;&gt;手机库&lt;/a&gt;,
 &lt;a href=&quot;http://hea.163.com/&quot;&gt;家电&lt;/a&gt;,
 &lt;a href=&quot;http://digi.163.com/smart&quot;&gt;智能硬件&lt;/a&gt;,
 &lt;a href=&quot;http://digi.163.com/dc&quot;&gt;相机&lt;/a&gt;,
 &lt;a href=&quot;http://v.mobile.163.com&quot;&gt;手机视频&lt;/a&gt;,
 &lt;a href=&quot;http://house.163.com&quot;&gt;房产&lt;/a&gt;,
 &lt;a href=&quot;http://home.163.com&quot;&gt;家居&lt;/a&gt;,
 &lt;a href=&quot;http://bj.house.163.com&quot;&gt;北京房产&lt;/a&gt;,
 &lt;a href=&quot;http://sh.house.163.com&quot;&gt;上海房产&lt;/a&gt;,
 &lt;a href=&quot;http://gz.house.163.com&quot;&gt;广州房产&lt;/a&gt;,
 &lt;a href=&quot;http://house.163.com/city&quot;&gt;全部分站&lt;/a&gt;,
 &lt;a href=&quot;http://xf.house.163.com&quot;&gt;楼盘库&lt;/a&gt;,
 &lt;a href=&quot;http://home.163.com/jiaju/&quot;&gt;家具&lt;/a&gt;,
 &lt;a href=&quot;http://home.163.com/weiyu/&quot;&gt;卫浴&lt;/a&gt;,
 &lt;a href=&quot;http://home.163.com/special/jiajuyigui&quot;&gt;衣柜&lt;/a&gt;,
 &lt;a href=&quot;http://travel.163.com&quot;&gt;旅游&lt;/a&gt;,
 &lt;a href=&quot;http://travel.163.com/outdoor&quot;&gt;户外&lt;/a&gt;,
 &lt;a href=&quot;http://guizhou.travel.163.com&quot;&gt;贵州&lt;/a&gt;,
 &lt;a href=&quot;http://travel.163.com/food&quot;&gt;美食&lt;/a&gt;,
 &lt;a href=&quot;http://jingdian.travel.163.com/domestic/1000066937&quot;&gt;四川&lt;/a&gt;,
 &lt;a href=&quot;http://jingdian.travel.163.com&quot;&gt;景点&lt;/a&gt;,
 &lt;a href=&quot;http://jingdian.travel.163.com/domestic/1000066944&quot;&gt;新疆&lt;/a&gt;,
 &lt;a href=&quot;http://travel.163.com/special/travellist/#f=endnav&quot;&gt;专题&lt;/a&gt;,
 &lt;a href=&quot;http://jingdian.travel.163.com/domestic/1000066926/#f=endnav&quot;&gt;西藏&lt;/a&gt;,
 &lt;a href=&quot;http://edu.163.com&quot;&gt;教育&lt;/a&gt;,
 &lt;a href=&quot;http://edu.163.com/yimin&quot;&gt;移民&lt;/a&gt;,
 &lt;a href=&quot;http://edu.163.com/kaoyan&quot;&gt;考研&lt;/a&gt;,
 &lt;a href=&quot;http://edu.163.com/liuxue&quot;&gt;留学&lt;/a&gt;,
 &lt;a href=&quot;http://edu.163.com/special/official&quot;&gt;公务员&lt;/a&gt;,
 &lt;a href=&quot;http://edu.163.com/en&quot;&gt;外语&lt;/a&gt;,
 &lt;a href=&quot;http://kids.163.com&quot;&gt;中小学&lt;/a&gt;,
 &lt;a href=&quot;http://edu.163.com/gaokao&quot;&gt;高考&lt;/a&gt;,
 &lt;a href=&quot;http://daxue.163.com&quot;&gt;校园&lt;/a&gt;,
 &lt;a href=&quot;http://sitemap.163.com/&quot;&gt;&lt;i&gt;&lt;/i&gt;查看网易地图&lt;/a&gt;,
 &lt;a class=&quot;ntes-nav-login-title&quot; href=&quot;http://reg.163.com/&quot; id=&quot;js_N_nav_login_title&quot;&gt;登录&lt;/a&gt;,
 &lt;a class=&quot;ntes-nav-select-title ntes-nav-select-title-register&quot; href=&quot;http://reg.email.163.com/mailregAll/reg0.jsp?from=163navi&amp;amp;regPage=163&quot;&gt;注册免费邮箱
                 &lt;em class=&quot;ntes-nav-select-arr&quot;&gt;&lt;/em&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;http://reg.vip.163.com/register.m?from=topnav&quot;&gt;
 &lt;span style=&quot;width:190px;&quot;&gt;注册VIP邮箱（特权邮箱，付费）&lt;/span&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;http://mail.163.com/client/dl.html?from=mail46&quot;&gt;
 &lt;span style=&quot;width:190px;&quot;&gt;免费下载网易官方手机邮箱应用&lt;/span&gt;
 &lt;/a&gt;,
 &lt;a class=&quot;ntes-nav-entry-wide c-fl&quot; id=&quot;js_N_navLogout&quot; target=&quot;_self&quot;&gt;安全退出&lt;/a&gt;,
 &lt;a class=&quot;ntes-nav-mobile-title ntes-nav-entry-bgblack&quot; href=&quot;http://www.163.com/newsapp/#f=163nav&quot;&gt;
 &lt;em class=&quot;ntes-nav-entry-mobile&quot;&gt;移动端&lt;/em&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;http://www.163.com/newsapp/#f=163nav&quot;&gt;
 &lt;img src=&quot;//static.ws.126.net/f2e/include/common_nav/images/topapp.jpg&quot;/&gt;
 &lt;/a&gt;,
 &lt;a class=&quot;ntes-nav-select-title ntes-nav-select-title-huatian ntes-nav-entry-bgblack&quot; href=&quot;https://open.163.com/&quot; id=&quot;js_love_url&quot;&gt;
 &lt;em class=&quot;ntes-nav-entry-huatian&quot;&gt;网易公开课&lt;/em&gt;
 &lt;em class=&quot;ntes-nav-select-arr&quot;&gt;&lt;/em&gt;
 &lt;span class=&quot;ntes-nav-msg&quot;&gt;
 &lt;em class=&quot;ntes-nav-msg-num&quot;&gt;&lt;/em&gt;
 &lt;/span&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;https://vip.open.163.com&quot;&gt;
 &lt;span&gt;付费精品&lt;/span&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;https://open.163.com/ted/&quot;&gt;
 &lt;span&gt;TED&lt;/span&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;https://open.163.com/ocw/&quot;&gt;
 &lt;span&gt;国际名校公开课&lt;/span&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;http://open.163.com/cuvocw/&quot;&gt;
 &lt;span&gt;中国大学视频公开课&lt;/span&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;https://open.163.com/appreciation&quot;&gt;
 &lt;span&gt;赏课&lt;/span&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;https://open.163.com/khan/&quot;&gt;
 &lt;span&gt;可汗学院&lt;/span&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;http://open.163.com/special/appdownload_pc/&quot;&gt;
 &lt;span&gt;下载公开课&lt;/span&gt;
 &lt;/a&gt;,
 &lt;a class=&quot;ntes-nav-select-title ntes-nav-select-title-kaola ntes-nav-entry-bgblack&quot; href=&quot;http://da.kaola.com/redirect?t=5aaebece48792c00&amp;amp;p=c901ea7c&amp;amp;proId=1024&amp;amp;code=d638f275b1755320e845734e53e897ee&amp;amp;target=https%3A%2F%2Fpages.kaola.com%2Fpages%2Factivity%2Fjfccri80pages1.shtml%3Ftag%3Dbe3d8d027a530881037ef01d304eb505&quot; id=&quot;js_kaola_url&quot;&gt;
 &lt;em class=&quot;ntes-nav-entry-kaola&quot;&gt;网易考拉&lt;/em&gt;
 &lt;em class=&quot;ntes-nav-select-arr&quot;&gt;&lt;/em&gt;
 &lt;span class=&quot;ntes-nav-msg ntes-nav-kaola-msg&quot; id=&quot;js_N_navKaolaMsg&quot;&gt;
 &lt;em class=&quot;ntes-nav-msg-num&quot;&gt;&lt;/em&gt;
 &lt;/span&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;http://da.kaola.com/redirect?t=5aaebece48f92c00&amp;amp;p=c901ea7c&amp;amp;proId=1024&amp;amp;code=b3e224752b2cad85e9831e8c6cf7fbbd&amp;amp;target=https%3A%2F%2Fpages.kaola.com%2Fpages%2Factivity%2Fbimaibangdan.shtml%3Ftag%3Dbe3d8d027a530881037ef01d304eb505&quot;&gt;
 &lt;span&gt;1000元新人大礼包&lt;/span&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;http://da.kaola.com/redirect?t=5aaebece49392c00&amp;amp;p=c901ea7c&amp;amp;proId=1024&amp;amp;code=fd8e43f4a20a26fbe60f7e7de1f17efe&amp;amp;target=https%3A%2F%2Fpages.kaola.com%2Fpages%2Factivity%2Fjfccri80pages1.shtml%3Ftag%3Dbe3d8d027a530881037ef01d304eb505&quot;&gt;
 &lt;span&gt;新人专享进口好货&lt;/span&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;http://da.kaola.com/redirect?t=5aaebece49392c01&amp;amp;p=c901ea7c&amp;amp;proId=1024&amp;amp;code=21bcd5b595fc235cfd11e3e1cff14177&amp;amp;target=https%3A%2F%2Factivity.kaola.com%2Factivity%2FflashSaleIndex%2Fshow.html%3Ftag%3Dbe3d8d027a530881037ef01d304eb505&quot;&gt;
 &lt;span&gt;今日限时抢购&lt;/span&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;http://da.kaola.com/redirect?t=5aaebece49792c00&amp;amp;p=c901ea7c&amp;amp;proId=1024&amp;amp;code=ecc40777cb2d68a3d9fb078b232f081d&amp;amp;target=https%3A%2F%2Fpages.kaola.com%2Fpages%2Factivity%2Fjfyrzolcpagerz.shtml%3Ftag%3Dbe3d8d027a530881037ef01d304eb505&quot;&gt;
 &lt;span&gt;营养保健&lt;/span&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;http://da.kaola.com/redirect?t=5aaebece49b92c00&amp;amp;p=c901ea7c&amp;amp;proId=1024&amp;amp;code=0cdd5a920c768340ffc12eccd659341d&amp;amp;target=https%3A%2F%2Fpages.kaola.com%2Fpages%2Factivity%2Fnewpc.shtml%3Ftag%3Dbe3d8d027a530881037ef01d304eb505&quot;&gt;
 &lt;span&gt;个人洗护&lt;/span&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;http://da.kaola.com/redirect?t=5aaebece4a392c00&amp;amp;p=c901ea7c&amp;amp;proId=1024&amp;amp;code=ee49a3a793f22e648ac616f5dab061dd&amp;amp;target=https%3A%2F%2Fpages.kaola.com%2Fpages%2Factivity%2Fjpwmb9zcpagesl.shtml%3Ftag%3Dbe3d8d027a530881037ef01d304eb505&quot;&gt;
 &lt;span&gt;美容彩妆&lt;/span&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;http://da.kaola.com/redirect?t=5aaebece4a792c00&amp;amp;p=c901ea7c&amp;amp;proId=1024&amp;amp;code=6eb2598fd20963efc203a4e3fe88f4e2&amp;amp;target=https%3A%2F%2Fpages.kaola.com%2Fpages%2Factivity%2Fmyxrq.shtml%3Ftag%3Dbe3d8d027a530881037ef01d304eb505&quot;&gt;
 &lt;span&gt;母婴儿童&lt;/span&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;http://da.kaola.com/redirect?t=5aaebece4ab92c00&amp;amp;p=c901ea7c&amp;amp;proId=1024&amp;amp;code=3946ce460ba655c11afac69855dfc02b&amp;amp;target=https%3A%2F%2Fpages.kaola.com%2Fpages%2Factivity%2Ffoodnewcustomers.shtml%3Ftag%3Dbe3d8d027a530881037ef01d304eb505&quot;&gt;
 &lt;span&gt;环球美食&lt;/span&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;http://da.kaola.com/redirect?t=5aaebece4af92c00&amp;amp;p=c901ea7c&amp;amp;proId=1024&amp;amp;code=2eee7290051863737a434d44f3c0d46f&amp;amp;target=https%3A%2F%2Fpages.kaola.com%2Fpages%2Factivity%2Fnewtalent.shtml%3Ftag%3Dbe3d8d027a530881037ef01d304eb505&quot;&gt;
 &lt;span&gt;家居生活&lt;/span&gt;
 &lt;/a&gt;,
 &lt;a class=&quot;ntes-nav-select-title ntes-nav-select-title-lofter ntes-nav-entry-bgblack&quot; href=&quot;http://you.163.com/?from=web_fc_menhu_xinrukou_1&quot; id=&quot;js_lofter_icon_url&quot;&gt;
 &lt;em class=&quot;ntes-nav-entry-lofter&quot;&gt;网易严选&lt;/em&gt;
 &lt;em class=&quot;ntes-nav-select-arr&quot;&gt;&lt;/em&gt;
 &lt;span class=&quot;ntes-nav-msg&quot; id=&quot;js_N_navLofterMsg&quot;&gt;
 &lt;em class=&quot;ntes-nav-msg-num&quot;&gt;&lt;/em&gt;
 &lt;/span&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;http://you.163.com/act/static/Fb2d1OZ714.html?from=web_fc_menhu_xinrukou_1&quot;&gt;
 &lt;span&gt;888元现金券&lt;/span&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;http://you.163.com/manufacturer/list?from=web_fc_menhu_xinrukou_3&quot;&gt;
 &lt;span&gt;品牌制造商爆款&lt;/span&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;http://you.163.com/item/recommend?from=web_fc_menhu_xinrukou_4&quot;&gt;
 &lt;span&gt;999+人气好评品&lt;/span&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;http://you.163.com/flashSale/index?from=web_fc_menhu_xinrukou_5&quot;&gt;
 &lt;span&gt;限时特惠&lt;/span&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;http://you.163.com/item/list?categoryId=1005000&amp;amp;from=web_fc_menhu_xinrukou_7&quot;&gt;
 &lt;span&gt;居家床品&lt;/span&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;http://you.163.com/item/list?categoryId=1005001&amp;amp;from=web_fc_menhu_xinrukou_8&quot;&gt;
 &lt;span&gt;精致餐厨&lt;/span&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;http://you.163.com/item/list?categoryId=1008000&amp;amp;from=web_fc_menhu_xinrukou_9&quot;&gt;
 &lt;span&gt;箱包鞋类&lt;/span&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;http://you.163.com/item/list?categoryId=1010000&amp;amp;from=web_fc_menhu_xinrukou_10&quot;&gt;
 &lt;span&gt;经典服饰&lt;/span&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;http://you.163.com/item/list?categoryId=1005002&amp;amp;from=web_fc_menhu_xinrukou_11&quot;&gt;
 &lt;span&gt;健康美食&lt;/span&gt;
 &lt;/a&gt;,
 &lt;a class=&quot;ntes-nav-select-title ntes-nav-select-title-money ntes-nav-entry-bgblack&quot; href=&quot;http://pay.163.com/&quot;&gt;
 &lt;em class=&quot;ntes-nav-entry-money&quot;&gt;支付&lt;/em&gt;
 &lt;em class=&quot;ntes-nav-select-arr&quot;&gt;&lt;/em&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;http://pay.163.com/#f=topnav&quot;&gt;
 &lt;span&gt;一卡通充值&lt;/span&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;http://ecard.163.com/script/index#f=topnav&quot;&gt;
 &lt;span&gt;一卡通购买&lt;/span&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;https://k.163.com/?product=163&amp;amp;trackid=01&quot;&gt;
 &lt;span&gt;网易白金卡&lt;/span&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;https://epay.163.com/&quot;&gt;
 &lt;span&gt;我的网易支付&lt;/span&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;https://3c.163.com/?from=wangyimenhu16&quot;&gt;
 &lt;span&gt;网易智造&lt;/span&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;http://lq.163.com?from=neteasemoney&quot;&gt;
 &lt;span&gt;网易来钱-借现金&lt;/span&gt;
 &lt;/a&gt;,
 &lt;a class=&quot;ntes-nav-select-title ntes-nav-select-title-cart ntes-nav-entry-bgblack&quot; href=&quot;http://baoxian.163.com/car/?from=mhgwc&quot;&gt;
 &lt;em class=&quot;ntes-nav-entry-cart&quot;&gt;电商&lt;/em&gt;
 &lt;em class=&quot;ntes-nav-select-arr&quot;&gt;&lt;/em&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;http://you.163.com?from=web_in_wydaohang&quot;&gt;
 &lt;span&gt;严选&lt;/span&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;http://lq.163.com?from=neteasebuy&quot;&gt;
 &lt;span&gt;我要借钱&lt;/span&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;http://da.kaola.com/redirect?t=5aaebece4b392c00&amp;amp;p=c901ea7c&amp;amp;proId=1024&amp;amp;code=d15f8f9d72ccc507aeefda91b43c0cd2&amp;amp;target=https%3A%2F%2Fpages.kaola.com%2Fpages%2Factivity%2Fjfccri80pages1.shtml%3Ftag%3Dbe3d8d027a530881037ef01d304eb505&quot;&gt;
 &lt;span&gt;网易考拉&lt;/span&gt;
 &lt;/a&gt;,
 &lt;a class=&quot;ntes-nav-select-title ntes-nav-select-title-mail ntes-nav-entry-bgblack&quot; id=&quot;js_mail_url&quot;&gt;
 &lt;em class=&quot;ntes-nav-entry-mail&quot;&gt;邮箱&lt;/em&gt;
 &lt;em class=&quot;ntes-nav-select-arr&quot;&gt;&lt;/em&gt;
 &lt;span class=&quot;ntes-nav-msg&quot; id=&quot;js_N_navMailMsg&quot;&gt;
 &lt;em class=&quot;ntes-nav-msg-num&quot; id=&quot;js_N_navMailMsgNum&quot;&gt;&lt;/em&gt;
 &lt;/span&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;http://email.163.com/#f=topnav&quot;&gt;
 &lt;span&gt;免费邮箱&lt;/span&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;http://vipmail.163.com/#f=topnav&quot;&gt;
 &lt;span&gt;VIP邮箱&lt;/span&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;http://qiye.163.com/#f=topnav&quot;&gt;
 &lt;span&gt;企业邮箱&lt;/span&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;http://reg.email.163.com/mailregAll/reg0.jsp?from=ntes_nav&amp;amp;regPage=163&quot;&gt;
 &lt;span&gt;免费注册&lt;/span&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;http://reg.email.163.com/unireg/call.do?cmd=register.entrance&amp;amp;flow=mobile&amp;amp;from=ntes_nav&quot;&gt;
 &lt;span&gt;快速注册&lt;/span&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;http://mail.163.com/dashi/dlpro.html?from=mail46&quot;&gt;
 &lt;span&gt;客户端下载&lt;/span&gt;
 &lt;/a&gt;,
 &lt;a class=&quot;first&quot; href=&quot;https://news.163.com/&quot;&gt;新闻&lt;/a&gt;,
 &lt;a href=&quot;http://sports.163.com/&quot;&gt;体育&lt;/a&gt;,
 &lt;a href=&quot;http://sports.163.com/nba/&quot;&gt;NBA&lt;/a&gt;,
 &lt;a href=&quot;http://ent.163.com/&quot;&gt;娱乐&lt;/a&gt;,
 &lt;a href=&quot;http://money.163.com/&quot;&gt;财经&lt;/a&gt;,
 &lt;a href=&quot;http://money.163.com/stock/&quot;&gt;股票&lt;/a&gt;,
 &lt;a href=&quot;http://auto.163.com/&quot; id=&quot;_link_auto&quot;&gt;汽车&lt;/a&gt;,
 &lt;a href=&quot;http://tech.163.com/&quot;&gt;科技&lt;/a&gt;,
 &lt;a href=&quot;http://mobile.163.com/&quot;&gt;手机&lt;/a&gt;,
 &lt;a href=&quot;http://digi.163.com/&quot;&gt;数码&lt;/a&gt;,
 &lt;a href=&quot;http://lady.163.com/&quot;&gt;女人&lt;/a&gt;,
 &lt;a href=&quot;http://v.163.com/&quot;&gt;直播&lt;/a&gt;,
 &lt;a href=&quot;http://v.163.com/special/video/#tuijian&quot;&gt;视频&lt;/a&gt;,
 &lt;a href=&quot;http://travel.163.com/&quot;&gt;旅游&lt;/a&gt;,
 &lt;a href=&quot;http://house.163.com/&quot; id=&quot;houseUrl&quot;&gt;房产&lt;/a&gt;,
 &lt;a href=&quot;http://home.163.com/&quot; id=&quot;homeUrl&quot;&gt;家居&lt;/a&gt;,
 &lt;a href=&quot;http://edu.163.com/&quot;&gt;教育&lt;/a&gt;,
 &lt;a href=&quot;http://book.163.com/&quot;&gt;读书&lt;/a&gt;,
 &lt;a href=&quot;https://news.163.com/&quot; id=&quot;_link_game&quot;&gt;本地&lt;/a&gt;,
 &lt;a href=&quot;http://jiankang.163.com/&quot;&gt;健康&lt;/a&gt;,
 &lt;a href=&quot;http://rd.da.netease.com/redirect?t=5802fb18cf033c80&amp;amp;p=e17af55c&amp;amp;proId=1024&amp;amp;target=https%3A%2F%2Fwww.kaola.com%2F%3Ftag%3Dbe3d8d027a530881037ef01d304eb505&quot;&gt;海淘&lt;/a&gt;,
 &lt;a class=&quot;last&quot; href=&quot;http://art.163.com/&quot;&gt;艺术&lt;/a&gt;,
 &lt;a class=&quot;channel2019_logo channel2019_news_logo&quot; href=&quot;https://news.163.com/&quot;&gt;网易新闻有态度&lt;/a&gt;,
 &lt;a href=&quot;http://news.163.com/weather/&quot;&gt;
 &lt;script ne-repeat=&quot;weather in weatherInfo&quot; type=&quot;text/template&quot;&gt;
                 &lt;img class=&quot;ns-weather-icon&quot; ne-src=&quot;http://static.ws.126.net/f2e/news/index2015/img/weather/&lt;%=weather.icon%&gt;&quot;&gt;
                 &lt;div class=&quot;ns-weather-text&quot;&gt;&lt;%=weather.weather%&gt;&lt;/div&gt;
                 &lt;div class=&quot;ns-weather-info&quot;&gt;&lt;%=weather.temp2%&gt;°~&lt;%=weather.temp1%&gt;°&lt;/div&gt;
                 &lt;div class=&quot;ns-weather-city&quot;&gt;&lt;%=weather.city%&gt;&lt;/div&gt;
             &lt;/script&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;http://www.163.com/&quot;&gt;首页&lt;/a&gt;,
 &lt;a href=&quot;http://news.163.com/rank/&quot;&gt;排行&lt;/a&gt;,
 &lt;a href=&quot;http://news.163.com/photo/#Current&quot;&gt;图片&lt;/a&gt;,
 &lt;a href=&quot;http://news.163.com/domestic/&quot;&gt;国内&lt;/a&gt;,
 &lt;a href=&quot;http://news.163.com/world/&quot;&gt;国际&lt;/a&gt;,
 &lt;a href=&quot;http://data.163.com/special/datablog/&quot;&gt;数读&lt;/a&gt;,
 &lt;a href=&quot;http://war.163.com/&quot;&gt;军事&lt;/a&gt;,
 &lt;a href=&quot;http://news.163.com/air/&quot;&gt;航空&lt;/a&gt;,
 &lt;a href=&quot;http://news.163.com/uav/&quot;&gt;无人机&lt;/a&gt;,
 &lt;a href=&quot;http://news.163.com/college&quot;&gt;新闻学院&lt;/a&gt;,
 &lt;a href=&quot;http://gov.163.com/&quot;&gt;政务&lt;/a&gt;,
 &lt;a href=&quot;http://gongyi.163.com/&quot;&gt;公益&lt;/a&gt;,
 &lt;a href=&quot;http://media.163.com/&quot;&gt;媒体&lt;/a&gt;,
 &lt;a href=&quot;http://news.163.com/special/wangsansanhome/&quot;&gt;王三三&lt;/a&gt;,
 &lt;a class=&quot;tags tag_sd&quot; href=&quot;http://data.163.com/special/datablog/&quot;&gt;数读&lt;/a&gt;,
 &lt;a class=&quot;detail&quot; href=&quot;http://data.163.com/19/0626/14/EIJQJG9L000181IU.html&quot; ne-role=&quot;detail&quot;&gt;
 &lt;h3&gt;
                                 中国哪里的地铁最拥挤？
                             &lt;/h3&gt;
 &lt;div class=&quot;photo&quot;&gt;
 &lt;img alt=&quot;中国哪里的地铁最拥挤？&quot; height=&quot;90&quot; src=&quot;https://cms-bucket.ws.126.net/2019/06/26/30e8760df3044e29a18fac3514dd22b1.jpeg?imageView&amp;amp;thumbnail=200y90&quot; width=&quot;200&quot;/&gt;
 &lt;/div&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;http://data.163.com/19/0625/11/EIH0CQEK00019GOE.html&quot;&gt;娶一个潮汕老婆到底是什么体验&lt;/a&gt;,
 &lt;a href=&quot;http://data.163.com/19/0621/17/EI7BLS3600019GOE.html&quot;&gt;不瞒你说，成都早餐好吃到爆&lt;/a&gt;,
 &lt;a class=&quot;tags tag_rj&quot; href=&quot;http://renjian.163.com/&quot;&gt;人间&lt;/a&gt;,
 &lt;a class=&quot;detail&quot; href=&quot;http://renjian.163.com/19/0628/14/EIP21K41000181RV.html&quot; ne-role=&quot;detail&quot;&gt;
 &lt;h3&gt;
                                 小白作者的变现之路
                             &lt;/h3&gt;
 &lt;div class=&quot;photo&quot;&gt;
 &lt;img alt=&quot;小白作者的变现之路&quot; height=&quot;90&quot; src=&quot;https://cms-bucket.ws.126.net/2019/06/28/27f33fcbfcec4b42b6837807b7a0883f.jpeg?imageView&amp;amp;thumbnail=200y90&quot; width=&quot;200&quot;/&gt;
 &lt;/div&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;http://renjian.163.com/19/0627/16/EIML2HJO000181RV.html&quot;&gt;被毒虫男友拖下水的女大学生&lt;/a&gt;,
 &lt;a href=&quot;http://renjian.163.com/19/0626/13/EIJPJMCH000181RV.html&quot;&gt;领导，求你让我加班吧&lt;/a&gt;,
 &lt;a class=&quot;detail&quot; href=&quot;http://renjian.163.com/19/0624/14/EIEOBNCB000181RK.html&quot; ne-role=&quot;detail&quot;&gt;
 &lt;h3&gt;
                                 当不了官发不了财的读书人
                             &lt;/h3&gt;
 &lt;div class=&quot;photo&quot;&gt;
 &lt;img alt=&quot;当不了官发不了财的读书人&quot; height=&quot;90&quot; src=&quot;https://cms-bucket.ws.126.net/2019/06/24/b77e119ffeca477fa4bd2144b1fcb86c.jpeg?imageView&amp;amp;thumbnail=200y90&quot; width=&quot;200&quot;/&gt;
 &lt;/div&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;http://renjian.163.com/19/0620/16/EI4JRNO7000181RK.html&quot;&gt;四个博士，一地鸡毛&lt;/a&gt;,
 &lt;a href=&quot;http://renjian.163.com/19/0618/12/EHV0QRVG000181RK.html&quot;&gt;医闹得逞后，伤害的到底是谁&lt;/a&gt;,
 &lt;a class=&quot;detail&quot; href=&quot;https://news.163.com/19/0627/11/EIM57O490001885B.html&quot; ne-role=&quot;detail&quot;&gt;
 &lt;h3&gt;
                                 据说99%的人在图书馆一定会碰上......
                             &lt;/h3&gt;
 &lt;div class=&quot;photo&quot;&gt;
 &lt;img alt=&quot;据说99%的人在图书馆一定会碰上......&quot; height=&quot;90&quot; src=&quot;https://cms-bucket.ws.126.net/2019/06/27/06eb8f4a3d4647bf9360ff5e71f003b8.png?imageView&amp;amp;thumbnail=200y90&quot; width=&quot;200&quot;/&gt;
 &lt;/div&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;https://news.163.com/19/0626/15/EIK0IJT40001885B.html&quot;&gt;我可能，得了种，前任病&lt;/a&gt;,
 &lt;a href=&quot;https://news.163.com/19/0617/09/EHS57H4L0001885B.html&quot;&gt;那些KO不掉我的,最终成了我的OK&lt;/a&gt;,
 &lt;a class=&quot;detail&quot; href=&quot;https://news.163.com/19/0628/11/EIOL94760001885B.html&quot; ne-role=&quot;detail&quot;&gt;
 &lt;h3&gt;
                                 直男幼稚行为大赏
                             &lt;/h3&gt;
 &lt;div class=&quot;photo&quot;&gt;
 &lt;img alt=&quot;直男幼稚行为大赏&quot; height=&quot;90&quot; src=&quot;https://cms-bucket.ws.126.net/2019/06/28/0b3890cd2f4b473fa0127b5e33ae6ccf.png?imageView&amp;amp;thumbnail=200y90&quot; width=&quot;200&quot;/&gt;
 &lt;/div&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;https://news.163.com/19/0624/12/EIEFGMVL0001885B.html&quot;&gt;打个赌，爱情友情你分不清楚&lt;/a&gt;,
 &lt;a href=&quot;https://news.163.com/19/0621/12/EI6NKDTU0001885B.html&quot;&gt;不会唱歌的人进 KTV 以后有多惨&lt;/a&gt;,
 &lt;a class=&quot;detail&quot; href=&quot;https://news.163.com/19/0628/19/EIPIQT4O000181BR.html&quot; ne-role=&quot;detail&quot;&gt;
 &lt;h3&gt;
                                 彩票一直都不中，我却忍不住要买
                             &lt;/h3&gt;
 &lt;div class=&quot;photo&quot;&gt;
 &lt;img alt=&quot;彩票一直都不中，我却忍不住要买&quot; height=&quot;90&quot; src=&quot;https://cms-bucket.ws.126.net/2019/06/28/f44265c5b4ef4a11a99eedbde7c49833.png?imageView&amp;amp;thumbnail=200y90&quot; width=&quot;200&quot;/&gt;
 &lt;/div&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;https://news.163.com/19/0627/17/EIMPGJAU000181BR.html&quot;&gt;原来&quot;神仙眷侣&quot;离婚,也是一地鸡毛&lt;/a&gt;,
 &lt;a href=&quot;https://news.163.com/19/0626/18/EIK95RV0000181BR.html&quot;&gt;我宣布，北大清华这对CP锁死了！&lt;/a&gt;,
 &lt;a class=&quot;detail&quot; href=&quot;http://caozhi.news.163.com/19/0623/22/EID0CBIH000181TI.html&quot; ne-role=&quot;detail&quot;&gt;
 &lt;h3&gt;
                                 佟丽娅，这次你赢了
                             &lt;/h3&gt;
 &lt;div class=&quot;photo&quot;&gt;
 &lt;img alt=&quot;佟丽娅，这次你赢了&quot; height=&quot;90&quot; src=&quot;https://cms-bucket.ws.126.net/2019/06/23/67d24242d479451ea705e26296187f78.jpeg?imageView&amp;amp;thumbnail=200y90&quot; width=&quot;200&quot;/&gt;
 &lt;/div&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;http://caozhi.news.163.com/19/0623/15/EIC9LGSP000181TI.html&quot;&gt;千万别在深夜点开这神作&lt;/a&gt;,
 &lt;a href=&quot;http://caozhi.news.163.com/19/0618/19/EHVRID7G000181TI.html&quot;&gt;那个发“嗯”的人，已被踢出群聊&lt;/a&gt;,
 &lt;a class=&quot;detail&quot; href=&quot;https://news.163.com/19/0628/17/EIPCOKEA0001982T.html&quot; ne-role=&quot;detail&quot;&gt;
 &lt;h3&gt;
                                 王宝强母亲去世：来日方长是人生的错觉
                             &lt;/h3&gt;
 &lt;div class=&quot;photo&quot;&gt;
 &lt;img alt=&quot;王宝强母亲去世：来日方长是人生的错觉&quot; height=&quot;90&quot; src=&quot;https://cms-bucket.ws.126.net/2019/06/28/ecd0de8b8dc0402da72d814bde76f06e.jpeg?imageView&amp;amp;thumbnail=200y90&quot; width=&quot;200&quot;/&gt;
 &lt;/div&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;https://news.163.com/19/0627/13/EIMC0EDH0001982T.html&quot;&gt;宋仲基宋慧乔离婚：再美的爱情也会过期&lt;/a&gt;,
 &lt;a href=&quot;https://news.163.com/19/0626/17/EIK6AD550001982T.html&quot;&gt;杨紫冰箱藏药，戳穿最怂瞬间&lt;/a&gt;,
 &lt;a class=&quot;tags tag_kanke&quot; href=&quot;http://renjian.163.com/special/renjian_kanke/&quot;&gt;看客&lt;/a&gt;,
 &lt;a class=&quot;detail&quot; href=&quot;http://renjian.163.com/19/0628/11/EIOMK185000199ET.html&quot; ne-role=&quot;detail&quot;&gt;
 &lt;h3&gt;
                                 我奶茶都戒了，日本人才知道它的好
                             &lt;/h3&gt;
 &lt;div class=&quot;photo&quot;&gt;
 &lt;img alt=&quot;我奶茶都戒了，日本人才知道它的好&quot; height=&quot;90&quot; src=&quot;https://cms-bucket.ws.126.net/2019/06/28/f35eceb8d111496693e8f77a71a49cba.png?imageView&amp;amp;thumbnail=200y90&quot; width=&quot;200&quot;/&gt;
 &lt;/div&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;http://renjian.163.com/19/0620/11/EI43PM8Q000199ET.html&quot;&gt;美国堕胎残酷物语&lt;/a&gt;,
 &lt;a href=&quot;http://renjian.163.com/19/0613/11/EHI39FML000199ET.html&quot;&gt;跑腿小哥提供的十万种服务&lt;/a&gt;,
 &lt;a class=&quot;tags tag_stpwd&quot; href=&quot;http://jiankang.163.com/special/zhutierji/?type=3&quot;&gt;身体密码&lt;/a&gt;,
 &lt;a class=&quot;detail&quot; href=&quot;https://jiankang.163.com/19/0625/11/EIH061CM0038804G.html&quot; ne-role=&quot;detail&quot;&gt;
 &lt;h3&gt;
                                 防晒，99%的人都做错了……
                             &lt;/h3&gt;
 &lt;div class=&quot;photo&quot;&gt;
 &lt;img alt=&quot;防晒，99%的人都做错了……&quot; height=&quot;90&quot; src=&quot;https://cms-bucket.ws.126.net/2019/06/25/f260b6843fca4702bb5e4e316600f113.png?imageView&amp;amp;thumbnail=200y90&quot; width=&quot;200&quot;/&gt;
 &lt;/div&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;https://jiankang.163.com/19/0617/14/EHSN7PPV0038804G.html&quot;&gt;当代人减肥：迈不过25岁这道坎&lt;/a&gt;,
 &lt;a href=&quot;https://jiankang.163.com/19/0608/15/EH5J9IGA00388AD5.html&quot;&gt;多年后 无数中年人仍会被高考吓醒&lt;/a&gt;,
 &lt;a href=&quot;https://news.163.com/19/0628/16/EIP8R4SV000189FH.html&quot;&gt;央视独家：习近平会见日本首相&lt;/a&gt;,
 &lt;a href=&quot;https://news.163.com/19/0628/16/EIP8N52U0001875N.html&quot;&gt;外交部回应中美元首会面&lt;/a&gt;,
 &lt;a href=&quot;https://news.163.com/19/0628/14/EIOVIP2500018AP1.html&quot; target=&quot;_blank&quot;&gt;特朗普会见普京 笑称:不要干预美国大选哦&lt;/a&gt;,
 &lt;a href=&quot;https://news.163.com/19/0628/16/EIP7KOH70001875P.html&quot;&gt;住建部:加快垃圾分类处理设施建设&lt;/a&gt;,
 &lt;a href=&quot;https://news.163.com/19/0628/16/EIP8F9QQ0001875P.html&quot; target=&quot;_blank&quot;&gt;袁仁国被公诉:受贿数额特别巨大&lt;/a&gt;,
 &lt;a href=&quot;https://news.163.com/19/0628/13/EIOSPGLJ0001899O.html&quot;&gt;湖南耒阳人大常委会原主任携子主动投案&lt;/a&gt;,
 &lt;a href=&quot;https://news.163.com/19/0628/13/EIOUHOB70001875P.html&quot; target=&quot;_blank&quot;&gt;美的48小时内被骗10亿资金&lt;/a&gt;,
 &lt;a href=&quot;https://news.163.com/19/0628/19/EIPH3F1V0001875P.html&quot;&gt;垃圾分类逼疯上海人？别笑！马上轮到这46个城市&lt;/a&gt;,
 &lt;a href=&quot;https://news.163.com/19/0628/19/EIPILCJ70001875P.html&quot;&gt;女子酒后澡堂一打六被刑拘&lt;/a&gt;,
 &lt;a href=&quot;https://news.163.com/19/0628/18/EIPFI0KN0001875P.html&quot; target=&quot;_blank&quot;&gt;杀人案嫌犯向警察开枪拒捕 被当场击毙&lt;/a&gt;,
 &lt;a href=&quot;https://news.163.com/19/0628/16/EIP8RHM70001875P.html&quot;&gt;95后飙摩托车追高铁发抖音被刑拘&lt;/a&gt;,
 &lt;a href=&quot;https://news.163.com/19/0628/16/EIP7B7RP0001899O.html&quot; target=&quot;_blank&quot;&gt;母亲担心儿子粗心在其手背&quot;刺&quot;字&lt;/a&gt;,
 &lt;a href=&quot;https://news.163.com/19/0628/15/EIP4Q6BQ0001899O.html&quot;&gt;女子高铁上劝老人看好小孩被骂&lt;/a&gt;,
 &lt;a href=&quot;https://news.163.com/19/0628/16/EIP8QO5Q0001875P.html&quot; target=&quot;_blank&quot;&gt;南京杀妻案死者姑妈：侄女生前要强&lt;/a&gt;,
 &lt;a class=&quot;ad_hover_href&quot; href=&quot;http://gb.corp.163.com/gb/legal.html&quot;&gt;&lt;/a&gt;,
 &lt;a href=&quot;http://news.163.com/16/0721/19/BSH7V8QF00014JB6.html&quot;&gt;辽宁遭暴雨侵袭致城市内涝 紧急转移12万人&lt;/a&gt;,
 &lt;a href=&quot;http://news.163.com/16/0721/10/BSG7HOH20001124J.html&quot;&gt;民政部:北方暴雨75人死亡失踪&lt;/a&gt;,
 &lt;a href=&quot;http://news.163.com/16/0721/12/BSGG5VK300011229.html&quot; target=&quot;_blank&quot;&gt;北京发生山洪灾害 铲车翻倒4人被困&lt;/a&gt;,
 &lt;a href=&quot;http://news.163.com/16/0721/12/BSGHHVLK00011229.html&quot;&gt;搜救犬水灾救援22天殉职 主人:它太累了&lt;/a&gt;,
 &lt;a href=&quot;http://news.163.com/16/0721/07/BSFUFFP800014AED.html&quot; target=&quot;_blank&quot;&gt;姐妹被洪水卷走警方拒立案&lt;/a&gt;,
 &lt;a href=&quot;http://news.163.com/photoview/00AN0001/2189402.html?from=ph_ss#p=BSG716GE00AN0001&quot;&gt;
 &lt;img height=&quot;120&quot; src=&quot;http://img3.cache.netease.com/news/2016/7/21/20160721131401d35e2.jpg&quot; width=&quot;190&quot;/&gt;
 &lt;span class=&quot;bg&quot;&gt;&lt;/span&gt;
 &lt;h3&gt;河南遇强降雨 9.8万人转移&lt;/h3&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;http://news.163.com/photoview/00AP0001/2189377.html?from=ph_ss#p=BSFTQ99H00AP0001&quot;&gt;
 &lt;img height=&quot;120&quot; src=&quot;http://img3.cache.netease.com/news/2016/7/21/201607211319466e84e.jpg&quot; width=&quot;190&quot;/&gt;
 &lt;span class=&quot;bg&quot;&gt;&lt;/span&gt;
 &lt;h3&gt;女主播直播暴雨 浑身湿透&lt;/h3&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;http://news.163.com/photoview/00AP0001/2189389.html?from=ph_ss#p=BSG1S9AM00AP0001&quot;&gt;
 &lt;img height=&quot;120&quot; src=&quot;http://img5.cache.netease.com/news/2016/7/21/20160721132119ef59b.jpg&quot; width=&quot;190&quot;/&gt;
 &lt;span class=&quot;bg&quot;&gt;&lt;/span&gt;
 &lt;h3&gt;湖北民众省道上趟水摸鱼&lt;/h3&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;https://open.163.com/&quot;&gt;网易公开课&lt;/a&gt;,
 &lt;a class=&quot;focus_prev&quot; ne-role=&quot;slide-prev&quot;&gt;&lt;/a&gt;,
 &lt;a class=&quot;focus_next&quot; ne-role=&quot;slide-next&quot;&gt;&lt;/a&gt;,
 &lt;a class=&quot;nav_name no_cursor&quot; href=&quot;javascript:;&quot; ne-role=&quot;tab-nav&quot; target=&quot;_self&quot;&gt;
                     要闻
                     &lt;span class=&quot;nav_item_ink&quot;&gt;&lt;/span&gt;
 &lt;/a&gt;,
 &lt;a class=&quot;nav_name no_cursor&quot; href=&quot;&#123;&#123;myState.channelbendiurl&#125;&#125;&quot; ne-class=&quot;&#123;&#123;myState.bendiTstyle ? 'bendistyle' : ''&#125;&#125;&quot; ne-role=&quot;tab-nav&quot; target=&quot;&#123;&#123;myState.channelbendiurl == 'javascript:;' ? '_self' : '_blank'&#125;&#125;&quot;&gt;
 &lt;strong ne-text=&quot;&#123;&#123;myState.bendiCity&#125;&#125;&quot;&gt;&lt;/strong&gt;
 &lt;span class=&quot;nav_item_ink&quot;&gt;&lt;/span&gt;
 &lt;/a&gt;,
 &lt;a class=&quot;nav_name&quot; href=&quot;http://news.163.com/domestic/&quot; ne-role=&quot;tab-nav&quot;&gt;
                     国内
                     &lt;span class=&quot;nav_item_ink&quot;&gt;&lt;/span&gt;
 &lt;/a&gt;,
 &lt;a class=&quot;nav_name&quot; href=&quot;http://news.163.com/world/&quot; ne-role=&quot;tab-nav&quot;&gt;
                     国际
                     &lt;span class=&quot;nav_item_ink&quot;&gt;&lt;/span&gt;
 &lt;/a&gt;,
 &lt;a class=&quot;nav_name no_cursor&quot; href=&quot;javascript:;&quot; ne-role=&quot;tab-nav&quot; target=&quot;_self&quot;&gt;
                     独家
                     &lt;span class=&quot;nav_item_ink&quot;&gt;&lt;/span&gt;
 &lt;/a&gt;,
 &lt;a class=&quot;nav_name&quot; href=&quot;http://war.163.com/&quot; ne-role=&quot;tab-nav&quot;&gt;
                     军事
                     &lt;span class=&quot;nav_item_ink&quot;&gt;&lt;/span&gt;
 &lt;/a&gt;,
 &lt;a class=&quot;nav_name&quot; href=&quot;http://money.163.com/&quot; ne-role=&quot;tab-nav&quot;&gt;
                     财经
                     &lt;span class=&quot;nav_item_ink&quot;&gt;&lt;/span&gt;
 &lt;/a&gt;,
 &lt;a class=&quot;nav_name&quot; href=&quot;http://tech.163.com/&quot; ne-role=&quot;tab-nav&quot;&gt;
                     科技
                     &lt;span class=&quot;nav_item_ink&quot;&gt;&lt;/span&gt;
 &lt;/a&gt;,
 &lt;a class=&quot;more&quot; href=&quot;javascript:;&quot; ne-class=&quot;&#123;&#123;myState.morechannel ? 'more_hover': ''&#125;&#125;&quot; ne-mouseout=&quot;morehideChannel()&quot; ne-mouseover=&quot;moreShowChannel()&quot; ne-role=&quot;morebtn&quot; target=&quot;_self&quot;&gt;更多&lt;/a&gt;,
 &lt;a href=&quot;http://sports.163.com/&quot; ne-role=&quot;tab-nav&quot;&gt;体育&lt;/a&gt;,
 &lt;a href=&quot;http://ent.163.com/&quot; ne-role=&quot;tab-nav&quot;&gt;娱乐&lt;/a&gt;,
 &lt;a href=&quot;http://lady.163.com/&quot; ne-role=&quot;tab-nav&quot;&gt;时尚&lt;/a&gt;,
 &lt;a href=&quot;http://auto.163.com/&quot; ne-role=&quot;tab-nav&quot;&gt;汽车&lt;/a&gt;,
 &lt;a href=&quot;&#123;&#123;myState.channelhouseurl&#125;&#125;&quot; ne-role=&quot;tab-nav&quot;&gt;房产&lt;/a&gt;,
 &lt;a href=&quot;http://news.163.com/air/&quot; ne-role=&quot;tab-nav&quot;&gt;航空&lt;/a&gt;,
 &lt;a href=&quot;http://jiankang.163.com/&quot; ne-role=&quot;tab-nav&quot;&gt;健康&lt;/a&gt;,
 &lt;a class=&quot;newsdata_prev&quot; href=&quot;#prev&quot; ne-class=&quot;&#123;&#123;myState.fixedTop ? 'fixed_data_show': ''&#125;&#125;&quot; ne-click=&quot;tabPrevFn($event);&quot; ne-hide=&quot;&#123;&#123;myState.iPad&#125;&#125;&quot;&gt;
 &lt;span&gt;&lt;/span&gt;
 &lt;div class=&quot;newsdata_btn_name&quot;&gt;&#123;&#123;myState.preBtnName&#125;&#125;&lt;/div&gt;
 &lt;/a&gt;,
 &lt;a class=&quot;newsdata_next&quot; href=&quot;#next&quot; ne-class=&quot;&#123;&#123;myState.fixedTop ? 'fixed_data_show': ''&#125;&#125;&quot; ne-click=&quot;tabNextFn($event);&quot; ne-hide=&quot;&#123;&#123;myState.iPad&#125;&#125;&quot;&gt;
 &lt;span&gt;&lt;/span&gt;
 &lt;div class=&quot;newsdata_btn_name&quot;&gt;&#123;&#123;myState.nextBtnName&#125;&#125;&lt;/div&gt;
 &lt;/a&gt;,
 &lt;a class=&quot;load_more_btn&quot; ne-click=&quot;clickLoadMore();&quot; ne-hide=&quot;&#123;&#123;myState.counter &gt;= navList[myState.ndNavIndex].totalPage || myState.counter == 0&#125;&#125;&quot; target=&quot;_self&quot;&gt;
 &lt;div class=&quot;post_addmore&quot; ne-visible=&quot;&#123;&#123;myState.counter &lt; navList[myState.ndNavIndex].totalPage &amp;&amp; !myState.loading&#125;&#125;&quot;&gt;
 &lt;i&gt;+&lt;/i&gt;
 &lt;span&gt;加载更多&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class=&quot;post_adding&quot; ne-show=&quot;&#123;&#123;myState.loading&#125;&#125;&quot;&gt;
 &lt;i&gt;+&lt;/i&gt;
 &lt;span&gt;加载中...&lt;/span&gt;
 &lt;/div&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;http://g.163.com/a?CID=68685&amp;amp;Values=1366894002&amp;amp;Redirect=http://clk.gentags.net/clk/iv-10648/st-31/cr-2/oi-1303641/or-7535/adv-158/pcon-0/https%253A%252F%252Fent.163.com%252F19%252F0625%252F16%252FEIHG8HLF000398QL.html&quot;&gt;
 &lt;img height=&quot;400&quot; src=&quot;http://nimg.ws.126.net/?url=https://yt-adp.ws.126.net/channel21/037408_300400_axry_20190626.jpg&amp;amp;thumbnail=300x2147483647&amp;amp;quality=75&amp;amp;type=jpg&quot; width=&quot;300&quot;/&gt;
 &lt;span class=&quot;bg&quot;&gt;&lt;/span&gt;
 &lt;h3&gt;三金西瓜霜独家冠名网易封面故事&lt;/h3&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;http://news.163.com/photoview/00AP0001/2302561.html&quot;&gt;
 &lt;img height=&quot;400&quot; src=&quot;https://cms-bucket.ws.126.net/2019/06/28/e5b070c1f96349b0829da88b41105903.jpeg?imageView&amp;amp;thumbnail=300y400&quot; width=&quot;300&quot;/&gt;
 &lt;span class=&quot;bg&quot;&gt;&lt;/span&gt;
 &lt;h3&gt;浒苔绿潮开始在山东沿海登陆&lt;/h3&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;http://news.163.com/photoview/00AP0001/2302559.html&quot;&gt;
 &lt;img height=&quot;400&quot; src=&quot;https://cms-bucket.ws.126.net/2019/06/28/2792654fe66f4985879a8cc30a89a6cc.jpeg?imageView&amp;amp;thumbnail=300y400&quot; width=&quot;300&quot;/&gt;
 &lt;span class=&quot;bg&quot;&gt;&lt;/span&gt;
 &lt;h3&gt;广西南宁抓获涉传人员286名&lt;/h3&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;http://news.163.com/photoview/00AO0001/2302560.html&quot;&gt;
 &lt;img height=&quot;400&quot; src=&quot;https://cms-bucket.ws.126.net/2019/06/28/202e20527525474cac861ba7e56a2dde.jpeg?imageView&amp;amp;thumbnail=300y400&quot; width=&quot;300&quot;/&gt;
 &lt;span class=&quot;bg&quot;&gt;&lt;/span&gt;
 &lt;h3&gt;民主党初选辩论次日:拜登现身&lt;/h3&gt;
 &lt;/a&gt;,
 &lt;a class=&quot;f_prev&quot; ne-role=&quot;slide-prev&quot;&gt;&amp;lt;&lt;/a&gt;,
 &lt;a class=&quot;f_next&quot; ne-role=&quot;slide-next&quot;&gt;&amp;gt;&lt;/a&gt;,
 &lt;a href=&quot;http://baoxian.163.com/activity/act1605/index.html?from=mhds1605&quot;&gt;免费领取iPhone6s&lt;/a&gt;,
 &lt;a href=&quot;http://mall.163.com/mobile/fill.jsp?from=wwwtext&quot;&gt;手机费快充超低折扣&lt;/a&gt;,
 &lt;a href=&quot;http://baoxian.163.com/car/activitylist.html?from=mhdstbl&quot;&gt;免费送现金红包！&lt;/a&gt;,
 &lt;a href=&quot;http://piao.163.com/movie/47080.html?from=newsword&quot;&gt;镜中多奇境依旧爱丽丝&lt;/a&gt;,
 &lt;a class=&quot;tags tag_sd&quot; href=&quot;http://data.163.com/special/datablog/&quot;&gt;数读&lt;/a&gt;,
 &lt;a class=&quot;detail&quot; href=&quot;http://data.163.com/19/0626/14/EIJQJG9L000181IU.html&quot; ne-role=&quot;detail&quot;&gt;
 &lt;h3&gt;
                                 中国哪里的地铁最拥挤？
                             &lt;/h3&gt;
 &lt;div class=&quot;photo&quot;&gt;
 &lt;img alt=&quot;中国哪里的地铁最拥挤？&quot; height=&quot;90&quot; src=&quot;https://cms-bucket.ws.126.net/2019/06/26/30e8760df3044e29a18fac3514dd22b1.jpeg?imageView&amp;amp;thumbnail=200y90&quot; width=&quot;200&quot;/&gt;
 &lt;/div&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;http://data.163.com/19/0625/11/EIH0CQEK00019GOE.html&quot;&gt;娶一个潮汕老婆到底是什么体验&lt;/a&gt;,
 &lt;a href=&quot;http://data.163.com/19/0621/17/EI7BLS3600019GOE.html&quot;&gt;不瞒你说，成都早餐好吃到爆&lt;/a&gt;,
 &lt;a class=&quot;tags tag_rj&quot; href=&quot;http://renjian.163.com/&quot;&gt;人间&lt;/a&gt;,
 &lt;a class=&quot;detail&quot; href=&quot;http://renjian.163.com/19/0628/14/EIP21K41000181RV.html&quot; ne-role=&quot;detail&quot;&gt;
 &lt;h3&gt;
                                 小白作者的变现之路
                             &lt;/h3&gt;
 &lt;div class=&quot;photo&quot;&gt;
 &lt;img alt=&quot;小白作者的变现之路&quot; height=&quot;90&quot; src=&quot;https://cms-bucket.ws.126.net/2019/06/28/27f33fcbfcec4b42b6837807b7a0883f.jpeg?imageView&amp;amp;thumbnail=200y90&quot; width=&quot;200&quot;/&gt;
 &lt;/div&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;http://renjian.163.com/19/0627/16/EIML2HJO000181RV.html&quot;&gt;被毒虫男友拖下水的女大学生&lt;/a&gt;,
 &lt;a href=&quot;http://renjian.163.com/19/0626/13/EIJPJMCH000181RV.html&quot;&gt;领导，求你让我加班吧&lt;/a&gt;,
 &lt;a class=&quot;detail&quot; href=&quot;http://renjian.163.com/19/0624/14/EIEOBNCB000181RK.html&quot; ne-role=&quot;detail&quot;&gt;
 &lt;h3&gt;
                                 当不了官发不了财的读书人
                             &lt;/h3&gt;
 &lt;div class=&quot;photo&quot;&gt;
 &lt;img alt=&quot;当不了官发不了财的读书人&quot; height=&quot;90&quot; src=&quot;https://cms-bucket.ws.126.net/2019/06/24/b77e119ffeca477fa4bd2144b1fcb86c.jpeg?imageView&amp;amp;thumbnail=200y90&quot; width=&quot;200&quot;/&gt;
 &lt;/div&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;http://renjian.163.com/19/0620/16/EI4JRNO7000181RK.html&quot;&gt;四个博士，一地鸡毛&lt;/a&gt;,
 &lt;a href=&quot;http://renjian.163.com/19/0618/12/EHV0QRVG000181RK.html&quot;&gt;医闹得逞后，伤害的到底是谁&lt;/a&gt;,
 &lt;a class=&quot;detail&quot; href=&quot;https://news.163.com/19/0627/11/EIM57O490001885B.html&quot; ne-role=&quot;detail&quot;&gt;
 &lt;h3&gt;
                                 据说99%的人在图书馆一定会碰上......
                             &lt;/h3&gt;
 &lt;div class=&quot;photo&quot;&gt;
 &lt;img alt=&quot;据说99%的人在图书馆一定会碰上......&quot; height=&quot;90&quot; src=&quot;https://cms-bucket.ws.126.net/2019/06/27/06eb8f4a3d4647bf9360ff5e71f003b8.png?imageView&amp;amp;thumbnail=200y90&quot; width=&quot;200&quot;/&gt;
 &lt;/div&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;https://news.163.com/19/0626/15/EIK0IJT40001885B.html&quot;&gt;我可能，得了种，前任病&lt;/a&gt;,
 &lt;a href=&quot;https://news.163.com/19/0617/09/EHS57H4L0001885B.html&quot;&gt;那些KO不掉我的,最终成了我的OK&lt;/a&gt;,
 &lt;a class=&quot;detail&quot; href=&quot;https://news.163.com/19/0628/11/EIOL94760001885B.html&quot; ne-role=&quot;detail&quot;&gt;
 &lt;h3&gt;
                                 直男幼稚行为大赏
                             &lt;/h3&gt;
 &lt;div class=&quot;photo&quot;&gt;
 &lt;img alt=&quot;直男幼稚行为大赏&quot; height=&quot;90&quot; src=&quot;https://cms-bucket.ws.126.net/2019/06/28/0b3890cd2f4b473fa0127b5e33ae6ccf.png?imageView&amp;amp;thumbnail=200y90&quot; width=&quot;200&quot;/&gt;
 &lt;/div&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;https://news.163.com/19/0624/12/EIEFGMVL0001885B.html&quot;&gt;打个赌，爱情友情你分不清楚&lt;/a&gt;,
 &lt;a href=&quot;https://news.163.com/19/0621/12/EI6NKDTU0001885B.html&quot;&gt;不会唱歌的人进 KTV 以后有多惨&lt;/a&gt;,
 &lt;a class=&quot;detail&quot; href=&quot;https://news.163.com/19/0628/19/EIPIQT4O000181BR.html&quot; ne-role=&quot;detail&quot;&gt;
 &lt;h3&gt;
                                 彩票一直都不中，我却忍不住要买
                             &lt;/h3&gt;
 &lt;div class=&quot;photo&quot;&gt;
 &lt;img alt=&quot;彩票一直都不中，我却忍不住要买&quot; height=&quot;90&quot; src=&quot;https://cms-bucket.ws.126.net/2019/06/28/f44265c5b4ef4a11a99eedbde7c49833.png?imageView&amp;amp;thumbnail=200y90&quot; width=&quot;200&quot;/&gt;
 &lt;/div&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;https://news.163.com/19/0627/17/EIMPGJAU000181BR.html&quot;&gt;原来&quot;神仙眷侣&quot;离婚,也是一地鸡毛&lt;/a&gt;,
 &lt;a href=&quot;https://news.163.com/19/0626/18/EIK95RV0000181BR.html&quot;&gt;我宣布，北大清华这对CP锁死了！&lt;/a&gt;,
 &lt;a class=&quot;detail&quot; href=&quot;http://caozhi.news.163.com/19/0623/22/EID0CBIH000181TI.html&quot; ne-role=&quot;detail&quot;&gt;
 &lt;h3&gt;
                                 佟丽娅，这次你赢了
                             &lt;/h3&gt;
 &lt;div class=&quot;photo&quot;&gt;
 &lt;img alt=&quot;佟丽娅，这次你赢了&quot; height=&quot;90&quot; src=&quot;https://cms-bucket.ws.126.net/2019/06/23/67d24242d479451ea705e26296187f78.jpeg?imageView&amp;amp;thumbnail=200y90&quot; width=&quot;200&quot;/&gt;
 &lt;/div&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;http://caozhi.news.163.com/19/0623/15/EIC9LGSP000181TI.html&quot;&gt;千万别在深夜点开这神作&lt;/a&gt;,
 &lt;a href=&quot;http://caozhi.news.163.com/19/0618/19/EHVRID7G000181TI.html&quot;&gt;那个发“嗯”的人，已被踢出群聊&lt;/a&gt;,
 &lt;a class=&quot;detail&quot; href=&quot;https://news.163.com/19/0628/17/EIPCOKEA0001982T.html&quot; ne-role=&quot;detail&quot;&gt;
 &lt;h3&gt;
                                 王宝强母亲去世：来日方长是人生的错觉
                             &lt;/h3&gt;
 &lt;div class=&quot;photo&quot;&gt;
 &lt;img alt=&quot;王宝强母亲去世：来日方长是人生的错觉&quot; height=&quot;90&quot; src=&quot;https://cms-bucket.ws.126.net/2019/06/28/ecd0de8b8dc0402da72d814bde76f06e.jpeg?imageView&amp;amp;thumbnail=200y90&quot; width=&quot;200&quot;/&gt;
 &lt;/div&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;https://news.163.com/19/0627/13/EIMC0EDH0001982T.html&quot;&gt;宋仲基宋慧乔离婚：再美的爱情也会过期&lt;/a&gt;,
 &lt;a href=&quot;https://news.163.com/19/0626/17/EIK6AD550001982T.html&quot;&gt;杨紫冰箱藏药，戳穿最怂瞬间&lt;/a&gt;,
 &lt;a class=&quot;tags tag_kanke&quot; href=&quot;http://renjian.163.com/special/renjian_kanke/&quot;&gt;看客&lt;/a&gt;,
 &lt;a class=&quot;detail&quot; href=&quot;http://renjian.163.com/19/0628/11/EIOMK185000199ET.html&quot; ne-role=&quot;detail&quot;&gt;
 &lt;h3&gt;
                                 我奶茶都戒了，日本人才知道它的好
                             &lt;/h3&gt;
 &lt;div class=&quot;photo&quot;&gt;
 &lt;img alt=&quot;我奶茶都戒了，日本人才知道它的好&quot; height=&quot;90&quot; src=&quot;https://cms-bucket.ws.126.net/2019/06/28/f35eceb8d111496693e8f77a71a49cba.png?imageView&amp;amp;thumbnail=200y90&quot; width=&quot;200&quot;/&gt;
 &lt;/div&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;http://renjian.163.com/19/0620/11/EI43PM8Q000199ET.html&quot;&gt;美国堕胎残酷物语&lt;/a&gt;,
 &lt;a href=&quot;http://renjian.163.com/19/0613/11/EHI39FML000199ET.html&quot;&gt;跑腿小哥提供的十万种服务&lt;/a&gt;,
 &lt;a class=&quot;tags tag_stpwd&quot; href=&quot;http://jiankang.163.com/special/zhutierji/?type=3&quot;&gt;身体密码&lt;/a&gt;,
 &lt;a class=&quot;detail&quot; href=&quot;https://jiankang.163.com/19/0625/11/EIH061CM0038804G.html&quot; ne-role=&quot;detail&quot;&gt;
 &lt;h3&gt;
                                 防晒，99%的人都做错了……
                             &lt;/h3&gt;
 &lt;div class=&quot;photo&quot;&gt;
 &lt;img alt=&quot;防晒，99%的人都做错了……&quot; height=&quot;90&quot; src=&quot;https://cms-bucket.ws.126.net/2019/06/25/f260b6843fca4702bb5e4e316600f113.png?imageView&amp;amp;thumbnail=200y90&quot; width=&quot;200&quot;/&gt;
 &lt;/div&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;https://jiankang.163.com/19/0617/14/EHSN7PPV0038804G.html&quot;&gt;当代人减肥：迈不过25岁这道坎&lt;/a&gt;,
 &lt;a href=&quot;https://jiankang.163.com/19/0608/15/EH5J9IGA00388AD5.html&quot;&gt;多年后 无数中年人仍会被高考吓醒&lt;/a&gt;,
 &lt;a class=&quot;ad_hover_href&quot; href=&quot;javascript:;&quot; target=&quot;_self&quot;&gt;&lt;/a&gt;,
 &lt;a class=&quot;title&quot; href=&quot;https://open.163.com/&quot;&gt;网易公开课&lt;/a&gt;,
 &lt;a href=&quot;https://vip.open.163.com/courses/2698?p=xs_yt01&quot;&gt;
 &lt;img height=&quot;436&quot; src=&quot;https://cms-bucket.ws.126.net/2019/06/26/b2ef8c1d0fed49078cb104f94c9f253e.jpeg&quot; width=&quot;280&quot;/&gt;
 &lt;span class=&quot;bg&quot;&gt;&lt;/span&gt;
 &lt;h3&gt;他凭什么甩开同龄人，做职场前5%？&lt;/h3&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;https://vip.open.163.com/courses/2249?p=xs_yt02&quot;&gt;
 &lt;img height=&quot;436&quot; src=&quot;https://cms-bucket.ws.126.net/2019/06/27/ffa8db82492446c88efe2d540ed64d6a.jpeg&quot; width=&quot;280&quot;/&gt;
 &lt;span class=&quot;bg&quot;&gt;&lt;/span&gt;
 &lt;h3&gt;一个人成熟的标志：与负面情绪和解&lt;/h3&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;https://vip.open.163.com/courses/1078?p=xs_yt03&quot;&gt;
 &lt;img height=&quot;436&quot; src=&quot;https://cms-bucket.ws.126.net/2019/06/26/893a6ecab816408cb5971de6ec236dde.jpeg&quot; width=&quot;280&quot;/&gt;
 &lt;span class=&quot;bg&quot;&gt;&lt;/span&gt;
 &lt;h3&gt;情商高的人，走到哪儿都大受欢迎&lt;/h3&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;https://vip.open.163.com/courses/2019?p=xs_yt04&quot;&gt;
 &lt;img height=&quot;436&quot; src=&quot;https://cms-bucket.ws.126.net/2019/06/26/f48048d211e44c889e241e545b29a000.jpeg&quot; width=&quot;280&quot;/&gt;
 &lt;span class=&quot;bg&quot;&gt;&lt;/span&gt;
 &lt;h3&gt;每天5分钟，告别办公室综合症&lt;/h3&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;http://news.163.com/special/&quot;&gt;新闻专题&lt;/a&gt;,
 &lt;a href=&quot;http://news.163.com/special/2019qglh/&quot;&gt;
 &lt;img alt=&quot;2019年全国两会&quot; height=&quot;90&quot; src=&quot;https://cms-bucket.ws.126.net/2019/03/07/c8134391d38245dc849b99fbf1ce33b0.png?imageView&amp;amp;thumbnail=300y90&quot; width=&quot;300&quot;/&gt;
 &lt;/a&gt;,
 &lt;a href=&quot;http://news.163.com/special/2019qglh/&quot;&gt;2019年全国两会&lt;/a&gt;,
 &lt;a href=&quot;http://news.163.com/special/zghj70/&quot;&gt;海军成立70周年&lt;/a&gt;,
 &lt;a href=&quot;http://news.163.com/special/chunyun_2019/&quot;&gt;2019年春运春节&lt;/a&gt;,
 &lt;a href=&quot;http://news.163.com/special/chang_e4/&quot;&gt;嫦娥四号登月&lt;/a&gt;,
 &lt;a href=&quot;http://cms-bucket.ws.126.net/2019/06/26/080a0e9f8b014dd5b261f9e988f7f7f9.jpeg&quot;&gt;声明&lt;/a&gt;,
 &lt;a href=&quot;http://news.163.com/special/00011269/gdmore.html&quot;&gt;高层动态&lt;/a&gt;,
 &lt;a href=&quot;https://news.163.com/19/0628/11/EIOL0214000189FH.html&quot;&gt;习近平会见联合国秘书长古特雷斯&lt;/a&gt;,
 &lt;a href=&quot;https://news.163.com/19/0620/14/EI4ESVV9000189FH.html&quot;&gt;习近平抵达平壤 开始对朝鲜进行国事访问&lt;/a&gt;,
 &lt;a class=&quot;ad_hover_href&quot; href=&quot;javascript:;&quot; target=&quot;_self&quot;&gt;&lt;/a&gt;,
 &lt;a href=&quot;http://war.163.com/&quot;&gt;军事&lt;/a&gt;,
 &lt;a href=&quot;http://news.163.com/air/&quot;&gt;航空&lt;/a&gt;,
 &lt;a href=&quot;http://war.163.com/photoview/4T8E0001/2301528.html&quot;&gt;
 &lt;/a&gt;]
</code></pre><blockquote>
<p>参考：</p>
</blockquote>
<ol>
<li><a class="link"   href="https://www.julyedu.com/course/getDetail/66/" >廖雪峰Python数据分析<i class="fas fa-external-link-alt"></i></a></li>
</ol>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
  </entry>
</search>
